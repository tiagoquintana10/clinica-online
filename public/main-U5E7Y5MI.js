import{a as D,b as $,c as Ht,d as yw,e as _w,f as y,h as cp,i as up,l as ww,m as dp}from"./chunk-PZ5UXJ7I.js";var Ah=Ht(Th=>{"use strict";Object.defineProperty(Th,"__esModule",{value:!0});var xh=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}};Th.default=xh});var Nh=Ht(is=>{"use strict";var T_=is&&is.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(is,"__esModule",{value:!0});var Bx=T_((dp(),_w(ww))),$x=T_(Ah()),Oh=class{constructor(n){this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=n.headers,this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=n.shouldThrowOnError,this.signal=n.signal,this.isMaybeSingle=n.isMaybeSingle,n.fetch?this.fetch=n.fetch:typeof fetch>"u"?this.fetch=Bx.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=Object.assign({},this.headers),this.headers[n]=t,this}then(n,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>y(this,null,function*(){var s,a,l;let c=null,u=null,d=null,m=o.status,f=o.statusText;if(o.ok){if(this.method!=="HEAD"){let x=yield o.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=x:u=JSON.parse(x))}let b=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),E=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");b&&E&&E.length>1&&(d=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,m=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{let b=yield o.text();try{c=JSON.parse(b),Array.isArray(c)&&o.status===404&&(u=[],c=null,m=200,f="OK")}catch{o.status===404&&b===""?(m=204,f="No Content"):c={message:b}}if(c&&this.isMaybeSingle&&(!((l=c?.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,m=200,f="OK"),c&&this.shouldThrowOnError)throw new $x.default(c)}return{error:c,data:u,count:d,status:m,statusText:f}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l;return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:`${(a=o?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(n,t)}returns(){return this}overrideTypes(){return this}};is.default=Oh});var Ph=Ht(os=>{"use strict";var Hx=os&&os.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(os,"__esModule",{value:!0});var zx=Hx(Nh()),Rh=class extends zx.default{select(n){let t=!1,r=(n??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:t=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${n}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:r=t}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${n}`),this}range(n,t,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${n}`),this.url.searchParams.set(s,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let l=[n?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`,s==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};os.default=Rh});var mc=Ht(ss=>{"use strict";var qx=ss&&ss.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ss,"__esModule",{value:!0});var Gx=qx(Ph()),kh=class extends Gx.default{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}in(n,t){let r=Array.from(new Set(t)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(n,`${o}fts${s}.${t}`),this}match(n){return Object.entries(n).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(n,t,r){return this.url.searchParams.append(n,`not.${t}.${r}`),this}or(n,{foreignTable:t,referencedTable:r=t}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${n})`),this}filter(n,t,r){return this.url.searchParams.append(n,`${t}.${r}`),this}};ss.default=kh});var Lh=Ht(ls=>{"use strict";var Wx=ls&&ls.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ls,"__esModule",{value:!0});var as=Wx(mc()),Fh=class{constructor(n,{headers:t={},schema:r,fetch:i}){this.url=n,this.headers=t,this.schema=r,this.fetch=i}select(n,{head:t=!1,count:r}={}){let i=t?"HEAD":"GET",o=!1,s=(n??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new as.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:t,defaultToNull:r=!0}={}){let i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),t&&o.push(`count=${t}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(n)){let s=n.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new as.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){let s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(n)){let l=n.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){let c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new as.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:t}={}){let r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),this.headers.Prefer=i.join(","),new as.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){let t="DELETE",r=[];return n&&r.push(`count=${n}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new as.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ls.default=Fh});var A_=Ht(vc=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});vc.version=void 0;vc.version="0.0.0-automated"});var O_=Ht(yc=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});yc.DEFAULT_HEADERS=void 0;var Zx=A_();yc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Zx.version}`}});var R_=Ht(cs=>{"use strict";var N_=cs&&cs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cs,"__esModule",{value:!0});var Kx=N_(Lh()),Yx=N_(mc()),Qx=O_(),jh=class e{constructor(n,{headers:t={},schema:r,fetch:i}={}){this.url=n,this.headers=Object.assign(Object.assign({},Qx.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=i}from(n){let t=new URL(`${this.url}/${n}`);return new Kx.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new e(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,t={},{head:r=!1,get:i=!1,count:o}={}){let s,a=new URL(`${this.url}/rpc/${n}`),l;r||i?(s=r?"HEAD":"GET",Object.entries(t).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(s="POST",l=t);let c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new Yx.default({method:s,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};cs.default=jh});var U_=Ht(Be=>{"use strict";var Vi=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Be,"__esModule",{value:!0});Be.PostgrestError=Be.PostgrestBuilder=Be.PostgrestTransformBuilder=Be.PostgrestFilterBuilder=Be.PostgrestQueryBuilder=Be.PostgrestClient=void 0;var P_=Vi(R_());Be.PostgrestClient=P_.default;var k_=Vi(Lh());Be.PostgrestQueryBuilder=k_.default;var F_=Vi(mc());Be.PostgrestFilterBuilder=F_.default;var L_=Vi(Ph());Be.PostgrestTransformBuilder=L_.default;var j_=Vi(Nh());Be.PostgrestBuilder=j_.default;var V_=Vi(Ah());Be.PostgrestError=V_.default;Be.default={PostgrestClient:P_.default,PostgrestQueryBuilder:k_.default,PostgrestFilterBuilder:F_.default,PostgrestTransformBuilder:L_.default,PostgrestBuilder:j_.default,PostgrestError:V_.default}});var z_=Ht((o2,H_)=>{"use strict";H_.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}});function fu(e,n){return Object.is(e,n)}var Pe=null,Vs=!1,hu=1,pt=Symbol("SIGNAL");function Y(e){let n=Pe;return Pe=e,n}function pu(){return Pe}var eo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function to(e){if(Vs)throw new Error("");if(Pe===null)return;Pe.consumerOnSignalRead(e);let n=Pe.nextProducerIndex++;if(Hs(Pe),n<Pe.producerNode.length&&Pe.producerNode[n]!==e&&Xi(Pe)){let t=Pe.producerNode[n];$s(t,Pe.producerIndexOfThis[n])}Pe.producerNode[n]!==e&&(Pe.producerNode[n]=e,Pe.producerIndexOfThis[n]=Xi(Pe)?hp(e,Pe,n):0),Pe.producerLastReadVersion[n]=e.version}function fp(){hu++}function gu(e){if(!(Xi(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===hu)){if(!e.producerMustRecompute(e)&&!_u(e)){du(e);return}e.producerRecomputeValue(e),du(e)}}function mu(e){if(e.liveConsumerNode===void 0)return;let n=Vs;Vs=!0;try{for(let t of e.liveConsumerNode)t.dirty||bw(t)}finally{Vs=n}}function vu(){return Pe?.consumerAllowSignalWrites!==!1}function bw(e){e.dirty=!0,mu(e),e.consumerMarkedDirty?.(e)}function du(e){e.dirty=!1,e.lastCleanEpoch=hu}function Bs(e){return e&&(e.nextProducerIndex=0),Y(e)}function yu(e,n){if(Y(n),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Xi(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)$s(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function _u(e){Hs(e);for(let n=0;n<e.producerNode.length;n++){let t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(gu(t),r!==t.version))return!0}return!1}function wu(e){if(Hs(e),Xi(e))for(let n=0;n<e.producerNode.length;n++)$s(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function hp(e,n,t){if(pp(e),e.liveConsumerNode.length===0&&gp(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=hp(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(n)-1}function $s(e,n){if(pp(e),e.liveConsumerNode.length===1&&gp(e))for(let r=0;r<e.producerNode.length;r++)$s(e.producerNode[r],e.producerIndexOfThis[r]);let t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[n],i=e.liveConsumerNode[n];Hs(i),i.producerIndexOfThis[r]=n}}function Xi(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Hs(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function pp(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function gp(e){return e.producerNode!==void 0}function bu(e,n){let t=Object.create(Cw);t.computation=e,n!==void 0&&(t.equal=n);let r=()=>{if(gu(t),to(t),t.value===Us)throw t.error;return t.value};return r[pt]=t,r}var cu=Symbol("UNSET"),uu=Symbol("COMPUTING"),Us=Symbol("ERRORED"),Cw=$(D({},eo),{value:cu,dirty:!0,error:null,equal:fu,kind:"computed",producerMustRecompute(e){return e.value===cu||e.value===uu},producerRecomputeValue(e){if(e.value===uu)throw new Error("Detected cycle in computations.");let n=e.value;e.value=uu;let t=Bs(e),r,i=!1;try{r=e.computation(),Y(null),i=n!==cu&&n!==Us&&r!==Us&&e.equal(n,r)}catch(o){r=Us,e.error=o}finally{yu(e,t)}if(i){e.value=n;return}e.value=r,e.version++}});function Dw(){throw new Error}var mp=Dw;function vp(e){mp(e)}function Cu(e){mp=e}var Ew=null;function Du(e,n){let t=Object.create(zs);t.value=e,n!==void 0&&(t.equal=n);let r=()=>(to(t),t.value);return r[pt]=t,r}function no(e,n){vu()||vp(e),e.equal(e.value,n)||(e.value=n,Iw(e))}function Eu(e,n){vu()||vp(e),no(e,n(e.value))}var zs=$(D({},eo),{equal:fu,value:void 0,kind:"signal"});function Iw(e){e.version++,fp(),mu(e),Ew?.()}function Iu(e){let n=Y(null);try{return e()}finally{Y(n)}}var Su;function ro(){return Su}function gn(e){let n=Su;return Su=e,n}var qs=Symbol("NotFound");function j(e){return typeof e=="function"}function Hr(e){let t=e(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Gs=Hr(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function io(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var Me=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(j(r))try{r()}catch(o){n=o instanceof Gs?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{yp(o)}catch(s){n=n??[],s instanceof Gs?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Gs(n)}}add(n){var t;if(n&&n!==this)if(this.closed)yp(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&io(t,n)}remove(n){let{_finalizers:t}=this;t&&io(t,n),n instanceof e&&n._removeParent(this)}};Me.EMPTY=(()=>{let e=new Me;return e.closed=!0,e})();var Mu=Me.EMPTY;function Ws(e){return e instanceof Me||e&&"closed"in e&&j(e.remove)&&j(e.add)&&j(e.unsubscribe)}function yp(e){j(e)?e():e.unsubscribe()}var Rt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var zr={setTimeout(e,n,...t){let{delegate:r}=zr;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=zr;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Zs(e){zr.setTimeout(()=>{let{onUnhandledError:n}=Rt;if(n)n(e);else throw e})}function oo(){}var _p=xu("C",void 0,void 0);function wp(e){return xu("E",void 0,e)}function bp(e){return xu("N",e,void 0)}function xu(e,n,t){return{kind:e,value:n,error:t}}var nr=null;function qr(e){if(Rt.useDeprecatedSynchronousErrorHandling){let n=!nr;if(n&&(nr={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:r}=nr;if(nr=null,t)throw r}}else e()}function Cp(e){Rt.useDeprecatedSynchronousErrorHandling&&nr&&(nr.errorThrown=!0,nr.error=e)}var rr=class extends Me{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Ws(n)&&n.add(this)):this.destination=Ow}static create(n,t,r){return new Gr(n,t,r)}next(n){this.isStopped?Au(bp(n),this):this._next(n)}error(n){this.isStopped?Au(wp(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Au(_p,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Tw=Function.prototype.bind;function Tu(e,n){return Tw.call(e,n)}var Ou=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){Ks(r)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){Ks(r)}else Ks(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Ks(t)}}},Gr=class extends rr{constructor(n,t,r){super();let i;if(j(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Rt.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&Tu(n.next,o),error:n.error&&Tu(n.error,o),complete:n.complete&&Tu(n.complete,o)}):i=n}this.destination=new Ou(i)}};function Ks(e){Rt.useDeprecatedSynchronousErrorHandling?Cp(e):Zs(e)}function Aw(e){throw e}function Au(e,n){let{onStoppedNotification:t}=Rt;t&&zr.setTimeout(()=>t(e,n))}var Ow={closed:!0,next:oo,error:Aw,complete:oo};var Wr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ct(e){return e}function Nu(...e){return Ru(e)}function Ru(e){return e.length===0?ct:e.length===1?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}var re=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=Rw(t)?t:new Gr(t,r,i);return qr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Dp(r),new r((i,o)=>{let s=new Gr({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Wr](){return this}pipe(...t){return Ru(t)(this)}toPromise(t){return t=Dp(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=n=>new e(n),e})();function Dp(e){var n;return(n=e??Rt.Promise)!==null&&n!==void 0?n:Promise}function Nw(e){return e&&j(e.next)&&j(e.error)&&j(e.complete)}function Rw(e){return e&&e instanceof rr||Nw(e)&&Ws(e)}function Pu(e){return j(e?.lift)}function ee(e){return n=>{if(Pu(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Q(e,n,t,r,i){return new ku(e,n,t,r,i)}var ku=class extends rr{constructor(n,t,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function Zr(){return ee((e,n)=>{let t=null;e._refCount++;let r=Q(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let i=e._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}var Kr=class extends re{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Pu(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Me;let t=this.getSubject();n.add(this.source.subscribe(Q(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Me.EMPTY)}return n}refCount(){return Zr()(this)}};var Ep=Hr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var xe=(()=>{class e extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Ys(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Ep}next(t){qr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){qr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){qr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Mu:(this.currentObservers=null,o.push(t),new Me(()=>{this.currentObservers=null,io(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new re;return t.source=this,t}}return e.create=(n,t)=>new Ys(n,t),e})(),Ys=class extends xe{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,n)}error(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&r!==void 0?r:Mu}};var je=class extends xe{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var Ye=new re(e=>e.complete());function Ip(e){return e&&j(e.schedule)}function Sp(e){return e[e.length-1]}function Qs(e){return j(Sp(e))?e.pop():void 0}function kn(e){return Ip(Sp(e))?e.pop():void 0}function xp(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})}function Mp(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function ir(e){return this instanceof ir?(this.v=e,this):new ir(e)}function Tp(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(_){return Promise.resolve(_).then(f,d)}}function a(f,_){r[f]&&(i[f]=function(b){return new Promise(function(E,x){o.push([f,b,E,x])>1||l(f,b)})},_&&(i[f]=_(i[f])))}function l(f,_){try{c(r[f](_))}catch(b){m(o[0][3],b)}}function c(f){f.value instanceof ir?Promise.resolve(f.value.v).then(u,d):m(o[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function m(f,_){f(_),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Ap(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof Mp=="function"?Mp(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var Js=e=>e&&typeof e.length=="number"&&typeof e!="function";function Xs(e){return j(e?.then)}function ea(e){return j(e[Wr])}function ta(e){return Symbol.asyncIterator&&j(e?.[Symbol.asyncIterator])}function na(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Pw(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ra=Pw();function ia(e){return j(e?.[ra])}function oa(e){return Tp(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:r,done:i}=yield ir(t.read());if(i)return yield ir(void 0);yield yield ir(r)}}finally{t.releaseLock()}})}function sa(e){return j(e?.getReader)}function Te(e){if(e instanceof re)return e;if(e!=null){if(ea(e))return kw(e);if(Js(e))return Fw(e);if(Xs(e))return Lw(e);if(ta(e))return Op(e);if(ia(e))return jw(e);if(sa(e))return Vw(e)}throw na(e)}function kw(e){return new re(n=>{let t=e[Wr]();if(j(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Fw(e){return new re(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function Lw(e){return new re(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Zs)})}function jw(e){return new re(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function Op(e){return new re(n=>{Uw(e,n).catch(t=>n.error(t))})}function Vw(e){return Op(oa(e))}function Uw(e,n){var t,r,i,o;return xp(this,void 0,void 0,function*(){try{for(t=Ap(e);r=yield t.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}n.complete()})}function Qe(e,n,t,r=0,i=!1){let o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function aa(e,n=0){return ee((t,r)=>{t.subscribe(Q(r,i=>Qe(r,e,()=>r.next(i),n),()=>Qe(r,e,()=>r.complete(),n),i=>Qe(r,e,()=>r.error(i),n)))})}function la(e,n=0){return ee((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function Np(e,n){return Te(e).pipe(la(n),aa(n))}function Rp(e,n){return Te(e).pipe(la(n),aa(n))}function Pp(e,n){return new re(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}function kp(e,n){return new re(t=>{let r;return Qe(t,n,()=>{r=e[ra](),Qe(t,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>j(r?.return)&&r.return()})}function ca(e,n){if(!e)throw new Error("Iterable cannot be null");return new re(t=>{Qe(t,n,()=>{let r=e[Symbol.asyncIterator]();Qe(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Fp(e,n){return ca(oa(e),n)}function Lp(e,n){if(e!=null){if(ea(e))return Np(e,n);if(Js(e))return Pp(e,n);if(Xs(e))return Rp(e,n);if(ta(e))return ca(e,n);if(ia(e))return kp(e,n);if(sa(e))return Fp(e,n)}throw na(e)}function me(e,n){return n?Lp(e,n):Te(e)}function k(...e){let n=kn(e);return me(e,n)}function Yr(e,n){let t=j(e)?e:()=>e,r=i=>i.error(t());return new re(n?i=>n.schedule(r,0,i):r)}function Fu(e){return!!e&&(e instanceof re||j(e.lift)&&j(e.subscribe))}var mn=Hr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function J(e,n){return ee((t,r)=>{let i=0;t.subscribe(Q(r,o=>{r.next(e.call(n,o,i++))}))})}var{isArray:Bw}=Array;function $w(e,n){return Bw(n)?e(...n):e(n)}function ua(e){return J(n=>$w(e,n))}var{isArray:Hw}=Array,{getPrototypeOf:zw,prototype:qw,keys:Gw}=Object;function da(e){if(e.length===1){let n=e[0];if(Hw(n))return{args:n,keys:null};if(Ww(n)){let t=Gw(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}function Ww(e){return e&&typeof e=="object"&&zw(e)===qw}function fa(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}function so(...e){let n=kn(e),t=Qs(e),{args:r,keys:i}=da(e);if(r.length===0)return me([],n);let o=new re(Zw(r,n,i?s=>fa(i,s):ct));return t?o.pipe(ua(t)):o}function Zw(e,n,t=ct){return r=>{jp(n,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)jp(n,()=>{let c=me(e[l],n),u=!1;c.subscribe(Q(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function jp(e,n,t){e?Qe(t,e,n):n()}function Vp(e,n,t,r,i,o,s,a){let l=[],c=0,u=0,d=!1,m=()=>{d&&!l.length&&!c&&n.complete()},f=b=>c<r?_(b):l.push(b),_=b=>{o&&n.next(b),c++;let E=!1;Te(t(b,u++)).subscribe(Q(n,x=>{i?.(x),o?f(x):n.next(x)},()=>{E=!0},void 0,()=>{if(E)try{for(c--;l.length&&c<r;){let x=l.shift();s?Qe(n,s,()=>_(x)):_(x)}m()}catch(x){n.error(x)}}))};return e.subscribe(Q(n,f,()=>{d=!0,m()})),()=>{a?.()}}function be(e,n,t=1/0){return j(n)?be((r,i)=>J((o,s)=>n(r,o,i,s))(Te(e(r,i))),t):(typeof n=="number"&&(t=n),ee((r,i)=>Vp(r,i,e,t)))}function Qr(e=1/0){return be(ct,e)}function Up(){return Qr(1)}function Jr(...e){return Up()(me(e,kn(e)))}function ha(e){return new re(n=>{Te(e()).subscribe(n)})}function Lu(...e){let n=Qs(e),{args:t,keys:r}=da(e),i=new re(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;Te(t[u]).subscribe(Q(o,m=>{d||(d=!0,c--),a[u]=m},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?fa(r,a):a),o.complete())}))}});return n?i.pipe(ua(n)):i}function $e(e,n){return ee((t,r)=>{let i=0;t.subscribe(Q(r,o=>e.call(n,o,i++)&&r.next(o)))})}function vn(e){return ee((n,t)=>{let r=null,i=!1,o;r=n.subscribe(Q(t,void 0,void 0,s=>{o=Te(e(s,vn(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Bp(e,n,t,r,i){return(o,s)=>{let a=t,l=n,c=0;o.subscribe(Q(s,u=>{let d=c++;l=a?e(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Fn(e,n){return j(n)?be(e,n,1):be(e,1)}function Ln(e){return ee((n,t)=>{let r=!1;n.subscribe(Q(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function yn(e){return e<=0?()=>Ye:ee((n,t)=>{let r=0;n.subscribe(Q(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function pa(e=Kw){return ee((n,t)=>{let r=!1;n.subscribe(Q(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function Kw(){return new mn}function ao(e){return ee((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function _n(e,n){let t=arguments.length>=2;return r=>r.pipe(e?$e((i,o)=>e(i,o,r)):ct,yn(1),t?Ln(n):pa(()=>new mn))}function Xr(e){return e<=0?()=>Ye:ee((n,t)=>{let r=[];n.subscribe(Q(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function ju(e,n){let t=arguments.length>=2;return r=>r.pipe(e?$e((i,o)=>e(i,o,r)):ct,Xr(1),t?Ln(n):pa(()=>new mn))}function Vu(e,n){return ee(Bp(e,n,arguments.length>=2,!0))}function Uu(...e){let n=kn(e);return ee((t,r)=>{(n?Jr(e,t,n):Jr(e,t)).subscribe(r)})}function gt(e,n){return ee((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Q(r,l=>{i?.unsubscribe();let c=0,u=o++;Te(e(l,u)).subscribe(i=Q(r,d=>r.next(n?n(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Bu(e){return ee((n,t)=>{Te(e).subscribe(Q(t,()=>t.complete(),oo)),!t.closed&&n.subscribe(t)})}function Ve(e,n,t){let r=j(e)||n||t?{next:e,error:n,complete:t}:e;return r?ee((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Q(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):ct}var Ag="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",S=class extends Error{code;constructor(n,t){super(Og(n,t)),this.code=n}};function Yw(e){return`NG0${Math.abs(e)}`}function Og(e,n){return`${Yw(e)}${n?": "+n:""}`}var Ng=Symbol("InputSignalNode#UNSET"),Qw=$(D({},zs),{transformFn:void 0,applyValueToInputSignal(e,n){no(e,n)}});function Rg(e,n){let t=Object.create(Qw);t.value=e,t.transformFn=n?.transform;function r(){if(to(t),t.value===Ng){let i=null;throw new S(-950,i)}return t.value}return r[pt]=t,r}function yo(e){return{toString:e}.toString()}var ga="__parameters__";function Jw(e){return function(...t){if(e){let r=e(...t);for(let i in r)this[i]=r[i]}}}function Pg(e,n,t){return yo(()=>{let r=Jw(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(ga)?l[ga]:Object.defineProperty(l,ga,{value:[]})[ga];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var sr=globalThis;function ue(e){for(let n in e)if(e[n]===ue)return n;throw Error("Could not find renamed property on target object.")}function Xw(e,n){for(let t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Xe(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Xe).join(", ")}]`;if(e==null)return""+e;let n=e.overriddenName||e.name;if(n)return`${n}`;let t=e.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function $p(e,n){return e?n?`${e} ${n}`:e:n||""}var eb=ue({__forward_ref__:ue});function bt(e){return e.__forward_ref__=bt,e.toString=function(){return Xe(this())},e}function qe(e){return kg(e)?e():e}function kg(e){return typeof e=="function"&&e.hasOwnProperty(eb)&&e.__forward_ref__===bt}function N(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Dn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ka(e){return Hp(e,Lg)||Hp(e,jg)}function Fg(e){return Ka(e)!==null}function Hp(e,n){return e.hasOwnProperty(n)?e[n]:null}function tb(e){let n=e&&(e[Lg]||e[jg]);return n||null}function zp(e){return e&&(e.hasOwnProperty(qp)||e.hasOwnProperty(nb))?e[qp]:null}var Lg=ue({\u0275prov:ue}),qp=ue({\u0275inj:ue}),jg=ue({ngInjectableDef:ue}),nb=ue({ngInjectorDef:ue}),T=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=N({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Vg(e){return e&&!!e.\u0275providers}var rb=ue({\u0275cmp:ue}),ib=ue({\u0275dir:ue}),ob=ue({\u0275pipe:ue}),sb=ue({\u0275mod:ue}),Da=ue({\u0275fac:ue}),fo=ue({__NG_ELEMENT_ID__:ue}),Gp=ue({__NG_ENV_ID__:ue});function wn(e){return typeof e=="string"?e:e==null?"":String(e)}function ab(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():wn(e)}function Ug(e,n){throw new S(-200,e)}function zd(e,n){throw new S(-201,!1)}var B=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(B||{}),nd;function Bg(){return nd}function Je(e){let n=nd;return nd=e,n}function $g(e,n,t){let r=Ka(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&B.Optional)return null;if(n!==void 0)return n;zd(e,"Injector")}var lb={},ar=lb,rd="__NG_DI_FLAG__",Ea=class{injector;constructor(n){this.injector=n}retrieve(n,t){let r=t;return this.injector.get(n,r.optional?qs:ar,r)}},Ia="ngTempTokenPath",cb="ngTokenPath",ub=/\n/gm,db="\u0275",Wp="__source";function fb(e,n=B.Default){if(ro()===void 0)throw new S(-203,!1);if(ro()===null)return $g(e,void 0,n);{let t=ro(),r;return t instanceof Ea?r=t.injector:r=t,r.get(e,n&B.Optional?null:void 0,n)}}function F(e,n=B.Default){return(Bg()||fb)(qe(e),n)}function C(e,n=B.Default){return F(e,Ya(n))}function Ya(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function id(e){let n=[];for(let t=0;t<e.length;t++){let r=qe(e[t]);if(Array.isArray(r)){if(r.length===0)throw new S(900,!1);let i,o=B.Default;for(let s=0;s<r.length;s++){let a=r[s],l=hb(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}n.push(F(i,o))}else n.push(F(r))}return n}function Hg(e,n){return e[rd]=n,e.prototype[rd]=n,e}function hb(e){return e[rd]}function pb(e,n,t,r){let i=e[Ia];throw n[Wp]&&i.unshift(n[Wp]),e.message=gb(`
`+e.message,i,t,r),e[cb]=i,e[Ia]=null,e}function gb(e,n,t,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==db?e.slice(2):e;let i=Xe(n);if(Array.isArray(n))i=n.map(Xe).join(" -> ");else if(typeof n=="object"){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Xe(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(ub,`
  `)}`}var mb=Hg(Pg("Optional"),8);var vb=Hg(Pg("SkipSelf"),4);function cr(e,n){let t=e.hasOwnProperty(Da);return t?e[Da]:null}function qd(e,n){e.forEach(t=>Array.isArray(t)?qd(t,n):n(t))}function zg(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Sa(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function yb(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(i===1)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;){let o=i-2;e[i]=e[o],i--}e[n]=t,e[n+1]=r}}function _b(e,n,t){let r=_o(e,n);return r>=0?e[r|1]=t:(r=~r,yb(e,r,n,t)),r}function $u(e,n){let t=_o(e,n);if(t>=0)return e[t|1]}function _o(e,n){return wb(e,n,1)}function wb(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<t];if(n===s)return o<<t;s>n?i=o:r=o+1}return~(i<<t)}var ur={},mt=[],ho=new T(""),qg=new T("",-1),Gg=new T(""),Ma=class{get(n,t=ar){if(t===ar){let r=new Error(`NullInjectorError: No provider for ${Xe(n)}!`);throw r.name="NullInjectorError",r}return t}};function Wg(e,n){let t=e[sb]||null;if(!t&&n===!0)throw new Error(`Type ${Xe(e)} does not have '\u0275mod' property.`);return t}function dr(e){return e[rb]||null}function bb(e){return e[ib]||null}function Cb(e){return e[ob]||null}function Qa(e){return{\u0275providers:e}}function Db(...e){return{\u0275providers:Zg(!0,e),\u0275fromNgModule:!0}}function Zg(e,...n){let t=[],r=new Set,i,o=s=>{t.push(s)};return qd(n,s=>{let a=s;od(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Kg(i,o),t}function Kg(e,n){for(let t=0;t<e.length;t++){let{ngModule:r,providers:i}=e[t];Gd(i,o=>{n(o,r)})}}function od(e,n,t,r){if(e=qe(e),!e)return!1;let i=null,o=zp(e),s=!o&&dr(e);if(!o&&!s){let l=e.ngModule;if(o=zp(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)od(c,n,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{qd(o.imports,u=>{od(u,n,t,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&Kg(c,n)}if(!a){let c=cr(i)||(()=>new i);n({provide:i,useFactory:c,deps:mt},i),n({provide:Gg,useValue:i,multi:!0},i),n({provide:ho,useValue:()=>F(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=e;Gd(l,u=>{n(u,c)})}}else return!1;return i!==e&&e.providers!==void 0}function Gd(e,n){for(let t of e)Vg(t)&&(t=t.\u0275providers),Array.isArray(t)?Gd(t,n):n(t)}var Eb=ue({provide:String,useValue:ue});function Yg(e){return e!==null&&typeof e=="object"&&Eb in e}function Ib(e){return!!(e&&e.useExisting)}function Sb(e){return!!(e&&e.useFactory)}function si(e){return typeof e=="function"}function Mb(e){return!!e.useClass}var Ja=new T(""),ya={},Zp={},Hu;function Wd(){return Hu===void 0&&(Hu=new Ma),Hu}var et=class{},po=class extends et{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,ad(n,s=>this.processProvider(s)),this.records.set(qg,ei(void 0,this)),i.has("environment")&&this.records.set(et,ei(void 0,this));let o=this.records.get(Ja);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Gg,mt,B.Self))}retrieve(n,t){let r=t;return this.get(n,r.optional?qs:ar,r)}destroy(){co(this),this._destroyed=!0;let n=Y(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Y(n)}}onDestroy(n){return co(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){co(this);let t=gn(this),r=Je(void 0),i;try{return n()}finally{gn(t),Je(r)}}get(n,t=ar,r=B.Default){if(co(this),n.hasOwnProperty(Gp))return n[Gp](this);r=Ya(r);let i,o=gn(this),s=Je(void 0);try{if(!(r&B.SkipSelf)){let l=this.records.get(n);if(l===void 0){let c=Nb(n)&&Ka(n);c&&this.injectableDefInScope(c)?l=ei(sd(n),ya):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l,r)}let a=r&B.Self?Wd():this.parent;return t=r&B.Optional&&t===ar?null:t,a.get(n,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Ia]=a[Ia]||[]).unshift(Xe(n)),o)throw a;return pb(a,n,"R3InjectorError",this.source)}else throw a}finally{Je(s),gn(o)}}resolveInjectorInitializers(){let n=Y(null),t=gn(this),r=Je(void 0),i;try{let o=this.get(ho,mt,B.Self);for(let s of o)s()}finally{gn(t),Je(r),Y(n)}}toString(){let n=[],t=this.records;for(let r of t.keys())n.push(Xe(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=qe(n);let t=si(n)?n:qe(n&&n.provide),r=Tb(n);if(!si(n)&&n.multi===!0){let i=this.records.get(t);i||(i=ei(void 0,ya,!0),i.factory=()=>id(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t,r){let i=Y(null);try{return t.value===Zp?Ug(Xe(n)):t.value===ya&&(t.value=Zp,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&Ob(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Y(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=qe(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function sd(e){let n=Ka(e),t=n!==null?n.factory:cr(e);if(t!==null)return t;if(e instanceof T)throw new S(204,!1);if(e instanceof Function)return xb(e);throw new S(204,!1)}function xb(e){if(e.length>0)throw new S(204,!1);let t=tb(e);return t!==null?()=>t.factory(e):()=>new e}function Tb(e){if(Yg(e))return ei(void 0,e.useValue);{let n=Qg(e);return ei(n,ya)}}function Qg(e,n,t){let r;if(si(e)){let i=qe(e);return cr(i)||sd(i)}else if(Yg(e))r=()=>qe(e.useValue);else if(Sb(e))r=()=>e.useFactory(...id(e.deps||[]));else if(Ib(e))r=(i,o)=>F(qe(e.useExisting),o!==void 0&&o&B.Optional?B.Optional:void 0);else{let i=qe(e&&(e.useClass||e.provide));if(Ab(e))r=()=>new i(...id(e.deps));else return cr(i)||sd(i)}return r}function co(e){if(e.destroyed)throw new S(205,!1)}function ei(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function Ab(e){return!!e.deps}function Ob(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function Nb(e){return typeof e=="function"||typeof e=="object"&&e instanceof T}function ad(e,n){for(let t of e)Array.isArray(t)?ad(t,n):t&&Vg(t)?ad(t.\u0275providers,n):n(t)}function Ct(e,n){let t;e instanceof po?(co(e),t=e):t=new Ea(e);let r,i=gn(t),o=Je(void 0);try{return n()}finally{gn(i),Je(o)}}function Jg(){return Bg()!==void 0||ro()!=null}function Rb(e){if(!Jg())throw new S(-203,!1)}function Pb(e){return typeof e=="function"}var En=0,X=1,V=2,Ge=3,kt=4,Ft=5,xa=6,Ta=7,tt=8,ai=9,bn=10,De=11,go=12,Kp=13,vi=14,qt=15,li=16,ti=17,ci=18,Xa=19,Xg=20,jn=21,zu=22,Aa=23,vt=24,ii=25,_t=26,em=1;var fr=7,Oa=8,Na=9,yt=10;function Vn(e){return Array.isArray(e)&&typeof e[em]=="object"}function In(e){return Array.isArray(e)&&e[em]===!0}function Zd(e){return(e.flags&4)!==0}function yi(e){return e.componentOffset>-1}function el(e){return(e.flags&1)===1}function Gt(e){return!!e.template}function Ra(e){return(e[V]&512)!==0}function _i(e){return(e[V]&256)===256}var ld=class{previousValue;currentValue;firstChange;constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function tm(e,n,t,r){n!==null?n.applyValueToInputSignal(n,r):e[t]=r}var Bn=(()=>{let e=()=>nm;return e.ngInherit=!0,e})();function nm(e){return e.type.prototype.ngOnChanges&&(e.setInput=Fb),kb}function kb(){let e=im(this),n=e?.current;if(n){let t=e.previous;if(t===ur)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function Fb(e,n,t,r,i){let o=this.declaredInputs[r],s=im(e)||Lb(e,{previous:ur,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new ld(c&&c.currentValue,t,l===ur),tm(e,n,i,t)}var rm="__ngSimpleChanges__";function im(e){return e[rm]||null}function Lb(e,n){return e[rm]=n}var Yp=null;var se=function(e,n=null,t){Yp?.(e,n,t)},jb="svg",Vb="math";function Wt(e){for(;Array.isArray(e);)e=e[En];return e}function om(e,n){return Wt(n[e])}function Qt(e,n){return Wt(n[e.index])}function sm(e,n){return e.data[n]}function Ub(e,n){return e[n]}function Bb(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}function Zt(e,n){let t=n[e];return Vn(t)?t:t[En]}function Kd(e){return(e[V]&128)===128}function $b(e){return In(e[Ge])}function ui(e,n){return n==null?null:e[n]}function am(e){e[ti]=0}function lm(e){e[V]&1024||(e[V]|=1024,Kd(e)&&wo(e))}function Hb(e,n){for(;e>0;)n=n[vi],e--;return n}function tl(e){return!!(e[V]&9216||e[vt]?.dirty)}function cd(e){e[bn].changeDetectionScheduler?.notify(8),e[V]&64&&(e[V]|=1024),tl(e)&&wo(e)}function wo(e){e[bn].changeDetectionScheduler?.notify(0);let n=hr(e);for(;n!==null&&!(n[V]&8192||(n[V]|=8192,!Kd(n)));)n=hr(n)}function cm(e,n){if(_i(e))throw new S(911,!1);e[jn]===null&&(e[jn]=[]),e[jn].push(n)}function zb(e,n){if(e[jn]===null)return;let t=e[jn].indexOf(n);t!==-1&&e[jn].splice(t,1)}function hr(e){let n=e[Ge];return In(n)?n[Ge]:n}function um(e){return e[Ta]??=[]}function dm(e){return e.cleanup??=[]}var z={lFrame:wm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var ud=!1;function qb(){return z.lFrame.elementDepthCount}function Gb(){z.lFrame.elementDepthCount++}function Wb(){z.lFrame.elementDepthCount--}function Yd(){return z.bindingsEnabled}function Zb(){return z.skipHydrationRootTNode!==null}function Kb(e){return z.skipHydrationRootTNode===e}function Yb(){z.skipHydrationRootTNode=null}function te(){return z.lFrame.lView}function Ue(){return z.lFrame.tView}function A(e){return z.lFrame.contextLView=e,e[tt]}function O(e){return z.lFrame.contextLView=null,e}function We(){let e=fm();for(;e!==null&&e.type===64;)e=e.parent;return e}function fm(){return z.lFrame.currentTNode}function Qb(){let e=z.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function yr(e,n){let t=z.lFrame;t.currentTNode=e,t.isParent=n}function Qd(){return z.lFrame.isParent}function hm(){z.lFrame.isParent=!1}function pm(){return ud}function Qp(e){let n=ud;return ud=e,n}function gm(){let e=z.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function mm(){return z.lFrame.bindingIndex}function Jb(e){return z.lFrame.bindingIndex=e}function nl(){return z.lFrame.bindingIndex++}function Jd(e){let n=z.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function Xb(){return z.lFrame.inI18n}function eC(e,n){let t=z.lFrame;t.bindingIndex=t.bindingRootIndex=e,dd(n)}function tC(){return z.lFrame.currentDirectiveIndex}function dd(e){z.lFrame.currentDirectiveIndex=e}function nC(e){let n=z.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function vm(e){z.lFrame.currentQueryIndex=e}function rC(e){let n=e[X];return n.type===2?n.declTNode:n.type===1?e[Ft]:null}function ym(e,n,t){if(t&B.SkipSelf){let i=n,o=e;for(;i=i.parent,i===null&&!(t&B.Host);)if(i=rC(o),i===null||(o=o[vi],i.type&10))break;if(i===null)return!1;n=i,e=o}let r=z.lFrame=_m();return r.currentTNode=n,r.lView=e,!0}function Xd(e){let n=_m(),t=e[X];z.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function _m(){let e=z.lFrame,n=e===null?null:e.child;return n===null?wm(e):n}function wm(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function bm(){let e=z.lFrame;return z.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Cm=bm;function ef(){let e=bm();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function iC(e){return(z.lFrame.contextLView=Hb(e,z.lFrame.contextLView))[tt]}function $n(){return z.lFrame.selectedIndex}function pr(e){z.lFrame.selectedIndex=e}function rl(){let e=z.lFrame;return sm(e.tView,e.selectedIndex)}function oC(){return z.lFrame.currentNamespace}var Dm=!0;function il(){return Dm}function ol(e){Dm=e}function sC(e,n,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){let s=nm(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function tf(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),l&&(e.viewHooks??=[]).push(-t,l),c&&((e.viewHooks??=[]).push(t,c),(e.viewCheckHooks??=[]).push(t,c)),u!=null&&(e.destroyHooks??=[]).push(t,u)}}function _a(e,n,t){Em(e,n,3,t)}function wa(e,n,t,r){(e[V]&3)===t&&Em(e,n,t,r)}function qu(e,n){let t=e[V];(t&3)===n&&(t&=16383,t+=1,e[V]=t)}function Em(e,n,t,r){let i=r!==void 0?e[ti]&65535:0,o=r??-1,s=n.length-1,a=0;for(let l=i;l<s;l++)if(typeof n[l+1]=="number"){if(a=n[l],r!=null&&a>=r)break}else n[l]<0&&(e[ti]+=65536),(a<o||o==-1)&&(aC(e,t,n,l),e[ti]=(e[ti]&4294901760)+l+2),l++}function Jp(e,n){se(4,e,n);let t=Y(null);try{n.call(e)}finally{Y(t),se(5,e,n)}}function aC(e,n,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=e[s];i?e[V]>>14<e[ti]>>16&&(e[V]&3)===n&&(e[V]+=16384,Jp(a,o)):Jp(a,o)}var oi=-1,gr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,r){this.factory=n,this.canSeeViewProviders=t,this.injectImpl=r}};function lC(e){return(e.flags&8)!==0}function cC(e){return(e.flags&16)!==0}function uC(e,n,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,o)}else{let o=i,s=t[++r];dC(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),r++}}return r}function Im(e){return e===3||e===4||e===6}function dC(e){return e.charCodeAt(0)===64}function di(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){let i=n[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Xp(e,t,i,null,n[++r]):Xp(e,t,i,null,null))}}return e}function Xp(e,n,t,r,i){let o=0,s=e.length;if(n===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===t){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),i!==null&&e.splice(o++,0,i)}function Sm(e){return e!==oi}function Pa(e){return e&32767}function fC(e){return e>>16}function ka(e,n){let t=fC(e),r=n;for(;t>0;)r=r[vi],t--;return r}var fd=!0;function Fa(e){let n=fd;return fd=e,n}var hC=256,Mm=hC-1,xm=5,pC=0,zt={};function gC(e,n,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(fo)&&(r=t[fo]),r==null&&(r=t[fo]=pC++);let i=r&Mm,o=1<<i;n.data[e+(i>>xm)]|=o}function La(e,n){let t=Tm(e,n);if(t!==-1)return t;let r=n[X];r.firstCreatePass&&(e.injectorIndex=n.length,Gu(r.data,e),Gu(n,null),Gu(r.blueprint,null));let i=nf(e,n),o=e.injectorIndex;if(Sm(i)){let s=Pa(i),a=ka(i,n),l=a[X].data;for(let c=0;c<8;c++)n[o+c]=a[s+c]|l[s+c]}return n[o+8]=i,o}function Gu(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Tm(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function nf(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;i!==null;){if(r=Pm(i),r===null)return oi;if(t++,i=i[vi],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return oi}function hd(e,n,t){gC(e,n,t)}function mC(e,n){if(n==="class")return e.classes;if(n==="style")return e.styles;let t=e.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(Im(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===n)return t[i+1];i=i+2}}}return null}function Am(e,n,t){if(t&B.Optional||e!==void 0)return e;zd(n,"NodeInjector")}function Om(e,n,t,r){if(t&B.Optional&&r===void 0&&(r=null),(t&(B.Self|B.Host))===0){let i=e[ai],o=Je(void 0);try{return i?i.get(n,r,t&B.Optional):$g(n,r,t&B.Optional)}finally{Je(o)}}return Am(r,n,t)}function Nm(e,n,t,r=B.Default,i){if(e!==null){if(n[V]&2048&&!(r&B.Self)){let s=bC(e,n,t,r,zt);if(s!==zt)return s}let o=Rm(e,n,t,r,zt);if(o!==zt)return o}return Om(n,t,r,i)}function Rm(e,n,t,r,i){let o=_C(t);if(typeof o=="function"){if(!ym(n,e,r))return r&B.Host?Am(i,t,r):Om(n,t,r,i);try{let s;if(s=o(r),s==null&&!(r&B.Optional))zd(t);else return s}finally{Cm()}}else if(typeof o=="number"){let s=null,a=Tm(e,n),l=oi,c=r&B.Host?n[qt][Ft]:null;for((a===-1||r&B.SkipSelf)&&(l=a===-1?nf(e,n):n[a+8],l===oi||!tg(r,!1)?a=-1:(s=n[X],a=Pa(l),n=ka(l,n)));a!==-1;){let u=n[X];if(eg(o,a,u.data)){let d=vC(a,n,t,s,r,c);if(d!==zt)return d}l=n[a+8],l!==oi&&tg(r,n[X].data[a+8]===c)&&eg(o,a,n)?(s=u,a=Pa(l),n=ka(l,n)):a=-1}}return i}function vC(e,n,t,r,i,o){let s=n[X],a=s.data[e+8],l=r==null?yi(a)&&fd:r!=s&&(a.type&3)!==0,c=i&B.Host&&o===a,u=yC(a,s,t,l,c);return u!==null?ja(n,s,u,a,i):zt}function yC(e,n,t,r,i){let o=e.providerIndexes,s=n.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,u=o>>20,d=r?a:a+u,m=i?a+u:c;for(let f=d;f<m;f++){let _=s[f];if(f<l&&t===_||f>=l&&_.type===t)return f}if(i){let f=s[l];if(f&&Gt(f)&&f.type===t)return l}return null}function ja(e,n,t,r,i){let o=e[t],s=n.data;if(o instanceof gr){let a=o;a.resolving&&Ug(ab(s[t]));let l=Fa(a.canSeeViewProviders);a.resolving=!0;let c,u=a.injectImpl?Je(a.injectImpl):null,d=ym(e,r,B.Default);try{o=e[t]=a.factory(void 0,i,s,e,r),n.firstCreatePass&&t>=r.directiveStart&&sC(t,s[t],n)}finally{u!==null&&Je(u),Fa(l),a.resolving=!1,Cm()}}return o}function _C(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(fo)?e[fo]:void 0;return typeof n=="number"?n>=0?n&Mm:wC:n}function eg(e,n,t){let r=1<<e;return!!(t[n+(e>>xm)]&r)}function tg(e,n){return!(e&B.Self)&&!(e&B.Host&&n)}var lr=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return Nm(this._tNode,this._lView,n,Ya(r),t)}};function wC(){return new lr(We(),te())}function Lt(e){return yo(()=>{let n=e.prototype.constructor,t=n[Da]||pd(n),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[Da]||pd(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function pd(e){return kg(e)?()=>{let n=pd(qe(e));return n&&n()}:cr(e)}function bC(e,n,t,r,i){let o=e,s=n;for(;o!==null&&s!==null&&s[V]&2048&&!Ra(s);){let a=Rm(o,s,t,r|B.Self,zt);if(a!==zt)return a;let l=o.parent;if(!l){let c=s[Xg];if(c){let u=c.get(t,zt,r);if(u!==zt)return u}l=Pm(s),s=s[vi]}o=l}return i}function Pm(e){let n=e[X],t=n.type;return t===2?n.declTNode:t===1?e[Ft]:null}function rf(e){return mC(We(),e)}function ng(e,n=null,t=null,r){let i=km(e,n,t,r);return i.resolveInjectorInitializers(),i}function km(e,n=null,t=null,r,i=new Set){let o=[t||mt,Db(e)];return r=r||(typeof e=="object"?void 0:Xe(e)),new po(o,n||Wd(),r||null,i)}var wt=class e{static THROW_IF_NOT_FOUND=ar;static NULL=new Ma;static create(n,t){if(Array.isArray(n))return ng({name:""},t,n,"");{let r=n.name??"";return ng({name:r},n.parent,n.providers,r)}}static \u0275prov=N({token:e,providedIn:"any",factory:()=>F(qg)});static __NG_ELEMENT_ID__=-1};var CC=new T("");CC.__NG_ELEMENT_ID__=e=>{let n=We();if(n===null)throw new S(204,!1);if(n.type&2)return n.value;if(e&B.Optional)return null;throw new S(204,!1)};var Fm=!1,bo=(()=>{class e{static __NG_ELEMENT_ID__=DC;static __NG_ENV_ID__=t=>t}return e})(),gd=class extends bo{_lView;constructor(n){super(),this._lView=n}onDestroy(n){let t=this._lView;return _i(t)?(n(),()=>{}):(cm(t,n),()=>zb(t,n))}};function DC(){return new gd(te())}var fi=class{},of=new T("",{providedIn:"root",factory:()=>!1});var Lm=new T(""),jm=new T(""),wi=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new je(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=N({token:e,providedIn:"root",factory:()=>new e})}return e})();var md=class extends xe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,Jg()&&(this.destroyRef=C(bo,{optional:!0})??void 0,this.pendingTasks=C(wi,{optional:!0})??void 0)}emit(n){let t=Y(null);try{super.next(n)}finally{Y(t)}}subscribe(n,t,r){let i=n,o=t||(()=>null),s=r;if(n&&typeof n=="object"){let l=n;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return n instanceof Me&&n.add(a),a}wrapInTimeout(n){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},ke=md;function Va(...e){}function Vm(e){let n,t;function r(){e=Va;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function rg(e){return queueMicrotask(()=>e()),()=>{e=Va}}var sf="isAngularZone",Ua=sf+"_ID",EC=0,Ce=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ke(!1);onMicrotaskEmpty=new ke(!1);onStable=new ke(!1);onError=new ke(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Fm}=n;if(typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,MC(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(sf)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new S(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,IC,Va,Va);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}},IC={};function af(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function SC(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){Vm(()=>{e.callbackScheduled=!1,vd(e),e.isCheckStableRunning=!0,af(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),vd(e)}function MC(e){let n=()=>{SC(e)},t=EC++;e._inner=e._inner.fork({name:"angular",properties:{[sf]:!0,[Ua]:t,[Ua+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(xC(l))return r.invokeTask(o,s,a,l);try{return ig(e),r.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),og(e)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return ig(e),r.invoke(o,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!TC(l)&&n(),og(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,vd(e),af(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function vd(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function ig(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function og(e){e._nesting--,af(e)}var yd=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ke;onMicrotaskEmpty=new ke;onStable=new ke;onError=new ke;run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}};function xC(e){return Um(e,"__ignore_ng_zone__")}function TC(e){return Um(e,"__scheduler_tick__")}function Um(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var Kt=class{_console=console;handleError(n){this._console.error("ERROR",n)}},AC=new T("",{providedIn:"root",factory:()=>{let e=C(Ce),n=C(Kt);return t=>e.runOutsideAngular(()=>n.handleError(t))}});function sg(e,n){return Rg(e,n)}function OC(e){return Rg(Ng,e)}var Bm=(sg.required=OC,sg);function NC(){return sl(We(),te())}function sl(e,n){return new Jt(Qt(e,n))}var Jt=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=NC}return e})();function RC(e){return typeof e=="function"&&e[pt]!==void 0}function Co(e,n){let t=Du(e,n?.equal),r=t[pt];return t.set=i=>no(r,i),t.update=i=>Eu(r,i),t.asReadonly=PC.bind(t),t}function PC(){let e=this[pt];if(e.readonlyFn===void 0){let n=()=>this();n[pt]=e,e.readonlyFn=n}return e.readonlyFn}function $m(e){return RC(e)&&typeof e.set=="function"}function Hm(e){return(e.flags&128)===128}var zm=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(zm||{}),qm=new Map,kC=0;function FC(){return kC++}function LC(e){qm.set(e[Xa],e)}function _d(e){qm.delete(e[Xa])}var ag="__ngContext__";function bi(e,n){Vn(n)?(e[ag]=n[Xa],LC(n)):e[ag]=n}function Gm(e){return Zm(e[go])}function Wm(e){return Zm(e[kt])}function Zm(e){for(;e!==null&&!In(e);)e=e[kt];return e}var wd;function Km(e){wd=e}function jC(){if(wd!==void 0)return wd;if(typeof document<"u")return document;throw new S(210,!1)}var lf=new T("",{providedIn:"root",factory:()=>VC}),VC="ng",cf=new T(""),Ci=new T("",{providedIn:"platform",factory:()=>"unknown"});var uf=new T("",{providedIn:"root",factory:()=>jC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var UC="h",BC="b";var Ym=!1,$C=new T("",{providedIn:"root",factory:()=>Ym});var df=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(df||{}),Di=new T(""),lg=new Set;function Ei(e){lg.has(e)||(lg.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Qm=(()=>{class e{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=HC}return e})();function HC(){return new Qm(te(),We())}var ni=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(ni||{}),Jm=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=N({token:e,providedIn:"root",factory:()=>new e})}return e})(),zC=[ni.EarlyRead,ni.Write,ni.MixedReadWrite,ni.Read],qC=(()=>{class e{ngZone=C(Ce);scheduler=C(fi);errorHandler=C(Kt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){C(Di,{optional:!0})}execute(){let t=this.sequences.size>0;t&&se(16),this.executing=!0;for(let r of zC)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&se(17)}register(t){let{view:r}=t;r!==void 0?((r[ii]??=[]).push(t),wo(r),r[V]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(df.AFTER_NEXT_RENDER,t):t()}static \u0275prov=N({token:e,providedIn:"root",factory:()=>new e})}return e})(),bd=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,t,r,i,o,s=null){this.impl=n,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[ii];n&&(this.view[ii]=n.filter(t=>t!==this))}};function ff(e,n){!n?.injector&&Rb(ff);let t=n?.injector??C(wt);return Ei("NgAfterNextRender"),WC(e,t,n,!0)}function GC(e,n){if(e instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[n]=e,t}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function WC(e,n,t,r){let i=n.get(Jm);i.impl??=n.get(qC);let o=n.get(Di,null,{optional:!0}),s=t?.phase??ni.MixedReadWrite,a=t?.manualCleanup!==!0?n.get(bo):null,l=n.get(Qm,null,{optional:!0}),c=new bd(i.impl,GC(e,s),l?.view,r,a,o?.snapshot(null));return i.impl.register(c),c}var ZC=(e,n,t,r)=>{};function KC(e,n,t,r){ZC(e,n,t,r)}var YC=()=>null;function Xm(e,n,t=!1){return YC(e,n,t)}function ev(e,n){let t=e.contentQueries;if(t!==null){let r=Y(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=e.data[s];vm(o),a.contentQueries(2,n[s],s)}}}finally{Y(r)}}}function Cd(e,n,t){vm(0);let r=Y(null);try{n(e,t)}finally{Y(r)}}function hf(e,n,t){if(Zd(n)){let r=Y(null);try{let i=n.directiveStart,o=n.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{Y(r)}}}var Yt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Yt||{});var ma;function QC(){if(ma===void 0&&(ma=null,sr.trustedTypes))try{ma=sr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ma}function cg(e){return QC()?.createScriptURL(e)||e}var Ba=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ag})`}};function al(e){return e instanceof Ba?e.changingThisBreaksApplicationSecurity:e}function tv(e,n){let t=JC(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${Ag})`)}return t===n}function JC(e){return e instanceof Ba&&e.getTypeName()||null}var XC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function eD(e){return e=String(e),e.match(XC)?e:"unsafe:"+e}var pf=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(pf||{});function ll(e){let n=rv();return n?n.sanitize(pf.URL,e)||"":tv(e,"URL")?al(e):eD(wn(e))}function tD(e){let n=rv();if(n)return cg(n.sanitize(pf.RESOURCE_URL,e)||"");if(tv(e,"ResourceURL"))return cg(al(e));throw new S(904,!1)}function nD(e,n){return n==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||n==="href"&&(e==="base"||e==="link")?tD:ll}function nv(e,n,t){return nD(n,t)(e)}function rv(){let e=te();return e&&e[bn].sanitizer}var rD=/^>|^->|<!--|-->|--!>|<!-$/g,iD=/(<|>)/g,oD="\u200B$1\u200B";function sD(e){return e.replace(rD,n=>n.replace(iD,oD))}function iv(e){return e instanceof Function?e():e}function aD(e,n,t){let r=e.length;for(;;){let i=e.indexOf(n,t);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}var ov="ng-template";function lD(e,n,t,r){let i=0;if(r){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&aD(n[i+1].toLowerCase(),t,0)!==-1)return!0}else if(gf(e))return!1;if(i=n.indexOf(1,i),i>-1){let o;for(;++i<n.length&&typeof(o=n[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function gf(e){return e.type===4&&e.value!==ov}function cD(e,n,t){let r=e.type===4&&!t?ov:e.value;return n===r}function uD(e,n,t){let r=4,i=e.attrs,o=i!==null?hD(i):0,s=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!s&&!Pt(r)&&!Pt(l))return!1;if(s&&Pt(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!cD(e,l,t)||l===""&&n.length===1){if(Pt(r))return!1;s=!0}}else if(r&8){if(i===null||!lD(e,i,l,t)){if(Pt(r))return!1;s=!0}}else{let c=n[++a],u=dD(l,i,gf(e),t);if(u===-1){if(Pt(r))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(Pt(r))return!1;s=!0}}}}return Pt(r)||s}function Pt(e){return(e&1)===0}function dD(e,n,t,r){if(n===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){let s=n[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++i];for(;typeof a=="string";)a=n[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return pD(n,e)}function fD(e,n,t=!1){for(let r=0;r<n.length;r++)if(uD(e,n[r],t))return!0;return!1}function hD(e){for(let n=0;n<e.length;n++){let t=e[n];if(Im(t))return n}return e.length}function pD(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let r=e[t];if(typeof r=="number")return-1;if(r===n)return t;t++}return-1}function ug(e,n){return e?":not("+n.trim()+")":n}function gD(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(r&2){let a=e[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Pt(s)&&(n+=ug(o,i),i=""),r=s,o=o||!Pt(r);t++}return i!==""&&(n+=ug(o,i)),n}function mD(e){return e.map(gD).join(",")}function vD(e){let n=[],t=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&n.push(o,e[++r]):i===8&&t.push(o);else{if(!Pt(i))break;i=o}r++}return t.length&&n.push(1,...t),n}var ut={};function yD(e,n){return e.createText(n)}function _D(e,n,t){e.setValue(n,t)}function wD(e,n){return e.createComment(sD(n))}function sv(e,n,t){return e.createElement(n,t)}function $a(e,n,t,r,i){e.insertBefore(n,t,r,i)}function av(e,n,t){e.appendChild(n,t)}function dg(e,n,t,r,i){r!==null?$a(e,n,t,r,i):av(e,n,t)}function bD(e,n,t){e.removeChild(null,n,t)}function CD(e,n,t){e.setAttribute(n,"style",t)}function DD(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function lv(e,n,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&uC(e,n,r),i!==null&&DD(e,n,i),o!==null&&CD(e,n,o)}function mf(e,n,t,r,i,o,s,a,l,c,u){let d=_t+r,m=d+i,f=ED(d,m),_=typeof c=="function"?c():c;return f[X]={type:e,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:n,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:_,incompleteFirstPass:!1,ssrId:u}}function ED(e,n){let t=[];for(let r=0;r<n;r++)t.push(r<e?null:ut);return t}function ID(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=mf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function vf(e,n,t,r,i,o,s,a,l,c,u){let d=n.blueprint.slice();return d[En]=i,d[V]=r|4|128|8|64|1024,(c!==null||e&&e[V]&2048)&&(d[V]|=2048),am(d),d[Ge]=d[vi]=e,d[tt]=t,d[bn]=s||e&&e[bn],d[De]=a||e&&e[De],d[ai]=l||e&&e[ai]||null,d[Ft]=o,d[Xa]=FC(),d[xa]=u,d[Xg]=c,d[qt]=n.type==2?e[qt]:d,d}function SD(e,n,t){let r=Qt(n,e),i=ID(t),o=e[bn].rendererFactory,s=yf(e,vf(e,i,null,cv(t),r,n,null,o.createRenderer(r,t),null,null,null));return e[n.index]=s}function cv(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function uv(e,n,t,r){if(t===0)return-1;let i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function yf(e,n){return e[go]?e[Kp][kt]=n:e[go]=n,e[Kp]=n,n}function v(e=1){dv(Ue(),te(),$n()+e,!1)}function dv(e,n,t,r){if(!r)if((n[V]&3)===3){let o=e.preOrderCheckHooks;o!==null&&_a(n,o,t)}else{let o=e.preOrderHooks;o!==null&&wa(n,o,0,t)}pr(t)}var cl=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(cl||{});function Dd(e,n,t,r){let i=Y(null);try{let[o,s,a]=e.inputs[t],l=null;(s&cl.SignalBased)!==0&&(l=n[o][pt]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(n,r)),e.setInput!==null?e.setInput(n,l,r,t,o):tm(n,l,o,r)}finally{Y(i)}}function fv(e,n,t,r,i){let o=$n(),s=r&2;try{pr(-1),s&&n.length>_t&&dv(e,n,_t,!1),se(s?2:0,i),t(r,i)}finally{pr(o),se(s?3:1,i)}}function ul(e,n,t){ND(e,n,t),(t.flags&64)===64&&RD(e,n,t)}function _f(e,n,t=Qt){let r=n.localNames;if(r!==null){let i=n.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(n,e):e[s];e[i++]=a}}}function MD(e,n,t,r){let o=r.get($C,Ym)||t===Yt.ShadowDom,s=e.selectRootElement(n,o);return xD(s),s}function xD(e){TD(e)}var TD=()=>null;function AD(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function wf(e,n,t,r,i,o,s,a){if(!a&&Cf(n,e,t,r,i)){yi(n)&&OD(t,n.index);return}if(n.type&3){let l=Qt(n,t);r=AD(r),i=s!=null?s(i,n.value||"",r):i,o.setProperty(l,r,i)}else n.type&12}function OD(e,n){let t=Zt(n,e);t[V]&16||(t[V]|=64)}function ND(e,n,t){let r=t.directiveStart,i=t.directiveEnd;yi(t)&&SD(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||La(t,n);let o=t.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],l=ja(n,e,s,t);if(bi(l,n),o!==null&&LD(n,s-r,l,a,t,o),Gt(a)){let c=Zt(t.index,n);c[tt]=ja(n,e,s,t)}}}function RD(e,n,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=tC();try{pr(o);for(let a=r;a<i;a++){let l=e.data[a],c=n[a];dd(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&PD(l,c)}}finally{pr(-1),dd(s)}}function PD(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function bf(e,n){let t=e.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];fD(n,o.selectors,!1)&&(r??=[],Gt(o)?r.unshift(o):r.push(o))}return r}function kD(e,n,t,r,i,o){let s=Qt(e,n);FD(n[De],s,o,e.value,t,r,i)}function FD(e,n,t,r,i,o,s){if(o==null)e.removeAttribute(n,i,t);else{let a=s==null?wn(o):s(o,r||"",i);e.setAttribute(n,i,a,t)}}function LD(e,n,t,r,i,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];Dd(r,t,l,c)}}function jD(e,n){let t=e[ai],r=t?t.get(Kt,null):null;r&&r.handleError(n)}function Cf(e,n,t,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],d=n.data[c];Dd(d,t[c],u,i),a=!0}if(o)for(let l of o){let c=t[l],u=n.data[l];Dd(u,c,r,i),a=!0}return a}function VD(e,n){let t=Zt(n,e),r=t[X];UD(r,t);let i=t[En];i!==null&&t[xa]===null&&(t[xa]=Xm(i,t[ai])),se(18),Df(r,t,t[tt]),se(19,t[tt])}function UD(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function Df(e,n,t){Xd(n);try{let r=e.viewQuery;r!==null&&Cd(1,r,t);let i=e.template;i!==null&&fv(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[ci]?.finishViewCreation(e),e.staticContentQueries&&ev(e,n),e.staticViewQueries&&Cd(2,e.viewQuery,t);let o=e.components;o!==null&&BD(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[V]&=-5,ef()}}function BD(e,n){for(let t=0;t<n.length;t++)VD(e,n[t])}function $D(e,n,t,r){let i=Y(null);try{let o=n.tView,a=e[V]&4096?4096:16,l=vf(e,o,t,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=e[n.index];l[li]=c;let u=e[ci];return u!==null&&(l[ci]=u.createEmbeddedView(o)),Df(o,l,t),l}finally{Y(i)}}function fg(e,n){return!n||n.firstChild===null||Hm(e)}var HD;function Ef(e,n){return HD(e,n)}var Cn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Cn||{});function hv(e){return(e.flags&32)===32}function ri(e,n,t,r,i){if(r!=null){let o,s=!1;In(r)?o=r:Vn(r)&&(s=!0,r=r[En]);let a=Wt(r);e===0&&t!==null?i==null?av(n,t,a):$a(n,t,a,i||null,!0):e===1&&t!==null?$a(n,t,a,i||null,!0):e===2?bD(n,a,s):e===3&&n.destroyNode(a),o!=null&&tE(n,e,o,t,i)}}function zD(e,n){pv(e,n),n[En]=null,n[Ft]=null}function qD(e,n,t,r,i,o){r[En]=i,r[Ft]=n,fl(e,r,t,1,i,o)}function pv(e,n){n[bn].changeDetectionScheduler?.notify(9),fl(e,n,n[De],2,null,null)}function GD(e){let n=e[go];if(!n)return Wu(e[X],e);for(;n;){let t=null;if(Vn(n))t=n[go];else{let r=n[yt];r&&(t=r)}if(!t){for(;n&&!n[kt]&&n!==e;)Vn(n)&&Wu(n[X],n),n=n[Ge];n===null&&(n=e),Vn(n)&&Wu(n[X],n),t=n&&n[kt]}n=t}}function If(e,n){let t=e[Na],r=t.indexOf(n);t.splice(r,1)}function gv(e,n){if(_i(n))return;let t=n[De];t.destroyNode&&fl(e,n,t,3,null,null),GD(n)}function Wu(e,n){if(_i(n))return;let t=Y(null);try{n[V]&=-129,n[V]|=256,n[vt]&&wu(n[vt]),ZD(e,n),WD(e,n),n[X].type===1&&n[De].destroy();let r=n[li];if(r!==null&&In(n[Ge])){r!==n[Ge]&&If(r,n);let i=n[ci];i!==null&&i.detachView(e)}_d(n)}finally{Y(t)}}function WD(e,n){let t=e.cleanup,r=n[Ta];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(n[Ta]=null);let i=n[jn];if(i!==null){n[jn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=n[Aa];if(o!==null){n[Aa]=null;for(let s of o)s.destroy()}}function ZD(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=n[t[r]];if(!(i instanceof gr)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];se(4,a,l);try{l.call(a)}finally{se(5,a,l)}}else{se(4,i,o);try{o.call(i)}finally{se(5,i,o)}}}}}function KD(e,n,t){return YD(e,n.parent,t)}function YD(e,n,t){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return t[En];if(yi(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===Yt.None||i===Yt.Emulated)return null}return Qt(r,t)}function QD(e,n,t){return XD(e,n,t)}function JD(e,n,t){return e.type&40?Qt(e,t):null}var XD=JD,hg;function dl(e,n,t,r){let i=KD(e,r,n),o=n[De],s=r.parent||n[Ft],a=QD(s,r,n);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)dg(o,i,t[l],a,!1);else dg(o,i,t,a,!1);hg!==void 0&&hg(o,r,n,t,i)}function uo(e,n){if(n!==null){let t=n.type;if(t&3)return Qt(n,e);if(t&4)return Ed(-1,e[n.index]);if(t&8){let r=n.child;if(r!==null)return uo(e,r);{let i=e[n.index];return In(i)?Ed(-1,i):Wt(i)}}else{if(t&128)return uo(e,n.next);if(t&32)return Ef(n,e)()||Wt(e[n.index]);{let r=mv(e,n);if(r!==null){if(Array.isArray(r))return r[0];let i=hr(e[qt]);return uo(i,r)}else return uo(e,n.next)}}}return null}function mv(e,n){if(n!==null){let r=e[qt][Ft],i=n.projection;return r.projection[i]}return null}function Ed(e,n){let t=yt+e+1;if(t<n.length){let r=n[t],i=r[X].firstChild;if(i!==null)return uo(r,i)}return n[fr]}function Sf(e,n,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(s&&n===0&&(a&&bi(Wt(a),r),t.flags|=2),!hv(t))if(l&8)Sf(e,n,t.child,r,i,o,!1),ri(n,e,i,a,o);else if(l&32){let c=Ef(t,r),u;for(;u=c();)ri(n,e,i,u,o);ri(n,e,i,a,o)}else l&16?eE(e,n,r,t,i,o):ri(n,e,i,a,o);t=s?t.projectionNext:t.next}}function fl(e,n,t,r,i,o){Sf(t,r,e.firstChild,n,i,o,!1)}function eE(e,n,t,r,i,o){let s=t[qt],l=s[Ft].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];ri(n,e,i,u,o)}else{let c=l,u=s[Ge];Hm(r)&&(c.flags|=128),Sf(e,n,c,u,i,o,!0)}}function tE(e,n,t,r,i){let o=t[fr],s=Wt(t);o!==s&&ri(n,e,r,o,i);for(let a=yt;a<t.length;a++){let l=t[a];fl(l[X],l,e,n,r,o)}}function nE(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Cn.DashCase;i==null?e.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Cn.Important),e.setStyle(t,r,i,o))}}function Ha(e,n,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=n[t.index];o!==null&&r.push(Wt(o)),In(o)&&rE(o,r);let s=t.type;if(s&8)Ha(e,n,t.child,r);else if(s&32){let a=Ef(t,n),l;for(;l=a();)r.push(l)}else if(s&16){let a=mv(n,t);if(Array.isArray(a))r.push(...a);else{let l=hr(n[qt]);Ha(l[X],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function rE(e,n){for(let t=yt;t<e.length;t++){let r=e[t],i=r[X].firstChild;i!==null&&Ha(r[X],r,i,n)}e[fr]!==e[En]&&n.push(e[fr])}function vv(e){if(e[ii]!==null){for(let n of e[ii])n.impl.addSequence(n);e[ii].length=0}}var yv=[];function iE(e){return e[vt]??oE(e)}function oE(e){let n=yv.pop()??Object.create(aE);return n.lView=e,n}function sE(e){e.lView[vt]!==e&&(e.lView=null,yv.push(e))}var aE=$(D({},eo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{wo(e.lView)},consumerOnSignalRead(){this.lView[vt]=this}});function lE(e){let n=e[vt]??Object.create(cE);return n.lView=e,n}var cE=$(D({},eo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=hr(e.lView);for(;n&&!_v(n[X]);)n=hr(n);n&&lm(n)},consumerOnSignalRead(){this.lView[vt]=this}});function _v(e){return e.type!==2}function wv(e){if(e[Aa]===null)return;let n=!0;for(;n;){let t=!1;for(let r of e[Aa])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=t&&!!(e[V]&8192)}}var uE=100;function bv(e,n=!0,t=0){let i=e[bn].rendererFactory,o=!1;o||i.begin?.();try{dE(e,t)}catch(s){throw n&&jD(e,s),s}finally{o||i.end?.()}}function dE(e,n){let t=pm();try{Qp(!0),Id(e,n);let r=0;for(;tl(e);){if(r===uE)throw new S(103,!1);r++,Id(e,1)}}finally{Qp(t)}}function fE(e,n,t,r){if(_i(n))return;let i=n[V],o=!1,s=!1;Xd(n);let a=!0,l=null,c=null;o||(_v(e)?(c=iE(n),l=Bs(c)):pu()===null?(a=!1,c=lE(n),l=Bs(c)):n[vt]&&(wu(n[vt]),n[vt]=null));try{am(n),Jb(e.bindingStartIndex),t!==null&&fv(e,n,t,2,r);let u=(i&3)===3;if(!o)if(u){let f=e.preOrderCheckHooks;f!==null&&_a(n,f,null)}else{let f=e.preOrderHooks;f!==null&&wa(n,f,0,null),qu(n,0)}if(s||hE(n),wv(n),Cv(n,0),e.contentQueries!==null&&ev(e,n),!o)if(u){let f=e.contentCheckHooks;f!==null&&_a(n,f)}else{let f=e.contentHooks;f!==null&&wa(n,f,1),qu(n,1)}gE(e,n);let d=e.components;d!==null&&Ev(n,d,0);let m=e.viewQuery;if(m!==null&&Cd(2,m,r),!o)if(u){let f=e.viewCheckHooks;f!==null&&_a(n,f)}else{let f=e.viewHooks;f!==null&&wa(n,f,2),qu(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[zu]){for(let f of n[zu])f();n[zu]=null}o||(vv(n),n[V]&=-73)}catch(u){throw o||wo(n),u}finally{c!==null&&(yu(c,l),a&&sE(c)),ef()}}function Cv(e,n){for(let t=Gm(e);t!==null;t=Wm(t))for(let r=yt;r<t.length;r++){let i=t[r];Dv(i,n)}}function hE(e){for(let n=Gm(e);n!==null;n=Wm(n)){if(!(n[V]&2))continue;let t=n[Na];for(let r=0;r<t.length;r++){let i=t[r];lm(i)}}}function pE(e,n,t){se(18);let r=Zt(n,e);Dv(r,t),se(19,r[tt])}function Dv(e,n){Kd(e)&&Id(e,n)}function Id(e,n){let r=e[X],i=e[V],o=e[vt],s=!!(n===0&&i&16);if(s||=!!(i&64&&n===0),s||=!!(i&1024),s||=!!(o?.dirty&&_u(o)),s||=!1,o&&(o.dirty=!1),e[V]&=-9217,s)fE(r,e,r.template,e[tt]);else if(i&8192){wv(e),Cv(e,1);let a=r.components;a!==null&&Ev(e,a,1),vv(e)}}function Ev(e,n,t){for(let r=0;r<n.length;r++)pE(e,n[r],t)}function gE(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)pr(~i);else{let o=i,s=t[++r],a=t[++r];eC(s,o);let l=n[o];se(24,l),a(2,l),se(25,l)}}}finally{pr(-1)}}function Mf(e,n){let t=pm()?64:1088;for(e[bn].changeDetectionScheduler?.notify(n);e;){e[V]|=t;let r=hr(e);if(Ra(e)&&!r)return e;e=r}return null}function Iv(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function mE(e,n,t,r=!0){let i=n[X];if(vE(i,n,e,t),r){let s=Ed(t,e),a=n[De],l=a.parentNode(e[fr]);l!==null&&qD(i,e[Ft],a,n,l,s)}let o=n[xa];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Sd(e,n){if(e.length<=yt)return;let t=yt+n,r=e[t];if(r){let i=r[li];i!==null&&i!==e&&If(i,r),n>0&&(e[t-1][kt]=r[kt]);let o=Sa(e,yt+n);zD(r[X],r);let s=o[ci];s!==null&&s.detachView(o[X]),r[Ge]=null,r[kt]=null,r[V]&=-129}return r}function vE(e,n,t,r){let i=yt+r,o=t.length;r>0&&(t[i-1][kt]=n),r<o-yt?(n[kt]=t[i],zg(t,yt+r,n)):(t.push(n),n[kt]=null),n[Ge]=t;let s=n[li];s!==null&&t!==s&&Sv(s,n);let a=n[ci];a!==null&&a.insertView(e),cd(n),n[V]|=128}function Sv(e,n){let t=e[Na],r=n[Ge];if(Vn(r))e[V]|=2;else{let i=r[Ge][qt];n[qt]!==i&&(e[V]|=2)}t===null?e[Na]=[n]:t.push(n)}var mo=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let n=this._lView,t=n[X];return Ha(t,n,t.firstChild,[])}constructor(n,t,r=!0){this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[tt]}set context(n){this._lView[tt]=n}get destroyed(){return _i(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[Ge];if(In(n)){let t=n[Oa],r=t?t.indexOf(this):-1;r>-1&&(Sd(n,r),Sa(t,r))}this._attachedToViewContainer=!1}gv(this._lView[X],this._lView)}onDestroy(n){cm(this._lView,n)}markForCheck(){Mf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[V]&=-129}reattach(){cd(this._lView),this._lView[V]|=128}detectChanges(){this._lView[V]|=1024,bv(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=Ra(this._lView),t=this._lView[li];t!==null&&!n&&If(t,this._lView),pv(this._lView[X],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=n;let t=Ra(this._lView),r=this._lView[li];r!==null&&!t&&Sv(r,this._lView),cd(this._lView)}};var hl=(()=>{class e{static __NG_ELEMENT_ID__=wE}return e})(),yE=hl,_E=class extends yE{_declarationLView;_declarationTContainer;elementRef;constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,r){let i=$D(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:t,dehydratedView:r});return new mo(i)}};function wE(){return bE(We(),te())}function bE(e,n){return e.type&4?new _E(n,e,sl(e,n)):null}function pl(e,n,t,r,i){let o=e.data[n];if(o===null)o=CE(e,n,t,r,i),Xb()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=Qb();o.injectorIndex=s===null?-1:s.injectorIndex}return yr(o,!0),o}function CE(e,n,t,r,i){let o=fm(),s=Qd(),a=s?o:o&&o.parent,l=e.data[n]=EE(e,a,t,n,r,i);return DE(e,l,o,s),l}function DE(e,n,t,r){e.firstChild===null&&(e.firstChild=n),t!==null&&(r?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function EE(e,n,t,r,i,o){let s=n?n.injectorIndex:-1,a=0;return Zb()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var RF=new RegExp(`^(\\d+)*(${BC}|${UC})*(.*)`);var IE=()=>null;function pg(e,n){return IE(e,n)}var SE=class{},Mv=class{},Md=class{resolveComponentFactory(n){throw Error(`No component factory found for ${Xe(n)}.`)}},gl=class{static NULL=new Md},hi=class{},Sn=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>ME()}return e})();function ME(){let e=te(),n=We(),t=Zt(n.index,e);return(Vn(t)?t:e)[De]}var xE=(()=>{class e{static \u0275prov=N({token:e,providedIn:"root",factory:()=>null})}return e})();var Zu={},xd=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=Ya(r);let i=this.injector.get(n,Zu,r);return i!==Zu||t===Zu?i:this.parentInjector.get(n,t,r)}};function Td(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)i=$p(i,a);else if(o==2){let l=a,c=n[++s];r=$p(r,l+": "+c+";")}}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function M(e,n=B.Default){let t=te();if(t===null)return F(e,n);let r=We();return Nm(r,t,qe(e),n)}function xv(){let e="invalid";throw new Error(e)}function xf(e,n,t,r,i){let o=r===null?null:{"":-1},s=i(e,t);if(s!==null){let a,l=null,c=null,u=AE(s);u===null?a=s:[a,l,c]=u,RE(e,n,t,a,o,l,c)}o!==null&&r!==null&&TE(t,r,o)}function TE(e,n,t){let r=e.localNames=[];for(let i=0;i<n.length;i+=2){let o=t[n[i+1]];if(o==null)throw new S(-301,!1);r.push(n[i],o)}}function AE(e){let n=null,t=!1;for(let s=0;s<e.length;s++){let a=e[s];if(s===0&&Gt(a)&&(n=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of e)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,OE(s,r,o,i)),s===n&&(r??=[],r.push(s));return r!==null?(r.push(...n===null?e:e.slice(1)),[r,i,o]):null}function OE(e,n,t,r){let i=n.length;e.findHostDirectiveDefs(e,n,r),t.set(e,[i,n.length-1])}function NE(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function RE(e,n,t,r,i,o,s){let a=r.length,l=!1;for(let m=0;m<a;m++){let f=r[m];!l&&Gt(f)&&(l=!0,NE(e,t,m)),hd(La(t,n),e,f.type)}VE(t,e.data.length,a);for(let m=0;m<a;m++){let f=r[m];f.providersResolver&&f.providersResolver(f)}let c=!1,u=!1,d=uv(e,n,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let f=r[m];if(t.mergedAttrs=di(t.mergedAttrs,f.hostAttrs),kE(e,t,n,d,f),jE(d,f,i),s!==null&&s.has(f)){let[b,E]=s.get(f);t.directiveToIndex.set(f.type,[d,b+t.directiveStart,E+t.directiveStart])}else(o===null||!o.has(f))&&t.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(t.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(t.flags|=64);let _=f.type.prototype;!c&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),c=!0),!u&&(_.ngOnChanges||_.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),u=!0),d++}PE(e,t,o)}function PE(e,n,t){for(let r=n.directiveStart;r<n.directiveEnd;r++){let i=e.data[r];if(t===null||!t.has(i))gg(0,n,i,r),gg(1,n,i,r),vg(n,r,!1);else{let o=t.get(i);mg(0,n,o,r),mg(1,n,o,r),vg(n,r,!0)}}}function gg(e,n,t,r){let i=e===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=n.inputs??={}:s=n.outputs??={},s[o]??=[],s[o].push(r),Tv(n,o)}}function mg(e,n,t,r){let i=e===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=n.hostDirectiveInputs??={}:a=n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Tv(n,s)}}function Tv(e,n){n==="class"?e.flags|=8:n==="style"&&(e.flags|=16)}function vg(e,n,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!t&&i===null||t&&o===null||gf(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&i.hasOwnProperty(l)){let c=i[l];for(let u of c)if(u===n){s??=[],s.push(l,r[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===n){s??=[],s.push(c[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function kE(e,n,t,r,i){e.data[r]=i;let o=i.factory||(i.factory=cr(i.type,!0)),s=new gr(o,Gt(i),M);e.blueprint[r]=s,t[r]=s,FE(e,n,r,uv(e,t,i.hostVars,ut),i)}function FE(e,n,t,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~n.index;LE(s)!=a&&s.push(a),s.push(t,r,o)}}function LE(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function jE(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;Gt(n)&&(t[""]=e)}}function VE(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function Av(e,n,t,r,i,o,s,a){let l=n.consts,c=ui(l,s),u=pl(n,e,2,r,c);return o&&xf(n,t,u,ui(l,a),i),u.mergedAttrs=di(u.mergedAttrs,u.attrs),u.attrs!==null&&Td(u,u.attrs,!1),u.mergedAttrs!==null&&Td(u,u.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,u),u}function Ov(e,n){tf(e,n),Zd(n)&&e.queries.elementEnd(n)}var za=class extends gl{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=dr(n);return new pi(t,this.ngModule)}};function UE(e){return Object.keys(e).map(n=>{let[t,r,i]=e[n],o={propName:t,templateName:n,isSignal:(r&cl.SignalBased)!==0};return i&&(o.transform=i),o})}function BE(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}function $E(e,n,t){let r=n instanceof et?n:n?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new xd(t,r):t}function HE(e){let n=e.get(hi,null);if(n===null)throw new S(407,!1);let t=e.get(xE,null),r=e.get(fi,null);return{rendererFactory:n,sanitizer:t,changeDetectionScheduler:r}}function zE(e,n){let t=(e.selectors[0][0]||"div").toLowerCase();return sv(n,t,t==="svg"?jb:t==="math"?Vb:null)}var pi=class extends Mv{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=UE(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=BE(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=mD(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,r,i){se(22);let o=Y(null);try{let s=this.componentDef,a=r?["ng-version","19.2.14"]:vD(this.componentDef.selectors[0]),l=mf(0,null,null,1,0,null,null,null,null,[a],null),c=$E(s,i||this.ngModule,n),u=HE(c),d=u.rendererFactory.createRenderer(null,s),m=r?MD(d,r,s.encapsulation,c):zE(s,d),f=vf(null,l,null,512|cv(s),null,null,u,d,c,null,Xm(m,c,!0));f[_t]=m,Xd(f);let _=null;try{let b=Av(_t,l,f,"#host",()=>[this.componentDef],!0,0);m&&(lv(d,m,b),bi(m,f)),ul(l,f,b),hf(l,b,f),Ov(l,b),t!==void 0&&qE(b,this.ngContentSelectors,t),_=Zt(b.index,f),f[tt]=_[tt],Df(l,f,null)}catch(b){throw _!==null&&_d(_),_d(f),b}finally{se(23),ef()}return new Ad(this.componentType,f)}finally{Y(o)}}},Ad=class extends SE{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t){super(),this._rootLView=t,this._tNode=sm(t[X],_t),this.location=sl(this._tNode,t),this.instance=Zt(this._tNode.index,t)[tt],this.hostView=this.changeDetectorRef=new mo(t,void 0,!1),this.componentType=n}setInput(n,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let i=this._rootLView,o=Cf(r,i[X],i,n,t);this.previousInputValues.set(n,t);let s=Zt(r.index,i);Mf(s,1)}get injector(){return new lr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function qE(e,n,t){let r=e.projection=[];for(let i=0;i<n.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Ii=(()=>{class e{static __NG_ELEMENT_ID__=GE}return e})();function GE(){let e=We();return ZE(e,te())}var WE=Ii,Nv=class extends WE{_lContainer;_hostTNode;_hostLView;constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return sl(this._hostTNode,this._hostLView)}get injector(){return new lr(this._hostTNode,this._hostLView)}get parentInjector(){let n=nf(this._hostTNode,this._hostLView);if(Sm(n)){let t=ka(n,this._hostLView),r=Pa(n),i=t[X].data[r+8];return new lr(i,t)}else return new lr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=yg(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-yt}createEmbeddedView(n,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=pg(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,fg(this._hostTNode,s)),a}createComponent(n,t,r,i,o){let s=n&&!Pb(n),a;if(s)a=t;else{let _=t||{};a=_.index,r=_.injector,i=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef}let l=s?n:new pi(dr(n)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let b=(s?c:this.parentInjector).get(et,null);b&&(o=b)}let u=dr(l.componentType??{}),d=pg(this._lContainer,u?.id??null),m=d?.firstChild??null,f=l.create(c,i,m,o);return this.insertImpl(f.hostView,a,fg(this._hostTNode,d)),f}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){let i=n._lView;if($b(i)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=i[Ge],c=new Nv(l,l[Ft],l[Ge]);c.detach(c.indexOf(n))}}let o=this._adjustIndex(t),s=this._lContainer;return mE(s,i,o,r),n.attachToViewContainerRef(),zg(Ku(s),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=yg(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),r=Sd(this._lContainer,t);r&&(Sa(Ku(this._lContainer),t),gv(r[X],r))}detach(n){let t=this._adjustIndex(n,-1),r=Sd(this._lContainer,t);return r&&Sa(Ku(this._lContainer),t)!=null?new mo(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function yg(e){return e[Oa]}function Ku(e){return e[Oa]||(e[Oa]=[])}function ZE(e,n){let t,r=n[e.index];return In(r)?t=r:(t=Iv(r,n,null,e),n[e.index]=t,yf(n,t)),YE(t,n,e,r),new Nv(t,e,n)}function KE(e,n){let t=e[De],r=t.createComment(""),i=Qt(n,e),o=t.parentNode(i);return $a(t,o,r,t.nextSibling(i),!1),r}var YE=XE,QE=()=>!1;function JE(e,n,t){return QE(e,n,t)}function XE(e,n,t,r){if(e[fr])return;let i;t.type&8?i=Wt(r):i=KE(n,t),e[fr]=i}var gi=class{},Tf=class{};var Od=class extends gi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new za(this);constructor(n,t,r,i=!0){super(),this.ngModuleType=n,this._parent=t;let o=Wg(n);this._bootstrapComponents=iv(o.bootstrap),this._r3Injector=km(n,t,[{provide:gi,useValue:this},{provide:gl,useValue:this.componentFactoryResolver},...r],Xe(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},Nd=class extends Tf{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new Od(this.moduleType,n,[])}};var qa=class extends gi{injector;componentFactoryResolver=new za(this);instance=null;constructor(n){super();let t=new po([...n.providers,{provide:gi,useValue:this},{provide:gl,useValue:this.componentFactoryResolver}],n.parent||Wd(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function Do(e,n,t=null){return new qa({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var eI=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Zg(!1,t.type),i=r.length>0?Do([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=N({token:e,providedIn:"environment",factory:()=>new e(F(et))})}return e})();function ae(e){return yo(()=>{let n=Pv(e),t=$(D({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===zm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?i=>i.get(eI).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Yt.Emulated,styles:e.styles||mt,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&Ei("NgStandalone"),kv(t);let r=e.dependencies;return t.directiveDefs=_g(r,!1),t.pipeDefs=_g(r,!0),t.id=oI(t),t})}function tI(e){return dr(e)||bb(e)}function nI(e){return e!==null}function Mn(e){return yo(()=>({type:e.type,bootstrap:e.bootstrap||mt,declarations:e.declarations||mt,imports:e.imports||mt,exports:e.exports||mt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function rI(e,n){if(e==null)return ur;let t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=cl.None,l=null),t[o]=[r,a,l],n[o]=s}return t}function iI(e){if(e==null)return ur;let n={};for(let t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function pe(e){return yo(()=>{let n=Pv(e);return kv(n),n})}function Rv(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function Pv(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||ur,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||mt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:rI(e.inputs,n),outputs:iI(e.outputs),debugInfo:null}}function kv(e){e.features?.forEach(n=>n(e))}function _g(e,n){if(!e)return null;let t=n?Cb:tI;return()=>(typeof e=="function"?e():e).map(r=>t(r)).filter(nI)}function oI(e){let n=0,t=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function sI(e){return Object.getPrototypeOf(e.prototype).constructor}function nt(e){let n=sI(e.type),t=!0,r=[e];for(;n;){let i;if(Gt(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new S(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);let s=e;s.inputs=Yu(e.inputs),s.declaredInputs=Yu(e.declaredInputs),s.outputs=Yu(e.outputs);let a=i.hostBindings;a&&dI(e,a);let l=i.viewQuery,c=i.contentQueries;if(l&&cI(e,l),c&&uI(e,c),aI(e,i),Xw(e.outputs,i.outputs),Gt(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===nt&&(t=!1)}}n=Object.getPrototypeOf(n)}lI(r)}function aI(e,n){for(let t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let r=n.inputs[t];r!==void 0&&(e.inputs[t]=r,e.declaredInputs[t]=n.declaredInputs[t])}}function lI(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=di(i.hostAttrs,t=di(t,i.hostAttrs))}}function Yu(e){return e===ur?{}:e===mt?[]:e}function cI(e,n){let t=e.viewQuery;t?e.viewQuery=(r,i)=>{n(r,i),t(r,i)}:e.viewQuery=n}function uI(e,n){let t=e.contentQueries;t?e.contentQueries=(r,i,o)=>{n(r,i,o),t(r,i,o)}:e.contentQueries=n}function dI(e,n){let t=e.hostBindings;t?e.hostBindings=(r,i)=>{n(r,i),t(r,i)}:e.hostBindings=n}function Fv(e){return hI(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function fI(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{let t=e[Symbol.iterator](),r;for(;!(r=t.next()).done;)n(r.value)}}function hI(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Lv(e,n,t){return e[n]=t}function pI(e,n){return e[n]}function Un(e,n,t){let r=e[n];return Object.is(r,t)?!1:(e[n]=t,!0)}function Af(e,n,t,r){let i=Un(e,n,t);return Un(e,n+1,r)||i}function gI(e,n,t,r,i){let o=Af(e,n,t,r);return Un(e,n+2,i)||o}function mI(e,n,t,r,i,o,s,a,l){let c=n.consts,u=pl(n,e,4,s||null,a||null);Yd()&&xf(n,t,u,ui(c,l),bf),u.mergedAttrs=di(u.mergedAttrs,u.attrs),tf(n,u);let d=u.tView=mf(2,u,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return n.queries!==null&&(n.queries.template(n,u),d.queries=n.queries.embeddedTView(u)),u}function vI(e,n,t,r,i,o,s,a,l,c){let u=t+_t,d=n.firstCreatePass?mI(u,n,e,r,i,o,s,a,l):n.data[u];yr(d,!1);let m=yI(n,e,d,t);il()&&dl(n,e,m,d),bi(m,e);let f=Iv(m,e,m,d);return e[u]=f,yf(e,f),JE(f,d,e),el(d)&&ul(n,e,d),l!=null&&_f(e,d,c),d}function R(e,n,t,r,i,o,s,a){let l=te(),c=Ue(),u=ui(c.consts,o);return vI(l,c,e,n,t,r,i,u,s,a),R}var yI=_I;function _I(e,n,t,r){return ol(!0),n[De].createComment("")}var jv=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var Vv=new T("");var wI=(()=>{class e{static \u0275prov=N({token:e,providedIn:"root",factory:()=>new Rd})}return e})(),Rd=class{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}remove(n){let t=n.zone,r=this.queues.get(t);r.has(n)&&(r.delete(n),this.queuedEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(n)||(this.queuedEffectCount++,r.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,t]of this.queues)n===null?this.flushQueue(t):n.run(()=>this.flushQueue(t))}flushQueue(n){for(let t of n)n.delete(t),this.queuedEffectCount--,t.run()}};function _r(e){return!!e&&typeof e.then=="function"}function Uv(e){return!!e&&typeof e.subscribe=="function"}var Bv=new T("");function Of(e){return Qa([{provide:Bv,multi:!0,useValue:e}])}var $v=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=C(Bv,{optional:!0})??[];injector=C(wt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Ct(this.injector,i);if(_r(o))t.push(o);else if(Uv(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ml=new T("");function bI(){Cu(()=>{throw new S(600,!1)})}function CI(e){return e.isBoundToModule}var DI=10;var mr=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=C(AC);afterRenderManager=C(Jm);zonelessEnabled=C(of);rootEffectScheduler=C(wI);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new xe;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=C(wi).hasPendingTasks.pipe(J(t=>!t));constructor(){C(Di,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=C(et);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=wt.NULL){se(10);let o=t instanceof Mv;if(!this._injector.get($v).done){let f="";throw new S(405,f)}let a;o?a=t:a=this._injector.get(gl).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let l=CI(a)?void 0:this._injector.get(gi),c=r||a.selector,u=a.create(i,[],c,l),d=u.location.nativeElement,m=u.injector.get(Vv,null);return m?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),ba(this.components,u),m?.unregisterApplication(d)}),this._loadComponent(u),se(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){se(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(df.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new S(101,!1);let t=Y(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Y(t),this.afterTick.next(),se(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(hi,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<DI;)se(14),this.synchronizeOnce(),se(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)EI(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>tl(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;ba(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ml,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ba(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new S(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ba(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function EI(e,n,t,r){if(!t&&!tl(e))return;bv(e,n,t&&!r?0:1)}function wr(e,n,t,r){let i=te(),o=nl();if(Un(i,o,n)){let s=Ue(),a=rl();kD(a,i,e,n,t,r)}return wr}function Hv(e,n,t,r){return Un(e,nl(),t)?n+wn(t)+r:ut}function II(e,n,t,r,i,o){let s=mm(),a=Af(e,s,t,i);return Jd(2),a?n+wn(t)+r+wn(i)+o:ut}function SI(e,n,t,r,i,o,s,a){let l=mm(),c=gI(e,l,t,i,s);return Jd(3),c?n+wn(t)+r+wn(i)+o+wn(s)+a:ut}function va(e,n){return e<<17|n<<2}function vr(e){return e>>17&32767}function MI(e){return(e&2)==2}function xI(e,n){return e&131071|n<<17}function Pd(e){return e|2}function mi(e){return(e&131068)>>2}function Qu(e,n){return e&-131069|n<<2}function TI(e){return(e&1)===1}function kd(e){return e|1}function AI(e,n,t,r,i,o){let s=o?n.classBindings:n.styleBindings,a=vr(s),l=mi(s);e[r]=t;let c=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||_o(d,u)>0)&&(c=!0)}else u=t;if(i)if(l!==0){let m=vr(e[a+1]);e[r+1]=va(m,a),m!==0&&(e[m+1]=Qu(e[m+1],r)),e[a+1]=xI(e[a+1],r)}else e[r+1]=va(a,0),a!==0&&(e[a+1]=Qu(e[a+1],r)),a=r;else e[r+1]=va(l,0),a===0?a=r:e[l+1]=Qu(e[l+1],r),l=r;c&&(e[r+1]=Pd(e[r+1])),wg(e,u,r,!0),wg(e,u,r,!1),OI(n,u,e,r,o),s=va(a,l),o?n.classBindings=s:n.styleBindings=s}function OI(e,n,t,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof n=="string"&&_o(o,n)>=0&&(t[r+1]=kd(t[r+1]))}function wg(e,n,t,r){let i=e[t+1],o=n===null,s=r?vr(i):mi(i),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],c=e[s+1];NI(l,n)&&(a=!0,e[s+1]=r?kd(c):Pd(c)),s=r?vr(c):mi(c)}a&&(e[t+1]=r?Pd(i):kd(i))}function NI(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?_o(e,n)>=0:!1}function w(e,n,t){let r=te(),i=nl();if(Un(r,i,n)){let o=Ue(),s=rl();wf(o,s,r,e,n,r[De],t,!1)}return w}function bg(e,n,t,r,i){Cf(n,e,t,i?"class":"style",r)}function vl(e,n){return RI(e,n,null,!0),vl}function RI(e,n,t,r){let i=te(),o=Ue(),s=Jd(2);if(o.firstUpdatePass&&kI(o,e,s,r),n!==ut&&Un(i,s,n)){let a=o.data[$n()];UI(o,a,i,i[De],e,i[s+1]=BI(n,t),r,s)}}function PI(e,n){return n>=e.expandoStartIndex}function kI(e,n,t,r){let i=e.data;if(i[t+1]===null){let o=i[$n()],s=PI(e,t);$I(o,r)&&n===null&&!s&&(n=!1),n=FI(i,o,n,r),AI(i,o,n,t,s,r)}}function FI(e,n,t,r){let i=nC(e),o=r?n.residualClasses:n.residualStyles;if(i===null)(r?n.classBindings:n.styleBindings)===0&&(t=Ju(null,e,n,t,r),t=vo(t,n.attrs,r),o=null);else{let s=n.directiveStylingLast;if(s===-1||e[s]!==i)if(t=Ju(i,e,n,t,r),o===null){let l=LI(e,n,r);l!==void 0&&Array.isArray(l)&&(l=Ju(null,e,n,l[1],r),l=vo(l,n.attrs,r),jI(e,n,r,l))}else o=VI(e,n,r)}return o!==void 0&&(r?n.residualClasses=o:n.residualStyles=o),t}function LI(e,n,t){let r=t?n.classBindings:n.styleBindings;if(mi(r)!==0)return e[vr(r)]}function jI(e,n,t,r){let i=t?n.classBindings:n.styleBindings;e[vr(i)]=r}function VI(e,n,t){let r,i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=vo(r,s,t)}return vo(r,n.attrs,t)}function Ju(e,n,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=n[a],r=vo(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(t.directiveStylingLast=a),r}function vo(e,n,t){let r=t?1:2,i=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),_b(e,s,t?!0:n[++o]))}return e===void 0?null:e}function UI(e,n,t,r,i,o,s,a){if(!(n.type&3))return;let l=e.data,c=l[a+1],u=TI(c)?Cg(l,n,t,i,mi(c),s):void 0;if(!Ga(u)){Ga(o)||MI(c)&&(o=Cg(l,null,t,i,a,s));let d=om($n(),t);nE(r,s,d,i,o)}}function Cg(e,n,t,r,i,o){let s=n===null,a;for(;i>0;){let l=e[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,m=t[i+1];m===ut&&(m=d?mt:void 0);let f=d?$u(m,r):u===r?m:void 0;if(c&&!Ga(f)&&(f=$u(l,r)),Ga(f)&&(a=f,s))return a;let _=e[i+1];i=s?vr(_):mi(_)}if(n!==null){let l=o?n.residualClasses:n.residualStyles;l!=null&&(a=$u(l,r))}return a}function Ga(e){return e!==void 0}function BI(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=Xe(al(e)))),e}function $I(e,n){return(e.flags&(n?8:16))!==0}function p(e,n,t,r){let i=te(),o=Ue(),s=_t+e,a=i[De],l=o.firstCreatePass?Av(s,o,i,n,bf,Yd(),t,r):o.data[s],c=HI(o,i,l,a,n,e);i[s]=c;let u=el(l);return yr(l,!0),lv(a,c,l),!hv(l)&&il()&&dl(o,i,c,l),(qb()===0||u)&&bi(c,i),Gb(),u&&(ul(o,i,l),hf(o,l,i)),r!==null&&_f(i,l),p}function h(){let e=We();Qd()?hm():(e=e.parent,yr(e,!1));let n=e;Kb(n)&&Yb(),Wb();let t=Ue();return t.firstCreatePass&&Ov(t,n),n.classesWithoutHost!=null&&lC(n)&&bg(t,n,te(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&cC(n)&&bg(t,n,te(),n.stylesWithoutHost,!1),h}function Ze(e,n,t,r){return p(e,n,t,r),h(),Ze}var HI=(e,n,t,r,i,o)=>(ol(!0),sv(r,i,oC()));function zI(e,n,t,r,i){let o=n.consts,s=ui(o,r),a=pl(n,e,8,"ng-container",s);s!==null&&Td(a,s,!0);let l=ui(o,i);return Yd()&&xf(n,t,a,l,bf),a.mergedAttrs=di(a.mergedAttrs,a.attrs),n.queries!==null&&n.queries.elementStart(n,a),a}function yl(e,n,t){let r=te(),i=Ue(),o=e+_t,s=i.firstCreatePass?zI(o,i,r,n,t):i.data[o];yr(s,!0);let a=qI(i,r,s,e);return r[o]=a,il()&&dl(i,r,a,s),bi(a,r),el(s)&&(ul(i,r,s),hf(i,s,r)),t!=null&&_f(r,s),yl}function _l(){let e=We(),n=Ue();return Qd()?hm():(e=e.parent,yr(e,!1)),n.firstCreatePass&&(tf(n,e),Zd(e)&&n.queries.elementEnd(e)),_l}var qI=(e,n,t,r)=>(ol(!0),wD(n[De],""));function de(){return te()}var or=void 0;function GI(e){let n=Math.floor(Math.abs(e)),t=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&t===0?1:5}var WI=["en",[["a","p"],["AM","PM"],or],[["AM","PM"],or,or],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],or,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],or,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",or,"{1} 'at' {0}",or],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",GI],Xu={};function Dt(e){let n=ZI(e),t=Dg(n);if(t)return t;let r=n.split("-")[0];if(t=Dg(r),t)return t;if(r==="en")return WI;throw new S(701,!1)}function Dg(e){return e in Xu||(Xu[e]=sr.ng&&sr.ng.common&&sr.ng.common.locales&&sr.ng.common.locales[e]),Xu[e]}var Ee=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Ee||{});function ZI(e){return e.toLowerCase().replace(/_/g,"-")}var Wa="en-US";var KI=Wa;function YI(e){typeof e=="string"&&(KI=e.toLowerCase().replace(/_/g,"-"))}function Eg(e,n,t){return function r(i){if(i===Function)return t;let o=yi(e)?Zt(e.index,n):n;Mf(o,5);let s=n[tt],a=Ig(n,s,t,i),l=r.__ngNextListenerFn__;for(;l;)a=Ig(n,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function Ig(e,n,t,r){let i=Y(null);try{return se(6,n,t),t(r)!==!1}catch(o){return QI(e,o),!1}finally{se(7,n,t),Y(i)}}function QI(e,n){let t=e[ai],r=t?t.get(Kt,null):null;r&&r.handleError(n)}function Sg(e,n,t,r,i,o){let s=n[t],a=n[X],c=a.data[t].outputs[r],u=s[c],d=a.firstCreatePass?dm(a):null,m=um(n),f=u.subscribe(o),_=m.length;m.push(o,f),d&&d.push(i,e.index,_,-(_+1))}function q(e,n,t,r){let i=te(),o=Ue(),s=We();return zv(o,i,i[De],s,e,n,r),q}function JI(e,n,t,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=n[Ta],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function zv(e,n,t,r,i,o,s){let a=el(r),c=e.firstCreatePass?dm(e):null,u=um(n),d=!0;if(r.type&3||s){let m=Qt(r,n),f=s?s(m):m,_=u.length,b=s?x=>s(Wt(x[r.index])):r.index,E=null;if(!s&&a&&(E=JI(e,n,i,r.index)),E!==null){let x=E.__ngLastListenerFn__||E;x.__ngNextListenerFn__=o,E.__ngLastListenerFn__=o,d=!1}else{o=Eg(r,n,o),KC(n,f,i,o);let x=t.listen(f,i,o);u.push(o,x),c&&c.push(i,b,_,_+1)}}else o=Eg(r,n,o);if(d){let m=r.outputs?.[i],f=r.hostDirectiveOutputs?.[i];if(f&&f.length)for(let _=0;_<f.length;_+=2){let b=f[_],E=f[_+1];Sg(r,n,b,E,i,o)}if(m&&m.length)for(let _ of m)Sg(r,n,_,i,i,o)}}function I(e=1){return iC(e)}function wl(e,n,t,r,i){let o=te(),s=Hv(o,n,t,r);if(s!==ut){let a=Ue(),l=rl();wf(a,l,o,e,s,o[De],i,!1)}return wl}function g(e,n=""){let t=te(),r=Ue(),i=e+_t,o=r.firstCreatePass?pl(r,i,1,n,null):r.data[i],s=XI(r,t,o,n,e);t[i]=s,il()&&dl(r,t,s,o),yr(o,!1)}var XI=(e,n,t,r,i)=>(ol(!0),yD(n[De],r));function Z(e){return ye("",e,""),Z}function ye(e,n,t){let r=te(),i=Hv(r,e,n,t);return i!==ut&&Nf(r,$n(),i),ye}function Hn(e,n,t,r,i){let o=te(),s=II(o,e,n,t,r,i);return s!==ut&&Nf(o,$n(),s),Hn}function Eo(e,n,t,r,i,o,s){let a=te(),l=SI(a,e,n,t,r,i,o,s);return l!==ut&&Nf(a,$n(),l),Eo}function Nf(e,n,t){let r=om(n,e);_D(e[De],r,t)}function G(e,n,t){$m(n)&&(n=n());let r=te(),i=nl();if(Un(r,i,n)){let o=Ue(),s=rl();wf(o,s,r,e,n,r[De],t,!1)}return G}function K(e,n){let t=$m(e);return t&&e.set(n),t}function W(e,n){let t=te(),r=Ue(),i=We();return zv(r,t,t[De],i,e,n),W}function eS(e,n,t){let r=Ue();if(r.firstCreatePass){let i=Gt(e);Fd(t,r.data,r.blueprint,i,!0),Fd(n,r.data,r.blueprint,i,!1)}}function Fd(e,n,t,r,i){if(e=qe(e),Array.isArray(e))for(let o=0;o<e.length;o++)Fd(e[o],n,t,r,i);else{let o=Ue(),s=te(),a=We(),l=si(e)?e:qe(e.provide),c=Qg(e),u=a.providerIndexes&1048575,d=a.directiveStart,m=a.providerIndexes>>20;if(si(e)||!e.multi){let f=new gr(c,i,M),_=td(l,n,i?u:u+m,d);_===-1?(hd(La(a,s),o,l),ed(o,e,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(f),s.push(f)):(t[_]=f,s[_]=f)}else{let f=td(l,n,u+m,d),_=td(l,n,u,u+m),b=f>=0&&t[f],E=_>=0&&t[_];if(i&&!E||!i&&!b){hd(La(a,s),o,l);let x=rS(i?nS:tS,t.length,i,r,c);!i&&E&&(t[_].providerFactory=x),ed(o,e,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(x),s.push(x)}else{let x=qv(t[i?_:f],c,!i&&r);ed(o,e,f>-1?f:_,x)}!i&&r&&E&&t[_].componentProviders++}}}function ed(e,n,t,r){let i=si(n),o=Mb(n);if(i||o){let l=(o?qe(n.useClass):n).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){let u=c.indexOf(t);u===-1?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function qv(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function td(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function tS(e,n,t,r,i){return Ld(this.multi,[])}function nS(e,n,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=ja(r,r[X],this.providerFactory.index,i);s=l.slice(0,a),Ld(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],Ld(o,s);return s}function Ld(e,n){for(let t=0;t<e.length;t++){let r=e[t];n.push(r())}return n}function rS(e,n,t,r,i){let o=new gr(e,t,M);return o.multi=[],o.index=n,o.componentProviders=0,qv(o,i,r&&!t),o}function Xt(e,n=[]){return t=>{t.providersResolver=(r,i)=>eS(r,i?i(e):e,n)}}function Et(e,n,t){let r=gm()+e,i=te();return i[r]===ut?Lv(i,r,t?n.call(t):n()):pI(i,r)}function iS(e,n){let t=e[n];return t===ut?void 0:t}function oS(e,n,t,r,i,o,s){let a=n+t;return Af(e,a,i,o)?Lv(e,a+2,s?r.call(s,i,o):r(i,o)):iS(e,a+2)}function Si(e,n){let t=Ue(),r,i=e+_t;t.firstCreatePass?(r=sS(n,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=cr(r.type,!0)),s,a=Je(M);try{let l=Fa(!1),c=o();return Fa(l),Bb(t,te(),i,c),c}finally{Je(a)}}function sS(e,n){if(n)for(let t=n.length-1;t>=0;t--){let r=n[t];if(e===r.name)return r}}function Mi(e,n,t,r){let i=e+_t,o=te(),s=Ub(o,i);return aS(o,i)?oS(o,gm(),n,s.transform,t,r,s):s.transform(t,r)}function aS(e,n){return e[X].data[n].pure}var jd=class{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},Gv=(()=>{class e{compileModuleSync(t){return new Nd(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Wg(t),o=iv(i.declarations).reduce((s,a)=>{let l=dr(a);return l&&s.push(new pi(l)),s},[]);return new jd(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var lS=(()=>{class e{zone=C(Ce);changeDetectionScheduler=C(fi);applicationRef=C(mr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),cS=new T("",{factory:()=>!1});function Wv({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new Ce($(D({},Kv()),{scheduleInRootZone:t})),[{provide:Ce,useFactory:e},{provide:ho,multi:!0,useFactory:()=>{let r=C(lS,{optional:!0});return()=>r.initialize()}},{provide:ho,multi:!0,useFactory:()=>{let r=C(uS);return()=>{r.initialize()}}},n===!0?{provide:Lm,useValue:!0}:[],{provide:jm,useValue:t??Fm}]}function Zv(e){let n=e?.ignoreChangesOutsideZone,t=e?.scheduleInRootZone,r=Wv({ngZoneFactory:()=>{let i=Kv(e);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Ei("NgZone_CoalesceEvent"),new Ce(i)},ignoreChangesOutsideZone:n,scheduleInRootZone:t});return Qa([{provide:cS,useValue:!0},{provide:of,useValue:!1},r])}function Kv(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var uS=(()=>{class e{subscription=new Me;initialized=!1;zone=C(Ce);pendingTasks=C(wi);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var dS=(()=>{class e{appRef=C(mr);taskService=C(wi);ngZone=C(Ce);zonelessEnabled=C(of);tracing=C(Di,{optional:!0});disableScheduling=C(Lm,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Me;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ua):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(C(jm,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof yd||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?rg:Vm;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ua+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,rg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function fS(){return typeof $localize<"u"&&$localize.locale||Wa}var bl=new T("",{providedIn:"root",factory:()=>C(bl,B.Optional|B.SkipSelf)||fS()});var Vd=new T(""),hS=new T("");function lo(e){return!e.moduleRef}function pS(e){let n=lo(e)?e.r3Injector:e.moduleRef.injector,t=n.get(Ce);return t.run(()=>{lo(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=n.get(Kt,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),lo(e)){let o=()=>n.destroy(),s=e.platformInjector.get(Vd);s.add(o),n.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Vd);s.add(o),e.moduleRef.onDestroy(()=>{ba(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return mS(r,t,()=>{let o=n.get($v);return o.runInitializers(),o.donePromise.then(()=>{let s=n.get(bl,Wa);if(YI(s||Wa),!n.get(hS,!0))return lo(e)?n.get(mr):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(lo(e)){let l=n.get(mr);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return gS(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function gS(e,n){let t=e.injector.get(mr);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(t);else throw new S(-403,!1);n.push(e)}function mS(e,n,t){try{let r=t();return _r(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}var Ca=null;function vS(e=[],n){return wt.create({name:n,providers:[{provide:Ja,useValue:"platform"},{provide:Vd,useValue:new Set([()=>Ca=null])},...e]})}function yS(e=[]){if(Ca)return Ca;let n=vS(e);return Ca=n,bI(),_S(n),n}function _S(e){let n=e.get(cf,null);Ct(e,()=>{n?.forEach(t=>t())})}var br=(()=>{class e{static __NG_ELEMENT_ID__=wS}return e})();function wS(e){return bS(We(),te(),(e&16)===16)}function bS(e,n,t){if(yi(e)&&!t){let r=Zt(e.index,n);return new mo(r,r)}else if(e.type&175){let r=n[qt];return new mo(r,n)}return null}var Ud=class{constructor(){}supports(n){return Fv(n)}create(n){return new Bd(n)}},CS=(e,n)=>n,Bd=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||CS}forEachItem(n){let t;for(t=this._itHead;t!==null;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<Mg(r,i,o)?t:r,a=Mg(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let m=0;m<c;m++){let f=m<o.length?o[m]:o[m]=0,_=f+m;u<=_&&_<c&&(o[m]=f+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)n(t)}diff(n){if(n==null&&(n=[]),!Fv(n))throw new S(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,fI(n,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,i)):(n=this._linkedRecords===null?null:this._linkedRecords.get(r,i),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,i)):n=this._addAfter(new $d(t,r),o,i)),n}_verifyReinsertion(n,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;n!==null;){let t=n._next;this._addToRemovals(this._unlink(n)),n=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let i=n._prevRemoved,o=n._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){let i=t===null?this._itHead:t._next;return n._next=i,n._prev=t,i===null?this._itTail=n:i._prev=n,t===null?this._itHead=n:t._next=n,this._linkedRecords===null&&(this._linkedRecords=new Za),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let t=n._prev,r=n._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Za),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},$d=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,t){this.item=n,this.trackById=t}},Hd=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){let t=n._prevDup,r=n._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Za=class{map=new Map;put(n){let t=n.trackById,r=this.map.get(t);r||(r=new Hd,this.map.set(t,r)),r.add(n)}get(n,t){let r=n,i=this.map.get(r);return i?i.get(n,t):null}remove(n){let t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Mg(e,n,t){let r=e.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}function xg(){return new Rf([new Ud])}var Rf=(()=>{class e{factories;static \u0275prov=N({token:e,providedIn:"root",factory:xg});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||xg()),deps:[[e,new vb,new mb]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new S(901,!1)}}return e})();function Yv(e){se(8);try{let{rootComponent:n,appProviders:t,platformProviders:r}=e,i=yS(r),o=[Wv({}),{provide:fi,useExisting:dS},...t||[]],s=new qa({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return pS({r3Injector:s.injector,platformInjector:i,rootComponent:n})}catch(n){return Promise.reject(n)}finally{se(9)}}function zn(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function xn(e){return Iu(e)}function Io(e,n){return bu(e,n?.equal)}var Tg=class{[pt];constructor(n){this[pt]=n}destroy(){this[pt].destroy()}};function Qv(e){let n=dr(e);if(!n)return null;let t=new pi(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var Le=new T("");var ey=null;function It(){return ey}function Pf(e){ey??=e}var So=class{},Mo=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:()=>C(ty),providedIn:"platform"})}return e})(),kf=new T(""),ty=(()=>{class e extends Mo{_location;_history;_doc=C(Le);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return It().getBaseHref(this._doc)}onPopState(t){let r=It().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=It().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Cl(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function Jv(e){let n=e.search(/#|\?|$/);return e[n-1]==="/"?e.slice(0,n-1)+e.slice(n):e}function jt(e){return e&&e[0]!=="?"?`?${e}`:e}var Vt=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:()=>C(El),providedIn:"root"})}return e})(),Dl=new T(""),El=(()=>{class e extends Vt{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??C(Le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Cl(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+jt(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+jt(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+jt(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(F(Mo),F(Dl,8))};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),qn=(()=>{class e{_subject=new xe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=IS(Jv(Xv(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+jt(r))}normalize(t){return e.stripTrailingSlash(ES(this._basePath,Xv(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+jt(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+jt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=jt;static joinWithSlash=Cl;static stripTrailingSlash=Jv;static \u0275fac=function(r){return new(r||e)(F(Vt))};static \u0275prov=N({token:e,factory:()=>DS(),providedIn:"root"})}return e})();function DS(){return new qn(F(Vt))}function ES(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function Xv(e){return e.replace(/\/index.html$/,"")}function IS(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var Vf=(()=>{class e extends Vt{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Cl(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+jt(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+jt(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(F(Mo),F(Dl,8))};static \u0275prov=N({token:e,factory:e.\u0275fac})}return e})();var He=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(He||{}),le=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(le||{}),rt=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(rt||{}),An={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function oy(e){return Dt(e)[Ee.LocaleId]}function sy(e,n,t){let r=Dt(e),i=[r[Ee.DayPeriodsFormat],r[Ee.DayPeriodsStandalone]],o=St(i,n);return St(o,t)}function ay(e,n,t){let r=Dt(e),i=[r[Ee.DaysFormat],r[Ee.DaysStandalone]],o=St(i,n);return St(o,t)}function ly(e,n,t){let r=Dt(e),i=[r[Ee.MonthsFormat],r[Ee.MonthsStandalone]],o=St(i,n);return St(o,t)}function cy(e,n){let r=Dt(e)[Ee.Eras];return St(r,n)}function xo(e,n){let t=Dt(e);return St(t[Ee.DateFormat],n)}function To(e,n){let t=Dt(e);return St(t[Ee.TimeFormat],n)}function Ao(e,n){let r=Dt(e)[Ee.DateTimeFormat];return St(r,n)}function Oo(e,n){let t=Dt(e),r=t[Ee.NumberSymbols][n];if(typeof r>"u"){if(n===An.CurrencyDecimal)return t[Ee.NumberSymbols][An.Decimal];if(n===An.CurrencyGroup)return t[Ee.NumberSymbols][An.Group]}return r}function uy(e){if(!e[Ee.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Ee.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function dy(e){let n=Dt(e);return uy(n),(n[Ee.ExtraData][2]||[]).map(r=>typeof r=="string"?Ff(r):[Ff(r[0]),Ff(r[1])])}function fy(e,n,t){let r=Dt(e);uy(r);let i=[r[Ee.ExtraData][0],r[Ee.ExtraData][1]],o=St(i,n)||[];return St(o,t)||[]}function St(e,n){for(let t=n;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new Error("Locale data API: locale data undefined")}function Ff(e){let[n,t]=e.split(":");return{hours:+n,minutes:+t}}var SS=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Il={},MS=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function hy(e,n,t,r){let i=FS(e);n=Tn(t,n)||n;let s=[],a;for(;n;)if(a=MS.exec(n),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;n=u}else{s.push(n);break}let l=i.getTimezoneOffset();r&&(l=gy(r,l),i=kS(i,r));let c="";return s.forEach(u=>{let d=RS(u);c+=d?d(i,t,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Al(e,n,t){let r=new Date(0);return r.setFullYear(e,n,t),r.setHours(0,0,0),r}function Tn(e,n){let t=oy(e);if(Il[t]??={},Il[t][n])return Il[t][n];let r="";switch(n){case"shortDate":r=xo(e,rt.Short);break;case"mediumDate":r=xo(e,rt.Medium);break;case"longDate":r=xo(e,rt.Long);break;case"fullDate":r=xo(e,rt.Full);break;case"shortTime":r=To(e,rt.Short);break;case"mediumTime":r=To(e,rt.Medium);break;case"longTime":r=To(e,rt.Long);break;case"fullTime":r=To(e,rt.Full);break;case"short":let i=Tn(e,"shortTime"),o=Tn(e,"shortDate");r=Sl(Ao(e,rt.Short),[i,o]);break;case"medium":let s=Tn(e,"mediumTime"),a=Tn(e,"mediumDate");r=Sl(Ao(e,rt.Medium),[s,a]);break;case"long":let l=Tn(e,"longTime"),c=Tn(e,"longDate");r=Sl(Ao(e,rt.Long),[l,c]);break;case"full":let u=Tn(e,"fullTime"),d=Tn(e,"fullDate");r=Sl(Ao(e,rt.Full),[u,d]);break}return r&&(Il[t][n]=r),r}function Sl(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,r){return n!=null&&r in n?n[r]:t})),e}function Ut(e,n,t="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=-e+1:(e=-e,o=t));let s=String(e);for(;s.length<n;)s="0"+s;return r&&(s=s.slice(s.length-n)),o+s}function xS(e,n){return Ut(e,3).substring(0,n)}function Ae(e,n,t=0,r=!1,i=!1){return function(o,s){let a=TS(e,o);if((t>0||a>-t)&&(a+=t),e===3)a===0&&t===-12&&(a=12);else if(e===6)return xS(a,n);let l=Oo(s,An.MinusSign);return Ut(a,n,l,r,i)}}function TS(e,n){switch(e){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate();case 3:return n.getHours();case 4:return n.getMinutes();case 5:return n.getSeconds();case 6:return n.getMilliseconds();case 7:return n.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}function he(e,n,t=He.Format,r=!1){return function(i,o){return AS(i,o,e,n,t,r)}}function AS(e,n,t,r,i,o){switch(t){case 2:return ly(n,i,r)[e.getMonth()];case 1:return ay(n,i,r)[e.getDay()];case 0:let s=e.getHours(),a=e.getMinutes();if(o){let c=dy(n),u=fy(n,i,r),d=c.findIndex(m=>{if(Array.isArray(m)){let[f,_]=m,b=s>=f.hours&&a>=f.minutes,E=s<_.hours||s===_.hours&&a<_.minutes;if(f.hours<_.hours){if(b&&E)return!0}else if(b||E)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return sy(n,i,r)[s<12?0:1];case 3:return cy(n,r)[e.getFullYear()<=0?0:1];default:let l=t;throw new Error(`unexpected translation type ${l}`)}}function Ml(e){return function(n,t,r){let i=-1*r,o=Oo(t,An.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case 0:return(i>=0?"+":"")+Ut(s,2,o)+Ut(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Ut(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Ut(s,2,o)+":"+Ut(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Ut(s,2,o)+":"+Ut(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}var OS=0,Tl=4;function NS(e){let n=Al(e,OS,1).getDay();return Al(e,0,1+(n<=Tl?Tl:Tl+7)-n)}function py(e){let n=e.getDay(),t=n===0?-3:Tl-n;return Al(e.getFullYear(),e.getMonth(),e.getDate()+t)}function Lf(e,n=!1){return function(t,r){let i;if(n){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=py(t),s=NS(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Ut(i,e,Oo(r,An.MinusSign))}}function xl(e,n=!1){return function(t,r){let o=py(t).getFullYear();return Ut(o,e,Oo(r,An.MinusSign),n)}}var jf={};function RS(e){if(jf[e])return jf[e];let n;switch(e){case"G":case"GG":case"GGG":n=he(3,le.Abbreviated);break;case"GGGG":n=he(3,le.Wide);break;case"GGGGG":n=he(3,le.Narrow);break;case"y":n=Ae(0,1,0,!1,!0);break;case"yy":n=Ae(0,2,0,!0,!0);break;case"yyy":n=Ae(0,3,0,!1,!0);break;case"yyyy":n=Ae(0,4,0,!1,!0);break;case"Y":n=xl(1);break;case"YY":n=xl(2,!0);break;case"YYY":n=xl(3);break;case"YYYY":n=xl(4);break;case"M":case"L":n=Ae(1,1,1);break;case"MM":case"LL":n=Ae(1,2,1);break;case"MMM":n=he(2,le.Abbreviated);break;case"MMMM":n=he(2,le.Wide);break;case"MMMMM":n=he(2,le.Narrow);break;case"LLL":n=he(2,le.Abbreviated,He.Standalone);break;case"LLLL":n=he(2,le.Wide,He.Standalone);break;case"LLLLL":n=he(2,le.Narrow,He.Standalone);break;case"w":n=Lf(1);break;case"ww":n=Lf(2);break;case"W":n=Lf(1,!0);break;case"d":n=Ae(2,1);break;case"dd":n=Ae(2,2);break;case"c":case"cc":n=Ae(7,1);break;case"ccc":n=he(1,le.Abbreviated,He.Standalone);break;case"cccc":n=he(1,le.Wide,He.Standalone);break;case"ccccc":n=he(1,le.Narrow,He.Standalone);break;case"cccccc":n=he(1,le.Short,He.Standalone);break;case"E":case"EE":case"EEE":n=he(1,le.Abbreviated);break;case"EEEE":n=he(1,le.Wide);break;case"EEEEE":n=he(1,le.Narrow);break;case"EEEEEE":n=he(1,le.Short);break;case"a":case"aa":case"aaa":n=he(0,le.Abbreviated);break;case"aaaa":n=he(0,le.Wide);break;case"aaaaa":n=he(0,le.Narrow);break;case"b":case"bb":case"bbb":n=he(0,le.Abbreviated,He.Standalone,!0);break;case"bbbb":n=he(0,le.Wide,He.Standalone,!0);break;case"bbbbb":n=he(0,le.Narrow,He.Standalone,!0);break;case"B":case"BB":case"BBB":n=he(0,le.Abbreviated,He.Format,!0);break;case"BBBB":n=he(0,le.Wide,He.Format,!0);break;case"BBBBB":n=he(0,le.Narrow,He.Format,!0);break;case"h":n=Ae(3,1,-12);break;case"hh":n=Ae(3,2,-12);break;case"H":n=Ae(3,1);break;case"HH":n=Ae(3,2);break;case"m":n=Ae(4,1);break;case"mm":n=Ae(4,2);break;case"s":n=Ae(5,1);break;case"ss":n=Ae(5,2);break;case"S":n=Ae(6,1);break;case"SS":n=Ae(6,2);break;case"SSS":n=Ae(6,3);break;case"Z":case"ZZ":case"ZZZ":n=Ml(0);break;case"ZZZZZ":n=Ml(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=Ml(1);break;case"OOOO":case"ZZZZ":case"zzzz":n=Ml(2);break;default:return null}return jf[e]=n,n}function gy(e,n){e=e.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function PS(e,n){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+n),e}function kS(e,n,t){let i=e.getTimezoneOffset(),o=gy(n,i);return PS(e,-1*(o-i))}function FS(e){if(ny(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[i,o=1,s=1]=e.split("-").map(a=>+a);return Al(i,o-1,s)}let t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let r;if(r=e.match(SS))return LS(r)}let n=new Date(e);if(!ny(n))throw new Error(`Unable to convert "${e}" into a date`);return n}function LS(e){let n=new Date(0),t=0,r=0,i=e[8]?n.setUTCFullYear:n.setFullYear,o=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-t,a=Number(e[5]||0)-r,l=Number(e[6]||0),c=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(n,s,a,l,c),n}function ny(e){return e instanceof Date&&!isNaN(e.valueOf())}var Ol=class{$implicit;ngForOf;index;count;constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Oe=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Ol(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),ry(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);ry(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(M(Ii),M(hl),M(Rf))};static \u0275dir=pe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function ry(e,n){e.context.$implicit=n.item}var Se=(()=>{class e{_viewContainer;_context=new Nl;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){iy(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){iy(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(M(Ii),M(hl))};static \u0275dir=pe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),Nl=class{$implicit=null;ngIf=null};function iy(e,n){if(e&&!e.createEmbeddedView)throw new S(2020,!1)}function jS(e,n){return new S(2100,!1)}var VS="mediumDate",my=new T(""),vy=new T(""),No=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??VS,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return hy(t,s,o||this.locale,a)}catch(s){throw jS(e,s.message)}}static \u0275fac=function(r){return new(r||e)(M(bl,16),M(my,24),M(vy,24))};static \u0275pipe=Rv({name:"date",type:e,pure:!0})}return e})();var _e=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Mn({type:e});static \u0275inj=Dn({})}return e})();function Uf(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}var Bf="browser",yy="server";function Rl(e){return e===yy}var Ro=class{};var _y=(()=>{class e{static \u0275prov=N({token:e,providedIn:"root",factory:()=>new $f(C(Le),window)})}return e})(),$f=class{document;window;offset=()=>[0,0];constructor(n,t){this.document=n,this.window=t}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){let t=BS(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){let t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function BS(e,n){let t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}var Fl=new T(""),Gf=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new S(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||e)(F(Fl),F(Ce))};static \u0275prov=N({token:e,factory:e.\u0275fac})}return e})(),Po=class{_doc;constructor(n){this._doc=n}manager},Pl="ng-app-id";function wy(e){for(let n of e)n.remove()}function by(e,n){let t=n.createElement("style");return t.textContent=e,t}function $S(e,n,t,r){let i=e.head?.querySelectorAll(`style[${Pl}="${n}"],link[${Pl}="${n}"]`);if(i)for(let o of i)o.removeAttribute(Pl),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function zf(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var Wf=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Rl(o),$S(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,by);r?.forEach(i=>this.addUsage(i,this.external,zf))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(wy(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])wy(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,by(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,zf(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Pl,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||e)(F(Le),F(lf),F(uf,8),F(Ci))};static \u0275prov=N({token:e,factory:e.\u0275fac})}return e})(),Hf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Zf=/%COMP%/g;var Dy="%COMP%",HS=`_nghost-${Dy}`,zS=`_ngcontent-${Dy}`,qS=!0,GS=new T("",{providedIn:"root",factory:()=>qS});function WS(e){return zS.replace(Zf,e)}function ZS(e){return HS.replace(Zf,e)}function Ey(e,n){return n.map(t=>t.replace(Zf,e))}var Kf=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,l,c=null,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=Rl(a),this.defaultRenderer=new ko(t,s,l,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Yt.ShadowDom&&(r=$(D({},r),{encapsulation:Yt.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof kl?i.applyToHost(t):i instanceof Fo&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case Yt.Emulated:o=new kl(l,c,r,this.appId,u,s,a,d,m);break;case Yt.ShadowDom:return new qf(l,c,t,r,s,a,this.nonce,d,m);default:o=new Fo(l,c,r,u,s,a,d,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||e)(F(Gf),F(Wf),F(lf),F(GS),F(Le),F(Ci),F(Ce),F(uf),F(Di,8))};static \u0275prov=N({token:e,factory:e.\u0275fac})}return e})(),ko=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,r,i,o){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(Hf[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(Cy(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(Cy(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new S(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;let o=Hf[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){let i=Hf[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(Cn.DashCase|Cn.Important)?n.style.setProperty(t,r,i&Cn.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&Cn.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n!=null&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r,i){if(typeof n=="string"&&(n=It().getGlobalEventTarget(this.doc,n),!n))throw new S(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,t,o)),this.eventManager.addEventListener(n,t,o,i)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))===!1&&t.preventDefault()}}};function Cy(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var qf=class extends ko{sharedStylesHost;hostEl;shadowRoot;constructor(n,t,r,i,o,s,a,l,c){super(n,o,s,l,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=Ey(i.id,u);for(let m of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=m,this.shadowRoot.appendChild(f)}let d=i.getExternalStyles?.();if(d)for(let m of d){let f=zf(m,o);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Fo=class extends ko{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,r,i,o,s,a,l,c){super(n,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?Ey(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},kl=class extends Fo{contentAttr;hostAttr;constructor(n,t,r,i,o,s,a,l,c){let u=i+"-"+r.id;super(n,t,r,o,s,a,l,c,u),this.contentAttr=WS(u),this.hostAttr=ZS(u)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}};var Ll=class e extends So{supportsDOMEvents=!0;static makeCurrent(){Pf(new e)}onAndCancel(n,t,r,i){return n.addEventListener(t,r,i),()=>{n.removeEventListener(t,r,i)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=KS();return t==null?null:YS(t)}resetBaseElement(){Lo=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Uf(document.cookie,n)}},Lo=null;function KS(){return Lo=Lo||document.head.querySelector("base"),Lo?Lo.getAttribute("href"):null}function YS(e){return new URL(e,document.baseURI).pathname}var QS=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac})}return e})(),Sy=(()=>{class e extends Po{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(F(Le))};static \u0275prov=N({token:e,factory:e.\u0275fac})}return e})(),Iy=["alt","control","meta","shift"],JS={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},XS={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},My=(()=>{class e extends Po{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>It().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Iy.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=JS[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Iy.forEach(s=>{if(s!==i){let a=XS[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||e)(F(Le))};static \u0275prov=N({token:e,factory:e.\u0275fac})}return e})();function Yf(e,n){return Yv(D({rootComponent:e},eM(n)))}function eM(e){return{appProviders:[...oM,...e?.providers??[]],platformProviders:iM}}function tM(){Ll.makeCurrent()}function nM(){return new Kt}function rM(){return Km(document),document}var iM=[{provide:Ci,useValue:Bf},{provide:cf,useValue:tM,multi:!0},{provide:Le,useFactory:rM}];var oM=[{provide:Ja,useValue:"root"},{provide:Kt,useFactory:nM},{provide:Fl,useClass:Sy,multi:!0,deps:[Le]},{provide:Fl,useClass:My,multi:!0,deps:[Le]},Kf,Wf,Gf,{provide:hi,useExisting:Kf},{provide:Ro,useClass:QS},[]];var xy=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||e)(F(Le))};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var U="primary",Yo=Symbol("RouteTitle"),th=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Er(e){return new th(e)}function Fy(e,n,t){let r=t.path.split("/");if(r.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function aM(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!en(e[t],n[t]))return!1;return!0}function en(e,n){let t=e?nh(e):void 0,r=n?nh(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Ly(e[i],n[i]))return!1;return!0}function nh(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Ly(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),r=[...n].sort();return t.every((i,o)=>r[o]===i)}else return e===n}function jy(e){return e.length>0?e[e.length-1]:null}function Yn(e){return Fu(e)?e:_r(e)?me(Promise.resolve(e)):k(e)}var lM={exact:Uy,subset:By},Vy={exact:cM,subset:uM,ignored:()=>!0};function Ty(e,n,t){return lM[t.paths](e.root,n.root,t.matrixParams)&&Vy[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function cM(e,n){return en(e,n)}function Uy(e,n,t){if(!Cr(e.segments,n.segments)||!Ul(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!e.children[r]||!Uy(e.children[r],n.children[r],t))return!1;return!0}function uM(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>Ly(e[t],n[t]))}function By(e,n,t){return $y(e,n,n.segments,t)}function $y(e,n,t,r){if(e.segments.length>t.length){let i=e.segments.slice(0,t.length);return!(!Cr(i,t)||n.hasChildren()||!Ul(i,t,r))}else if(e.segments.length===t.length){if(!Cr(e.segments,t)||!Ul(e.segments,t,r))return!1;for(let i in n.children)if(!e.children[i]||!By(e.children[i],n.children[i],r))return!1;return!0}else{let i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!Cr(e.segments,i)||!Ul(e.segments,i,r)||!e.children[U]?!1:$y(e.children[U],n,o,r)}}function Ul(e,n,t){return n.every((r,i)=>Vy[t](e[i].parameters,r.parameters))}var nn=class{root;queryParams;fragment;_queryParamMap;constructor(n=new ne([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Er(this.queryParams),this._queryParamMap}toString(){return hM.serialize(this)}},ne=class{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bl(this)}},Gn=class{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=Er(this.parameters),this._parameterMap}toString(){return zy(this)}};function dM(e,n){return Cr(e,n)&&e.every((t,r)=>en(t.parameters,n[r].parameters))}function Cr(e,n){return e.length!==n.length?!1:e.every((t,r)=>t.path===n[r].path)}function fM(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===U&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==U&&(t=t.concat(n(i,r)))}),t}var Ir=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:()=>new Wn,providedIn:"root"})}return e})(),Wn=class{parse(n){let t=new ih(n);return new nn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${jo(n.root,!0)}`,r=mM(n.queryParams),i=typeof n.fragment=="string"?`#${pM(n.fragment)}`:"";return`${t}${r}${i}`}},hM=new Wn;function Bl(e){return e.segments.map(n=>zy(n)).join("/")}function jo(e,n){if(!e.hasChildren())return Bl(e);if(n){let t=e.children[U]?jo(e.children[U],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==U&&r.push(`${i}:${jo(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=fM(e,(r,i)=>i===U?[jo(e.children[U],!1)]:[`${i}:${jo(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[U]!=null?`${Bl(e)}/${t[0]}`:`${Bl(e)}/(${t.join("//")})`}}function Hy(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jl(e){return Hy(e).replace(/%3B/gi,";")}function pM(e){return encodeURI(e)}function rh(e){return Hy(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $l(e){return decodeURIComponent(e)}function Ay(e){return $l(e.replace(/\+/g,"%20"))}function zy(e){return`${rh(e.path)}${gM(e.parameters)}`}function gM(e){return Object.entries(e).map(([n,t])=>`;${rh(n)}=${rh(t)}`).join("")}function mM(e){let n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(i=>`${jl(t)}=${jl(i)}`).join("&"):`${jl(t)}=${jl(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var vM=/^[^\/()?;#]+/;function Qf(e){let n=e.match(vM);return n?n[0]:""}var yM=/^[^\/()?;=#]+/;function _M(e){let n=e.match(yM);return n?n[0]:""}var wM=/^[^=?&#]+/;function bM(e){let n=e.match(wM);return n?n[0]:""}var CM=/^[^&#]+/;function DM(e){let n=e.match(CM);return n?n[0]:""}var ih=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ne([],{}):new ne([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[U]=new ne(n,t)),r}parseSegment(){let n=Qf(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new S(4009,!1);return this.capture(n),new Gn($l(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=_M(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Qf(this.remaining);i&&(r=i,this.capture(r))}n[$l(t)]=$l(r)}parseQueryParam(n){let t=bM(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=DM(this.remaining);s&&(r=s,this.capture(r))}let i=Ay(t),o=Ay(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Qf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new S(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=U);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[U]:new ne([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new S(4011,!1)}};function qy(e){return e.segments.length>0?new ne([],{[U]:e}):e}function Gy(e){let n={};for(let[r,i]of Object.entries(e.children)){let o=Gy(i);if(r===U&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let t=new ne(e.segments,n);return EM(t)}function EM(e){if(e.numberOfChildren===1&&e.children[U]){let n=e.children[U];return new ne(e.segments.concat(n.segments),n.children)}return e}function Zn(e){return e instanceof nn}function Wy(e,n,t=null,r=null){let i=Zy(e);return Ky(i,n,t,r)}function Zy(e){let n;function t(o){let s={};for(let l of o.children){let c=t(l);s[l.outlet]=c}let a=new ne(o.url,s);return o===e&&(n=a),a}let r=t(e.root),i=qy(r);return n??i}function Ky(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(n.length===0)return Jf(i,i,i,t,r);let o=IM(n);if(o.toRoot())return Jf(i,i,new ne([],{}),t,r);let s=SM(o,i,e),a=s.processChildren?Uo(s.segmentGroup,s.index,o.commands):Qy(s.segmentGroup,s.index,o.commands);return Jf(i,s.segmentGroup,a,t,r)}function zl(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function $o(e){return typeof e=="object"&&e!=null&&e.outlets}function Jf(e,n,t,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;e===n?s=t:s=Yy(e,n,t);let a=qy(Gy(s));return new nn(a,o,i)}function Yy(e,n,t){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===n?r[i]=t:r[i]=Yy(o,n,t)}),new ne(e.segments,r)}var ql=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&zl(r[0]))throw new S(4003,!1);let i=r.find($o);if(i&&i!==jy(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function IM(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new ql(!0,0,e);let n=0,t=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?n++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new ql(t,n,r)}var Ai=class{segmentGroup;processChildren;index;constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}};function SM(e,n,t){if(e.isAbsolute)return new Ai(n,!0,0);if(!t)return new Ai(n,!1,NaN);if(t.parent===null)return new Ai(t,!0,0);let r=zl(e.commands[0])?0:1,i=t.segments.length-1+r;return MM(t,i,e.numberOfDoubleDots)}function MM(e,n,t){let r=e,i=n,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new Ai(r,!1,i-o)}function xM(e){return $o(e[0])?e[0].outlets:{[U]:e}}function Qy(e,n,t){if(e??=new ne([],{}),e.segments.length===0&&e.hasChildren())return Uo(e,n,t);let r=TM(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new ne(e.segments.slice(0,r.pathIndex),{});return o.children[U]=new ne(e.segments.slice(r.pathIndex),e.children),Uo(o,0,i)}else return r.match&&i.length===0?new ne(e.segments,{}):r.match&&!e.hasChildren()?oh(e,n,t):r.match?Uo(e,0,i):oh(e,n,t)}function Uo(e,n,t){if(t.length===0)return new ne(e.segments,{});{let r=xM(t),i={};if(Object.keys(r).some(o=>o!==U)&&e.children[U]&&e.numberOfChildren===1&&e.children[U].segments.length===0){let o=Uo(e.children[U],n,t);return new ne(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Qy(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ne(e.segments,i)}}function TM(e,n,t){let r=0,i=n,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return o;let s=e.segments[i],a=t[r];if($o(a))break;let l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!Ny(l,c,s))return o;r+=2}else{if(!Ny(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function oh(e,n,t){let r=e.segments.slice(0,n),i=0;for(;i<t.length;){let o=t[i];if($o(o)){let l=AM(o.outlets);return new ne(r,l)}if(i===0&&zl(t[0])){let l=e.segments[n];r.push(new Gn(l.path,Oy(t[0]))),i++;continue}let s=$o(o)?o.outlets[U]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&zl(a)?(r.push(new Gn(s,Oy(a))),i+=2):(r.push(new Gn(s,{})),i++)}return new ne(r,{})}function AM(e){let n={};return Object.entries(e).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[t]=oh(new ne([],{}),0,r))}),n}function Oy(e){let n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function Ny(e,n,t){return e==t.path&&en(n,t.parameters)}var Hl="imperative",Fe=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Fe||{}),ft=class{id;url;constructor(n,t){this.id=n,this.url=t}},Kn=class extends ft{type=Fe.NavigationStart;navigationTrigger;restoredState;constructor(n,t,r="imperative",i=null){super(n,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ot=class extends ft{urlAfterRedirects;type=Fe.NavigationEnd;constructor(n,t,r){super(n,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},it=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(it||{}),Ni=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Ni||{}),tn=class extends ft{reason;code;type=Fe.NavigationCancel;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},rn=class extends ft{reason;code;type=Fe.NavigationSkipped;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}},Ri=class extends ft{error;target;type=Fe.NavigationError;constructor(n,t,r,i){super(n,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ho=class extends ft{urlAfterRedirects;state;type=Fe.RoutesRecognized;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gl=class extends ft{urlAfterRedirects;state;type=Fe.GuardsCheckStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wl=class extends ft{urlAfterRedirects;state;shouldActivate;type=Fe.GuardsCheckEnd;constructor(n,t,r,i,o){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Zl=class extends ft{urlAfterRedirects;state;type=Fe.ResolveStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kl=class extends ft{urlAfterRedirects;state;type=Fe.ResolveEnd;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yl=class{route;type=Fe.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ql=class{route;type=Fe.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Jl=class{snapshot;type=Fe.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xl=class{snapshot;type=Fe.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ec=class{snapshot;type=Fe.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tc=class{snapshot;type=Fe.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pi=class{routerEvent;position;anchor;type=Fe.Scroll;constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},zo=class{},ki=class{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function OM(e,n){return e.providers&&!e._injector&&(e._injector=Do(e.providers,n,`Route: ${e.path}`)),e._injector??n}function $t(e){return e.outlet||U}function NM(e,n){let t=e.filter(r=>$t(r)===n);return t.push(...e.filter(r=>$t(r)!==n)),t}function Qo(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var nc=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Qo(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new Sr(this.rootInjector)}},Sr=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new nc(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||e)(F(et))};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),rc=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=sh(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){let t=sh(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=ah(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return ah(n,this._root).map(t=>t.value)}};function sh(e,n){if(e===n.value)return n;for(let t of n.children){let r=sh(e,t);if(r)return r}return null}function ah(e,n){if(e===n.value)return[n];for(let t of n.children){let r=ah(e,t);if(r.length)return r.unshift(n),r}return[]}var dt=class{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ti(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var qo=class extends rc{snapshot;constructor(n,t){super(n),this.snapshot=t,gh(this,n)}toString(){return this.snapshot.toString()}};function Jy(e){let n=RM(e),t=new je([new Gn("",{})]),r=new je({}),i=new je({}),o=new je({}),s=new je(""),a=new on(t,r,o,s,i,U,e,n.root);return a.snapshot=n.root,new qo(new dt(a,[]),n)}function RM(e){let n={},t={},r={},i="",o=new Dr([],n,r,i,t,U,e,null,{});return new Go("",new dt(o,[]))}var on=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,r,i,o,s,a,l){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(J(c=>c[Yo]))??k(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(J(n=>Er(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(J(n=>Er(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ic(e,n,t="emptyOnly"){let r,{routeConfig:i}=e;return n!==null&&(t==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:D(D({},n.params),e.params),data:D(D({},n.data),e.data),resolve:D(D(D(D({},e.data),n.data),i?.data),e._resolvedData)}:r={params:D({},e.params),data:D({},e.data),resolve:D(D({},e.data),e._resolvedData??{})},i&&e_(i)&&(r.resolve[Yo]=i.title),r}var Dr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Yo]}constructor(n,t,r,i,o,s,a,l,c){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Er(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Er(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},Go=class extends rc{url;constructor(n,t){super(t),this.url=n,gh(this,t)}toString(){return Xy(this._root)}};function gh(e,n){n.value._routerState=e,n.children.forEach(t=>gh(e,t))}function Xy(e){let n=e.children.length>0?` { ${e.children.map(Xy).join(", ")} } `:"";return`${e.value}${n}`}function Xf(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,en(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),en(n.params,t.params)||e.paramsSubject.next(t.params),aM(n.url,t.url)||e.urlSubject.next(t.url),en(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function lh(e,n){let t=en(e.params,n.params)&&dM(e.url,n.url),r=!e.parent!=!n.parent;return t&&!r&&(!e.parent||lh(e.parent,n.parent))}function e_(e){return typeof e.title=="string"||e.title===null}var t_=new T(""),Mr=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=U;activateEvents=new ke;deactivateEvents=new ke;attachEvents=new ke;detachEvents=new ke;routerOutletData=Bm(void 0);parentContexts=C(Sr);location=C(Ii);changeDetector=C(br);inputBinder=C(Jo,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new S(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new ch(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=pe({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Bn]})}return e})(),ch=class{route;childContexts;parent;outletData;constructor(n,t,r,i){this.route=n,this.childContexts=t,this.parent=r,this.outletData=i}get(n,t){return n===on?this.route:n===Sr?this.childContexts:n===t_?this.outletData:this.parent.get(n,t)}},Jo=new T(""),mh=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=so([r.queryParams,r.params,r.data]).pipe(gt(([o,s,a],l)=>(a=D(D(D({},o),s),a),l===0?k(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=Qv(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac})}return e})(),vh=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=ae({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Ze(0,"router-outlet")},dependencies:[Mr],encapsulation:2})}return e})();function yh(e){let n=e.children&&e.children.map(yh),t=n?$(D({},e),{children:n}):D({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==U&&(t.component=vh),t}function PM(e,n,t){let r=Wo(e,n._root,t?t._root:void 0);return new qo(r,n)}function Wo(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=n.value;let i=kM(e,n,t);return new dt(r,i)}else{if(e.shouldAttach(n.value)){let o=e.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Wo(e,a)),s}}let r=FM(n.value),i=n.children.map(o=>Wo(e,o));return new dt(r,i)}}function kM(e,n,t){return n.children.map(r=>{for(let i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Wo(e,r,i);return Wo(e,r)})}function FM(e){return new on(new je(e.url),new je(e.params),new je(e.queryParams),new je(e.fragment),new je(e.data),e.outlet,e.component,e)}var Fi=class{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},n_="ngNavigationCancelingError";function oc(e,n){let{redirectTo:t,navigationBehaviorOptions:r}=Zn(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=r_(!1,it.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function r_(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[n_]=!0,t.cancellationCode=n,t}function LM(e){return i_(e)&&Zn(e.url)}function i_(e){return!!e&&e[n_]}var jM=(e,n,t,r)=>J(i=>(new uh(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)),uh=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,r,i,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),Xf(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){let i=Ti(t);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=Ti(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=Ti(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){let i=Ti(t);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new tc(o.value.snapshot))}),n.children.length&&this.forwardEvent(new Xl(n.value.snapshot))}activateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(Xf(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Xf(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},sc=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Oi=class{component;route;constructor(n,t){this.component=n,this.route=t}};function VM(e,n,t){let r=e._root,i=n?n._root:null;return Vo(r,i,t,[r.value])}function UM(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function ji(e,n){let t=Symbol(),r=n.get(e,t);return r===t?typeof e=="function"&&!Fg(e)?e:n.get(e):r}function Vo(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ti(n);return e.children.forEach(s=>{BM(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Bo(a,t.getContext(s),i)),i}function BM(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=$M(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new sc(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Vo(e,n,a?a.children:null,r,i):Vo(e,n,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Oi(a.outlet.component,s))}else s&&Bo(n,a,i),i.canActivateChecks.push(new sc(r)),o.component?Vo(e,null,a?a.children:null,r,i):Vo(e,null,t,r,i);return i}function $M(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!Cr(e.url,n.url);case"pathParamsOrQueryParamsChange":return!Cr(e.url,n.url)||!en(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lh(e,n)||!en(e.queryParams,n.queryParams);case"paramsChange":default:return!lh(e,n)}}function Bo(e,n,t){let r=Ti(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?n?Bo(s,n.children.getContext(o),t):Bo(s,null,t):Bo(s,n,t)}),i.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new Oi(n.outlet.component,i)):t.canDeactivateChecks.push(new Oi(null,i)):t.canDeactivateChecks.push(new Oi(null,i))}function Xo(e){return typeof e=="function"}function HM(e){return typeof e=="boolean"}function zM(e){return e&&Xo(e.canLoad)}function qM(e){return e&&Xo(e.canActivate)}function GM(e){return e&&Xo(e.canActivateChild)}function WM(e){return e&&Xo(e.canDeactivate)}function ZM(e){return e&&Xo(e.canMatch)}function o_(e){return e instanceof mn||e?.name==="EmptyError"}var Vl=Symbol("INITIAL_VALUE");function Li(){return gt(e=>so(e.map(n=>n.pipe(yn(1),Uu(Vl)))).pipe(J(n=>{for(let t of n)if(t!==!0){if(t===Vl)return Vl;if(t===!1||KM(t))return t}return!0}),$e(n=>n!==Vl),yn(1)))}function KM(e){return Zn(e)||e instanceof Fi}function YM(e,n){return be(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?k($(D({},t),{guardsResult:!0})):QM(s,r,i,e).pipe(be(a=>a&&HM(a)?JM(r,o,e,n):k(a)),J(a=>$(D({},t),{guardsResult:a})))})}function QM(e,n,t,r){return me(e).pipe(be(i=>rx(i.component,i.route,t,n,r)),_n(i=>i!==!0,!0))}function JM(e,n,t,r){return me(n).pipe(Fn(i=>Jr(ex(i.route.parent,r),XM(i.route,r),nx(e,i.path,t),tx(e,i.route,t))),_n(i=>i!==!0,!0))}function XM(e,n){return e!==null&&n&&n(new ec(e)),k(!0)}function ex(e,n){return e!==null&&n&&n(new Jl(e)),k(!0)}function tx(e,n,t){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return k(!0);let i=r.map(o=>ha(()=>{let s=Qo(n)??t,a=ji(o,s),l=qM(a)?a.canActivate(n,e):Ct(s,()=>a(n,e));return Yn(l).pipe(_n())}));return k(i).pipe(Li())}function nx(e,n,t){let r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>UM(s)).filter(s=>s!==null).map(s=>ha(()=>{let a=s.guards.map(l=>{let c=Qo(s.node)??t,u=ji(l,c),d=GM(u)?u.canActivateChild(r,e):Ct(c,()=>u(r,e));return Yn(d).pipe(_n())});return k(a).pipe(Li())}));return k(o).pipe(Li())}function rx(e,n,t,r,i){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return k(!0);let s=o.map(a=>{let l=Qo(n)??i,c=ji(a,l),u=WM(c)?c.canDeactivate(e,n,t,r):Ct(l,()=>c(e,n,t,r));return Yn(u).pipe(_n())});return k(s).pipe(Li())}function ix(e,n,t,r){let i=n.canLoad;if(i===void 0||i.length===0)return k(!0);let o=i.map(s=>{let a=ji(s,e),l=zM(a)?a.canLoad(n,t):Ct(e,()=>a(n,t));return Yn(l)});return k(o).pipe(Li(),s_(r))}function s_(e){return Nu(Ve(n=>{if(typeof n!="boolean")throw oc(e,n)}),J(n=>n===!0))}function ox(e,n,t,r){let i=n.canMatch;if(!i||i.length===0)return k(!0);let o=i.map(s=>{let a=ji(s,e),l=ZM(a)?a.canMatch(n,t):Ct(e,()=>a(n,t));return Yn(l)});return k(o).pipe(Li(),s_(r))}var Zo=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},Ko=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function xi(e){return Yr(new Zo(e))}function sx(e){return Yr(new S(4e3,!1))}function ax(e){return Yr(r_(!1,it.GuardRejected))}var dh=class{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return k(r);if(i.numberOfChildren>1||!i.children[U])return sx(`${n.redirectTo}`);i=i.children[U]}}applyRedirectCommands(n,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:m,params:f,data:_,title:b}=i,E=Ct(o,()=>a({params:f,data:_,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:m,title:b}));if(E instanceof nn)throw new Ko(E);t=E}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r);if(t[0]==="/")throw new Ko(s);return s}applyRedirectCreateUrlTree(n,t,r,i){let o=this.createSegmentGroup(n,t.root,r,i);return new nn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let r={};return Object.entries(n).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(n,t,r,i){let o=this.createSegments(n,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,r,i)}),new ne(o,s)}createSegments(n,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,t,r){let i=r[t.path.substring(1)];if(!i)throw new S(4001,!1);return i}findOrReturn(n,t){let r=0;for(let i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}},fh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function lx(e,n,t,r,i){let o=a_(e,n,t);return o.matched?(r=OM(n,r),ox(r,n,t,i).pipe(J(s=>s===!0?o:D({},fh)))):k(o)}function a_(e,n,t){if(n.path==="**")return cx(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?D({},fh):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(n.matcher||Fy)(t,e,n);if(!i)return D({},fh);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?D(D({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function cx(e){return{matched:!0,parameters:e.length>0?jy(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Ry(e,n,t,r){return t.length>0&&fx(e,t,r)?{segmentGroup:new ne(n,dx(r,new ne(t,e.children))),slicedSegments:[]}:t.length===0&&hx(e,t,r)?{segmentGroup:new ne(e.segments,ux(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new ne(e.segments,e.children),slicedSegments:t}}function ux(e,n,t,r){let i={};for(let o of t)if(lc(e,n,o)&&!r[$t(o)]){let s=new ne([],{});i[$t(o)]=s}return D(D({},r),i)}function dx(e,n){let t={};t[U]=n;for(let r of e)if(r.path===""&&$t(r)!==U){let i=new ne([],{});t[$t(r)]=i}return t}function fx(e,n,t){return t.some(r=>lc(e,n,r)&&$t(r)!==U)}function hx(e,n,t){return t.some(r=>lc(e,n,r))}function lc(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function px(e,n,t){return n.length===0&&!e.children[t]}var hh=class{};function gx(e,n,t,r,i,o,s="emptyOnly"){return new ph(e,n,t,r,i,s,o).recognize()}var mx=31,ph=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,r,i,o,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new dh(this.urlSerializer,this.urlTree)}noMatchError(n){return new S(4002,`'${n.segmentGroup}'`)}recognize(){let n=Ry(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(J(({children:t,rootSnapshot:r})=>{let i=new dt(r,t),o=new Go("",i),s=Wy(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){let t=new Dr([],Object.freeze({}),Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),U,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,U,t).pipe(J(r=>({children:r,rootSnapshot:t})),vn(r=>{if(r instanceof Ko)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Zo?this.noMatchError(r):r}))}processSegmentGroup(n,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,t,r,o):this.processSegment(n,t,r,r.segments,i,!0,o).pipe(J(s=>s instanceof dt?[s]:[]))}processChildren(n,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return me(o).pipe(Fn(s=>{let a=r.children[s],l=NM(t,s);return this.processSegmentGroup(n,l,a,s,i)}),Vu((s,a)=>(s.push(...a),s)),Ln(null),ju(),be(s=>{if(s===null)return xi(r);let a=l_(s);return vx(a),k(a)}))}processSegment(n,t,r,i,o,s,a){return me(t).pipe(Fn(l=>this.processSegmentAgainstRoute(l._injector??n,t,l,r,i,o,s,a).pipe(vn(c=>{if(c instanceof Zo)return k(null);throw c}))),_n(l=>!!l),vn(l=>{if(o_(l))return px(r,i,o)?k(new hh):xi(r);throw l}))}processSegmentAgainstRoute(n,t,r,i,o,s,a,l){return $t(r)!==s&&(s===U||!lc(i,o,r))?xi(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,o,s,l):xi(i)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:m}=a_(t,i,o);if(!l)return xi(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>mx&&(this.allowRedirects=!1));let f=new Dr(o,c,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,Py(i),$t(i),i.component??i._loadedComponent??null,i,ky(i)),_=ic(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(_.params),f.data=Object.freeze(_.data);let b=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,f,n);return this.applyRedirects.lineralizeSegments(i,b).pipe(be(E=>this.processSegment(n,r,t,E.concat(m),s,!1,a)))}matchSegmentAgainstRoute(n,t,r,i,o,s){let a=lx(t,r,i,n,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(gt(l=>l.matched?(n=r._injector??n,this.getChildConfig(n,r,i).pipe(gt(({routes:c})=>{let u=r._loadedInjector??n,{parameters:d,consumedSegments:m,remainingSegments:f}=l,_=new Dr(m,d,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,Py(r),$t(r),r.component??r._loadedComponent??null,r,ky(r)),b=ic(_,s,this.paramsInheritanceStrategy);_.params=Object.freeze(b.params),_.data=Object.freeze(b.data);let{segmentGroup:E,slicedSegments:x}=Ry(t,m,f,c);if(x.length===0&&E.hasChildren())return this.processChildren(u,c,E,_).pipe(J(ve=>new dt(_,ve)));if(c.length===0&&x.length===0)return k(new dt(_,[]));let fe=$t(r)===o;return this.processSegment(u,c,E,x,fe?U:o,!0,_).pipe(J(ve=>new dt(_,ve instanceof dt?[ve]:[])))}))):xi(t)))}getChildConfig(n,t,r){return t.children?k({routes:t.children,injector:n}):t.loadChildren?t._loadedRoutes!==void 0?k({routes:t._loadedRoutes,injector:t._loadedInjector}):ix(n,t,r,this.urlSerializer).pipe(be(i=>i?this.configLoader.loadChildren(n,t).pipe(Ve(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):ax(t))):k({routes:[],injector:n})}};function vx(e){e.sort((n,t)=>n.value.outlet===U?-1:t.value.outlet===U?1:n.value.outlet.localeCompare(t.value.outlet))}function yx(e){let n=e.value.routeConfig;return n&&n.path===""}function l_(e){let n=[],t=new Set;for(let r of e){if(!yx(r)){n.push(r);continue}let i=n.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):n.push(r)}for(let r of t){let i=l_(r.children);n.push(new dt(r.value,i))}return n.filter(r=>!t.has(r))}function Py(e){return e.data||{}}function ky(e){return e.resolve||{}}function _x(e,n,t,r,i,o){return be(s=>gx(e,n,t,r,s.extractedUrl,i,o).pipe(J(({state:a,tree:l})=>$(D({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function wx(e,n){return be(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return k(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of c_(l))s.add(c);let a=0;return me(s).pipe(Fn(l=>o.has(l)?bx(l,r,e,n):(l.data=ic(l,l.parent,e).resolve,k(void 0))),Ve(()=>a++),Xr(1),be(l=>a===s.size?k(t):Ye))})}function c_(e){let n=e.children.map(t=>c_(t)).flat();return[e,...n]}function bx(e,n,t,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!e_(i)&&(o[Yo]=i.title),Cx(o,e,n,r).pipe(J(s=>(e._resolvedData=s,e.data=ic(e,e.parent,t).resolve,null)))}function Cx(e,n,t,r){let i=nh(e);if(i.length===0)return k({});let o={};return me(i).pipe(be(s=>Dx(e[s],n,t,r).pipe(_n(),Ve(a=>{if(a instanceof Fi)throw oc(new Wn,a);o[s]=a}))),Xr(1),J(()=>o),vn(s=>o_(s)?Ye:Yr(s)))}function Dx(e,n,t,r){let i=Qo(n)??r,o=ji(e,i),s=o.resolve?o.resolve(n,t):Ct(i,()=>o(n,t));return Yn(s)}function eh(e){return gt(n=>{let t=e(n);return t?me(t).pipe(J(()=>n)):k(n)})}var _h=(()=>{class e{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===U);return r}getResolvedTitleForRoute(t){return t.data[Yo]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:()=>C(u_),providedIn:"root"})}return e})(),u_=(()=>{class e extends _h{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(F(xy))};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),xr=new T("",{providedIn:"root",factory:()=>({})}),Tr=new T(""),cc=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=C(Gv);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return k(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Yn(t.loadComponent()).pipe(J(f_),Ve(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),ao(()=>{this.componentLoaders.delete(t)})),i=new Kr(r,()=>new xe).pipe(Zr());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return k({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=d_(r,this.compiler,t,this.onLoadEndListener).pipe(ao(()=>{this.childrenLoaders.delete(r)})),s=new Kr(o,()=>new xe).pipe(Zr());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function d_(e,n,t,r){return Yn(e.loadChildren()).pipe(J(f_),be(i=>i instanceof Tf||Array.isArray(i)?k(i):me(n.compileModuleAsync(i))),J(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Tr,[],{optional:!0,self:!0}).flat()),{routes:s.map(yh),injector:o}}))}function Ex(e){return e&&typeof e=="object"&&"default"in e}function f_(e){return Ex(e)?e.default:e}var uc=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:()=>C(Ix),providedIn:"root"})}return e})(),Ix=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),wh=new T(""),bh=new T("");function h_(e,n,t){let r=e.get(bh),i=e.get(Le);return e.get(Ce).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),Sx(e))),{onViewTransitionCreated:l}=r;return l&&Ct(e,()=>l({transition:a,from:n,to:t})),s})}function Sx(e){return new Promise(n=>{ff({read:()=>setTimeout(n)},{injector:e})})}var Ch=new T(""),dc=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new xe;transitionAbortSubject=new xe;configLoader=C(cc);environmentInjector=C(et);destroyRef=C(bo);urlSerializer=C(Ir);rootContexts=C(Sr);location=C(qn);inputBindingEnabled=C(Jo,{optional:!0})!==null;titleStrategy=C(_h);options=C(xr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=C(uc);createViewTransition=C(wh,{optional:!0});navigationErrorHandler=C(Ch,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>k(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Yl(i)),r=i=>this.events.next(new Ql(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next($(D({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new je(null),this.transitions.pipe($e(r=>r!==null),gt(r=>{let i=!1,o=!1;return k(r).pipe(gt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",it.SupersededByNewNavigation),Ye;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?$(D({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&l!=="reload"){let c="";return this.events.next(new rn(s.id,this.urlSerializer.serialize(s.rawUrl),c,Ni.IgnoredSameUrlNavigation)),s.resolve(!1),Ye}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return k(s).pipe(gt(c=>(this.events.next(new Kn(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Ye:Promise.resolve(c))),_x(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ve(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=$(D({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let u=new Ho(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:u,source:d,restoredState:m,extras:f}=s,_=new Kn(c,this.urlSerializer.serialize(u),d,m);this.events.next(_);let b=Jy(this.rootComponentType).snapshot;return this.currentTransition=r=$(D({},s),{targetSnapshot:b,urlAfterRedirects:u,extras:$(D({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,k(r)}else{let c="";return this.events.next(new rn(s.id,this.urlSerializer.serialize(s.extractedUrl),c,Ni.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Ye}}),Ve(s=>{let a=new Gl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),J(s=>(this.currentTransition=r=$(D({},s),{guards:VM(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),YM(this.environmentInjector,s=>this.events.next(s)),Ve(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw oc(this.urlSerializer,s.guardsResult);let a=new Wl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),$e(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",it.GuardRejected),!1)),eh(s=>{if(s.guards.canActivateChecks.length!==0)return k(s).pipe(Ve(a=>{let l=new Zl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),gt(a=>{let l=!1;return k(a).pipe(wx(this.paramsInheritanceStrategy,this.environmentInjector),Ve({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",it.NoDataFromResolver)}}))}),Ve(a=>{let l=new Kl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),eh(s=>{let a=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(Ve(u=>{l.component=u}),J(()=>{})));for(let u of l.children)c.push(...a(u));return c};return so(a(s.targetSnapshot.root)).pipe(Ln(null),yn(1))}),eh(()=>this.afterPreactivation()),gt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?me(l).pipe(J(()=>r)):k(r)}),J(s=>{let a=PM(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=$(D({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),Ve(()=>{this.events.next(new zo)}),jM(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),yn(1),Ve({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ot(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Bu(this.transitionAbortSubject.pipe(Ve(s=>{throw s}))),ao(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",it.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),vn(s=>{if(this.destroyed)return r.resolve(!1),Ye;if(o=!0,i_(s))this.events.next(new tn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),LM(s)?this.events.next(new ki(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Ri(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let l=Ct(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof Fi){let{message:c,cancellationCode:u}=oc(this.urlSerializer,l);this.events.next(new tn(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new ki(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return Ye}))}))}cancelNavigationTransition(t,r,i){let o=new tn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Mx(e){return e!==Hl}var p_=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:()=>C(xx),providedIn:"root"})}return e})(),ac=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},xx=(()=>{class e extends ac{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Lt(e)))(i||e)}})();static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),g_=(()=>{class e{urlSerializer=C(Ir);options=C(xr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=C(qn);urlHandlingStrategy=C(uc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new nn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof nn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=Jy(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:()=>C(Tx),providedIn:"root"})}return e})(),Tx=(()=>{class e extends g_{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Kn?this.updateStateMemento():t instanceof rn?this.commitTransition(r):t instanceof Ho?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof zo?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof tn&&(t.code===it.GuardRejected||t.code===it.NoDataFromResolver)?this.restoreHistory(r):t instanceof Ri?this.restoreHistory(r,!0):t instanceof ot&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,l=D(D({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",l)}else{let a=D(D({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Lt(e)))(i||e)}})();static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function fc(e,n){e.events.pipe($e(t=>t instanceof ot||t instanceof tn||t instanceof Ri||t instanceof rn),J(t=>t instanceof ot||t instanceof rn?0:(t instanceof tn?t.code===it.Redirect||t.code===it.SupersededByNewNavigation:!1)?2:1),$e(t=>t!==2),yn(1)).subscribe(()=>{n()})}var Ax={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ox={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ie=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=C(jv);stateManager=C(g_);options=C(xr,{optional:!0})||{};pendingTasks=C(wi);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=C(dc);urlSerializer=C(Ir);location=C(qn);urlHandlingStrategy=C(uc);_events=new xe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=C(p_);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=C(Tr,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!C(Jo,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Me;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof tn&&r.code!==it.Redirect&&r.code!==it.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ot)this.navigated=!0;else if(r instanceof ki){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=D({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Mx(i.source)},s);this.scheduleNavigation(a,Hl,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Rx(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Hl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=D({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(yh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=D(D({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let m=i?i.snapshot:this.routerState.snapshot.root;d=Zy(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return Ky(d,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Zn(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Hl,null,r)}navigate(t,r={skipLocationChange:!1}){return Nx(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=D({},Ax):r===!1?i=D({},Ox):i=r,Zn(t))return Ty(this.currentUrlTree,t,i);let o=this.parseUrl(t);return Ty(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,m)=>{a=d,l=m});let u=this.pendingTasks.add();return fc(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Nx(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new S(4008,!1)}function Rx(e){return!(e instanceof zo)&&!(e instanceof ki)}var st=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new xe;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof ot&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Zn(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:nv(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Zn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(M(ie),M(on),rf("tabindex"),M(Sn),M(Jt),M(Vt))};static \u0275dir=pe({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&q("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&wr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",zn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",zn],replaceUrl:[2,"replaceUrl","replaceUrl",zn],routerLink:"routerLink"},features:[Bn]})}return e})();var es=class{};var m_=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe($e(t=>t instanceof ot),Fn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Do(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return me(i).pipe(Qr())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=k(null);let o=i.pipe(be(s=>s===null?k(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return me([o,s]).pipe(Qr())}else return o})}static \u0275fac=function(r){return new(r||e)(F(ie),F(et),F(es),F(cc))};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),v_=new T(""),Px=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Kn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ot?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof rn&&t.code===Ni.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Pi&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Pi(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){xv()};static \u0275prov=N({token:e,factory:e.\u0275fac})}return e})();function Eh(e,...n){return Qa([{provide:Tr,multi:!0,useValue:e},[],{provide:on,useFactory:y_,deps:[ie]},{provide:ml,multi:!0,useFactory:__},n.map(t=>t.\u0275providers)])}function y_(e){return e.routerState.root}function ts(e,n){return{\u0275kind:e,\u0275providers:n}}function __(){let e=C(wt);return n=>{let t=e.get(mr);if(n!==t.components[0])return;let r=e.get(ie),i=e.get(w_);e.get(Ih)===1&&r.initialNavigation(),e.get(D_,null,B.Optional)?.setUpPreloading(),e.get(v_,null,B.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var w_=new T("",{factory:()=>new xe}),Ih=new T("",{providedIn:"root",factory:()=>1});function b_(){let e=[{provide:Ih,useValue:0},Of(()=>{let n=C(wt);return n.get(kf,Promise.resolve()).then(()=>new Promise(r=>{let i=n.get(ie),o=n.get(w_);fc(i,()=>{r(!0)}),n.get(dc).afterPreactivation=()=>(r(!0),o.closed?k(void 0):o),i.initialNavigation()}))})];return ts(2,e)}function C_(){let e=[Of(()=>{C(ie).setUpLocationChangeListener()}),{provide:Ih,useValue:2}];return ts(3,e)}var D_=new T("");function E_(e){return ts(0,[{provide:D_,useExisting:m_},{provide:es,useExisting:e}])}function I_(){return ts(8,[mh,{provide:Jo,useExisting:mh}])}function S_(e){Ei("NgRouterViewTransitions");let n=[{provide:wh,useValue:h_},{provide:bh,useValue:D({skipNextTransition:!!e?.skipInitialTransition},e)}];return ts(9,n)}var M_=[qn,{provide:Ir,useClass:Wn},ie,Sr,{provide:on,useFactory:y_,deps:[ie]},cc,[]],Sh=(()=>{class e{constructor(){}static forRoot(t,r){return{ngModule:e,providers:[M_,[],{provide:Tr,multi:!0,useValue:t},[],r?.errorHandler?{provide:Ch,useValue:r.errorHandler}:[],{provide:xr,useValue:r||{}},r?.useHash?Fx():Lx(),kx(),r?.preloadingStrategy?E_(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?jx(r):[],r?.bindToComponentInputs?I_().\u0275providers:[],r?.enableViewTransitions?S_().\u0275providers:[],Vx()]}}static forChild(t){return{ngModule:e,providers:[{provide:Tr,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Mn({type:e});static \u0275inj=Dn({})}return e})();function kx(){return{provide:v_,useFactory:()=>{let e=C(_y),n=C(Ce),t=C(xr),r=C(dc),i=C(Ir);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Px(i,r,e,n,t)}}}function Fx(){return{provide:Vt,useClass:Vf}}function Lx(){return{provide:Vt,useClass:El}}function jx(e){return[e.initialNavigation==="disabled"?C_().\u0275providers:[],e.initialNavigation==="enabledBlocking"?b_().\u0275providers:[]]}var Dh=new T("");function Vx(){return[{provide:Dh,useFactory:__},{provide:ml,multi:!0,useExisting:Dh}]}var x_=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)};var ns=class extends Error{constructor(n,t="FunctionsError",r){super(n),this.name=t,this.context=r}},hc=class extends ns{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},pc=class extends ns{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},gc=class extends ns{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}},Mh=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}(Mh||{});var Ux=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},rs=class{constructor(n,{headers:t={},customFetch:r,region:i=Mh.Any}={}){this.url=n,this.headers=t,this.region=i,this.fetch=x_(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,t={}){var r;return Ux(this,void 0,void 0,function*(){try{let{headers:i,method:o,body:s}=t,a={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(a["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(a["Content-Type"]="application/json",c=JSON.stringify(s)));let u=yield this.fetch(`${this.url}/${n}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(_=>{throw new hc(_)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new pc(u);if(!u.ok)throw new gc(u);let m=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return m==="application/json"?f=yield u.json():m==="application/octet-stream"?f=yield u.blob():m==="text/event-stream"?f=u:m==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(i){return{data:null,error:i}}})}};var B_=yw(U_(),1),{PostgrestClient:$_,PostgrestQueryBuilder:e2,PostgrestFilterBuilder:t2,PostgrestTransformBuilder:n2,PostgrestBuilder:r2,PostgrestError:Jx}=B_.default;var Vh;typeof window>"u"?Vh=z_():Vh=window.WebSocket;var q_=Vh;var G_="2.11.10";var W_={"X-Client-Info":`realtime-js/${G_}`},Z_="1.0.0";var _c=1e4,K_=1e3,Ui=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(Ui||{}),Ke=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(Ke||{}),Mt=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(Mt||{}),Uh=function(e){return e.websocket="websocket",e}(Uh||{}),Ar=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(Ar||{});var wc=class{constructor(){this.HEADER_LENGTH=1}decode(n,t){return n.constructor===ArrayBuffer?t(this._binaryDecode(n)):t(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){let t=new DataView(n),r=new TextDecoder;return this._decodeBroadcast(n,t,r)}_decodeBroadcast(n,t,r){let i=t.getUint8(1),o=t.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(n.slice(s,s+i));s=s+i;let l=r.decode(n.slice(s,s+o));s=s+o;let c=JSON.parse(r.decode(n.slice(s,n.byteLength)));return{ref:null,topic:a,event:l,payload:c}}};var Bi=class{constructor(n,t){this.callback=n,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var ge=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(ge||{}),$h=(e,n,t={})=>{var r;let i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(n).reduce((o,s)=>(o[s]=Xx(s,e,n,i),o),{})},Xx=(e,n,t,r)=>{let i=n.find(a=>a.name===e),o=i?.type,s=t[e];return o&&!r.includes(o)?Y_(o,s):Bh(s)},Y_=(e,n)=>{if(e.charAt(0)==="_"){let t=e.slice(1,e.length);return rT(n,t)}switch(e){case ge.bool:return eT(n);case ge.float4:case ge.float8:case ge.int2:case ge.int4:case ge.int8:case ge.numeric:case ge.oid:return tT(n);case ge.json:case ge.jsonb:return nT(n);case ge.timestamp:return iT(n);case ge.abstime:case ge.date:case ge.daterange:case ge.int4range:case ge.int8range:case ge.money:case ge.reltime:case ge.text:case ge.time:case ge.timestamptz:case ge.timetz:case ge.tsrange:case ge.tstzrange:return Bh(n);default:return Bh(n)}},Bh=e=>e,eT=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},tT=e=>{if(typeof e=="string"){let n=parseFloat(e);if(!Number.isNaN(n))return n}return e},nT=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},rT=(e,n)=>{if(typeof e!="string")return e;let t=e.length-1,r=e[t];if(e[0]==="{"&&r==="}"){let o,s=e.slice(1,t);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>Y_(n,a))}return e},iT=e=>typeof e=="string"?e.replace(" ","T"):e,bc=e=>{let n=e;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};var $i=class{constructor(n,t,r={},i=_c){this.channel=n,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,t){var r;return this._hasReceived(n)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let n=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:t}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(t))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}};var us=class e{constructor(n,t){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=e.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=e.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,t,r,i){let o=this.cloneDeep(n),s=this.transformState(t),a={},l={};return this.map(o,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{let d=o[c];if(d){let m=u.map(E=>E.presence_ref),f=d.map(E=>E.presence_ref),_=u.filter(E=>f.indexOf(E.presence_ref)<0),b=d.filter(E=>m.indexOf(E.presence_ref)<0);_.length>0&&(a[c]=_),b.length>0&&(l[c]=b)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(n,t,r,i){let{joins:o,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;let u=(c=n[a])!==null&&c!==void 0?c:[];if(n[a]=this.cloneDeep(l),u.length>0){let d=n[a].map(f=>f.presence_ref),m=u.filter(f=>d.indexOf(f.presence_ref)<0);n[a].unshift(...m)}r(a,u,l)}),this.map(s,(a,l)=>{let c=n[a];if(!c)return;let u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),n[a]=c,i(a,c,l),c.length===0&&delete n[a]}),n}static map(n,t){return Object.getOwnPropertyNames(n).map(r=>t(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((t,r)=>{let i=n[r];return"metas"in i?t[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[r]=i,t},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var On=function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e}(On||{});var ds=class e{constructor(n,t={config:{}},r){this.topic=n,this.params=t,this.socket=r,this.bindings={},this.state=Ke.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new $i(this,Mt.join,this.params,this.timeout),this.rejoinTimer=new Bi(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ke.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ke.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mt.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new us(this),this.broadcastEndpointURL=bc(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(n,t=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:o,presence:s,private:a}}=this.params;this._onError(u=>n?.(On.CHANNEL_ERROR,u)),this._onClose(()=>n?.(On.CLOSED));let l={},c={broadcast:o,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",d=>y(this,[d],function*({postgres_changes:u}){var m;if(this.socket.setAuth(),u===void 0){n?.(On.SUBSCRIBED);return}else{let f=this.bindings.postgres_changes,_=(m=f?.length)!==null&&m!==void 0?m:0,b=[];for(let E=0;E<_;E++){let x=f[E],{filter:{event:fe,schema:ve,table:P,filter:ce}}=x,Nt=u&&u[E];if(Nt&&Nt.event===fe&&Nt.schema===ve&&Nt.table===P&&Nt.filter===ce)b.push(Object.assign(Object.assign({},x),{id:Nt.id}));else{this.unsubscribe(),this.state=Ke.errored,n?.(On.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,n&&n(On.SUBSCRIBED);return}})).receive("error",u=>{this.state=Ke.errored,n?.(On.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{n?.(On.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return y(this,arguments,function*(n,t={}){return yield this.send({type:"presence",event:"track",payload:n},t.timeout||this.timeout)})}untrack(){return y(this,arguments,function*(n={}){return yield this.send({type:"presence",event:"untrack"},n)})}on(n,t,r){return this._on(n,t,r)}send(r){return y(this,arguments,function*(n,t={}){var i,o;if(!this._canPush()&&n.type==="broadcast"){let{event:s,payload:a}=n,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=u.body)===null||o===void 0?void 0:o.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;let u=this._push(n.type,n,t.timeout||this.timeout);n.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Ke.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mt.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{let i=new $i(this,Mt.leave,{},n);i.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}_fetchWithTimeout(n,t,r){return y(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(n,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(o),s})}_push(n,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new $i(this,n,t,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(n,t,r){return t}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,t,r){var i,o;let s=n.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Mt;if(r&&[a,l,c,u].indexOf(s)>=0&&r!==this._joinRef())return;let m=this._onMessage(s,t,r);if(t&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var _,b,E;return((_=f.filter)===null||_===void 0?void 0:_.event)==="*"||((E=(b=f.filter)===null||b===void 0?void 0:b.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===s}).map(f=>f.callback(m,r)):(o=this.bindings[s])===null||o===void 0||o.filter(f=>{var _,b,E,x,fe,ve;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let P=f.id,ce=(_=f.filter)===null||_===void 0?void 0:_.event;return P&&((b=t.ids)===null||b===void 0?void 0:b.includes(P))&&(ce==="*"||ce?.toLocaleLowerCase()===((E=t.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{let P=(fe=(x=f?.filter)===null||x===void 0?void 0:x.event)===null||fe===void 0?void 0:fe.toLocaleLowerCase();return P==="*"||P===((ve=t?.event)===null||ve===void 0?void 0:ve.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof m=="object"&&"ids"in m){let _=m.data,{schema:b,table:E,commit_timestamp:x,type:fe,errors:ve}=_;m=Object.assign(Object.assign({},{schema:b,table:E,commit_timestamp:x,eventType:fe,new:{},old:{},errors:ve}),this._getPayloadRecords(_))}f.callback(m,r)})}_isClosed(){return this.state===Ke.closed}_isJoined(){return this.state===Ke.joined}_isJoining(){return this.state===Ke.joining}_isLeaving(){return this.state===Ke.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,t,r){let i=n.toLocaleLowerCase(),o={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(n,t){let r=n.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&e.isEqual(i.filter,t))}),this}static isEqual(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(let r in n)if(n[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Mt.close,{},n)}_onError(n){this._on(Mt.error,{},t=>n(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ke.joining,this.joinPush.resend(n))}_getPayloadRecords(n){let t={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(t.new=$h(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(t.old=$h(n.columns,n.old_record)),t}};var Q_=()=>{},sT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,fs=class{constructor(n,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=W_,this.params={},this.timeout=_c,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Q_,this.ref=0,this.logger=Q_,this.conn=null,this.sendBuffer=[],this.serializer=new wc,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>import("./chunk-X2RIVRQM.js").then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${n}/${Uh.websocket}`,this.httpEndpoint=bc(n),t?.transport?this.transport=t.transport:this.transport=null,t?.params&&(this.params=t.params),t?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);let i=(r=t?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=t?.encode?t.encode:(o,s)=>s(JSON.stringify(o)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Bi(()=>y(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(t?.fetch),t?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=t?.worker||!1,this.workerUrl=t?.workerUrl}this.accessToken=t?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=q_),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new Hh(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Z_}))}disconnect(n,t){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}removeChannel(n){return y(this,null,function*(){let t=yield n.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==n._joinRef),this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return y(this,null,function*(){let n=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),n})}log(n,t,r){this.logger(n,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ui.connecting:return Ar.Connecting;case Ui.open:return Ar.Open;case Ui.closing:return Ar.Closing;default:return Ar.Closed}}isConnected(){return this.connectionState()===Ar.Open}channel(n,t={config:{}}){let r=`realtime:${n}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new ds(`realtime:${n}`,t,this);return this.channels.push(o),o}}push(n){let{topic:t,event:r,payload:i,ref:o}=n,s=()=>{this.encode(n,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(n=null){return y(this,null,function*(){let t=n||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{t&&r.updateJoinPayload({access_token:t,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(Mt.access_token,{access_token:t})}))})}sendHeartbeat(){return y(this,null,function*(){var n;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(n=this.conn)===null||n===void 0||n.close(K_,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),yield this.setAuth()})}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let t=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${n}"`),t.unsubscribe())}_remove(n){this.channels=this.channels.filter(t=>t.topic!==n.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_onConnMessage(n){this.decode(n.data,t=>{let{topic:r,event:i,payload:o,ref:s}=t;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(t.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,o),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(n=>n())}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(n))}_onConnError(n){this.log("transport",n.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(Mt.error))}_appendParams(n,t){if(Object.keys(t).length===0)return n;let r=n.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${n}${r}${i}`}_workerObjectUrl(n){let t;if(n)t=n;else{let r=new Blob([sT],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}};var Hh=class{constructor(n,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ui.connecting,this.send=()=>{},this.url=null,this.url=n,this.close=r.close}};var Hi=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function Ne(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Cc=class extends Hi{constructor(n,t){super(n),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Or=class extends Hi{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}};var aT=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},Ec=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)},J_=()=>aT(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-X2RIVRQM.js")).Response:Response}),Dc=e=>{if(Array.isArray(e))return e.map(t=>Dc(t));if(typeof e=="function"||e!==Object(e))return e;let n={};return Object.entries(e).forEach(([t,r])=>{let i=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));n[i]=Dc(r)}),n};var Nr=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},zh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),lT=(e,n,t)=>Nr(void 0,void 0,void 0,function*(){let r=yield J_();e instanceof r&&!t?.noResolveJson?e.json().then(i=>{n(new Cc(zh(i),e.status||500))}).catch(i=>{n(new Or(zh(i),i))}):n(new Or(zh(e),e))}),cT=(e,n,t,r)=>{let i={method:e,headers:n?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},n?.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),t))};function hs(e,n,t,r,i,o){return Nr(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(t,cT(n,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>lT(l,a,r))})})}function zi(e,n,t,r){return Nr(this,void 0,void 0,function*(){return hs(e,"GET",n,t,r)})}function an(e,n,t,r,i){return Nr(this,void 0,void 0,function*(){return hs(e,"POST",n,r,i,t)})}function X_(e,n,t,r,i){return Nr(this,void 0,void 0,function*(){return hs(e,"PUT",n,r,i,t)})}function e0(e,n,t,r){return Nr(this,void 0,void 0,function*(){return hs(e,"HEAD",n,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function Ic(e,n,t,r,i){return Nr(this,void 0,void 0,function*(){return hs(e,"DELETE",n,r,i,t)})}var at=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},uT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},t0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Sc=class{constructor(n,t={},r,i){this.url=n,this.headers=t,this.bucketId=r,this.fetch=Ec(i)}uploadOrUpdate(n,t,r,i){return at(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},t0),i),a=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(s.upsert)}),l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let c=this._removeEmptyFolders(t),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:n,body:o,headers:a},s?.duplex?{duplex:s.duplex}:{})),m=yield d.json();return d.ok?{data:{path:c,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(o){if(Ne(o))return{data:null,error:o};throw o}})}upload(n,t,r){return at(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,t,r)})}uploadToSignedUrl(n,t,r,i){return at(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(n),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let l,c=Object.assign({upsert:t0.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);let d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),m=yield d.json();return d.ok?{data:{path:o,fullPath:m.Key},error:null}:{data:null,error:m}}catch(l){if(Ne(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(n,t){return at(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n),i=Object.assign({},this.headers);t?.upsert&&(i["x-upsert"]="true");let o=yield an(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new Hi("No token returned by API");return{data:{signedUrl:s.toString(),path:n,token:a},error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}})}update(n,t,r){return at(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,t,r)})}move(n,t,r){return at(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Ne(i))return{data:null,error:i};throw i}})}copy(n,t,r){return at(this,void 0,void 0,function*(){try{return{data:{path:(yield an(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Ne(i))return{data:null,error:i};throw i}})}createSignedUrl(n,t,r){return at(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n),o=yield an(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(Ne(i))return{data:null,error:i};throw i}})}createSignedUrls(n,t,r){return at(this,void 0,void 0,function*(){try{let i=yield an(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:n},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(Ne(i))return{data:null,error:i};throw i}})}download(n,t){return at(this,void 0,void 0,function*(){let i=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),s=o?`?${o}`:"";try{let a=this._getFinalPath(n);return{data:yield(yield zi(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ne(a))return{data:null,error:a};throw a}})}info(n){return at(this,void 0,void 0,function*(){let t=this._getFinalPath(n);try{let r=yield zi(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Dc(r),error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}})}exists(n){return at(this,void 0,void 0,function*(){let t=this._getFinalPath(n);try{return yield e0(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ne(r)&&r instanceof Or){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,t){let r=this._getFinalPath(n),i=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&i.push(o);let a=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(n){return at(this,void 0,void 0,function*(){try{return{data:yield Ic(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(t){if(Ne(t))return{data:null,error:t};throw t}})}list(n,t,r){return at(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},uT),t),{prefix:n||""});return{data:yield an(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Ne(i))return{data:null,error:i};throw i}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){let t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}};var n0="2.7.1";var r0={"X-Client-Info":`storage-js/${n0}`};var qi=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},Mc=class{constructor(n,t={},r){this.url=n,this.headers=Object.assign(Object.assign({},r0),t),this.fetch=Ec(r)}listBuckets(){return qi(this,void 0,void 0,function*(){try{return{data:yield zi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}})}getBucket(n){return qi(this,void 0,void 0,function*(){try{return{data:yield zi(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(t){if(Ne(t))return{data:null,error:t};throw t}})}createBucket(n,t={public:!1}){return qi(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}})}updateBucket(n,t){return qi(this,void 0,void 0,function*(){try{return{data:yield X_(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}})}emptyBucket(n){return qi(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Ne(t))return{data:null,error:t};throw t}})}deleteBucket(n){return qi(this,void 0,void 0,function*(){try{return{data:yield Ic(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(t){if(Ne(t))return{data:null,error:t};throw t}})}};var ps=class extends Mc{constructor(n,t={},r){super(n,t,r)}from(n){return new Sc(this.url,this.headers,n,this.fetch)}};var i0="2.50.0";var gs="";typeof Deno<"u"?gs="deno":typeof document<"u"?gs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gs="react-native":gs="node";var dT={"X-Client-Info":`supabase-js-${gs}/${i0}`},o0={headers:dT},s0={schema:"public"},a0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},l0={};dp();var fT=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},hT=e=>{let n;return e?n=e:typeof fetch>"u"?n=cp:n=fetch,(...t)=>n(...t)},pT=()=>typeof Headers>"u"?up:Headers,c0=(e,n,t)=>{let r=hT(t),i=pT();return(o,s)=>fT(void 0,void 0,void 0,function*(){var a;let l=(a=yield n())!==null&&a!==void 0?a:e,c=new i(s?.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:c}))})};var gT=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})};function u0(e){return e.endsWith("/")?e:e+"/"}function d0(e,n){var t,r;let{db:i,auth:o,realtime:s,global:a}=e,{db:l,auth:c,realtime:u,global:d}=n,m={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},u),s),global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(t=d?.headers)!==null&&t!==void 0?t:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>gT(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}var xc="2.70.0";var Rr=30*1e3,Tc=3,Ac=Tc*Rr,f0="http://localhost:9999",h0="supabase.auth.token";var p0={"X-Client-Info":`gotrue-js/${xc}`};var ms="X-Supabase-Api-Version",qh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},g0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,m0=6e5;var vs=class extends Error{constructor(n,t,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}};function L(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var Oc=class extends vs{constructor(n,t,r){super(n,t,r),this.name="AuthApiError",this.status=t,this.code=r}};function v0(e){return L(e)&&e.name==="AuthApiError"}var Gi=class extends vs{constructor(n,t){super(n),this.name="AuthUnknownError",this.originalError=t}},ln=class extends vs{constructor(n,t,r,i){super(n,r,i),this.name=t,this.status=r}},xt=class extends ln{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function y0(e){return L(e)&&e.name==="AuthSessionMissingError"}var Pr=class extends ln{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},kr=class extends ln{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},Fr=class extends ln{constructor(n,t=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function _0(e){return L(e)&&e.name==="AuthImplicitGrantRedirectError"}var ys=class extends ln{constructor(n,t=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Wi=class extends ln{constructor(n,t){super(n,"AuthRetryableFetchError",t,void 0)}};function Nc(e){return L(e)&&e.name==="AuthRetryableFetchError"}var _s=class extends ln{constructor(n,t,r){super(n,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}};var Nn=class extends ln{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}};var Rc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),w0=` 	
\r=`.split(""),mT=(()=>{let e=new Array(128);for(let n=0;n<e.length;n+=1)e[n]=-1;for(let n=0;n<w0.length;n+=1)e[w0[n].charCodeAt(0)]=-2;for(let n=0;n<Rc.length;n+=1)e[Rc[n].charCodeAt(0)]=n;return e})();function b0(e,n,t){if(e!==null)for(n.queue=n.queue<<8|e,n.queuedBits+=8;n.queuedBits>=6;){let r=n.queue>>n.queuedBits-6&63;t(Rc[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){let r=n.queue>>n.queuedBits-6&63;t(Rc[r]),n.queuedBits-=6}}function C0(e,n,t){let r=mT[e];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)t(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Gh(e){let n=[],t=s=>{n.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{_T(s,r,t)};for(let s=0;s<e.length;s+=1)C0(e.charCodeAt(s),i,o);return n.join("")}function vT(e,n){if(e<=127){n(e);return}else if(e<=2047){n(192|e>>6),n(128|e&63);return}else if(e<=65535){n(224|e>>12),n(128|e>>6&63),n(128|e&63);return}else if(e<=1114111){n(240|e>>18),n(128|e>>12&63),n(128|e>>6&63),n(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function yT(e,n){for(let t=0;t<e.length;t+=1){let r=e.charCodeAt(t);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(e.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}vT(r,n)}}function _T(e,n,t){if(n.utf8seq===0){if(e<=127){t(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=e&31;else if(n.utf8seq===3)n.codepoint=e&15;else if(n.utf8seq===4)n.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|e&63,n.utf8seq-=1,n.utf8seq===0&&t(n.codepoint)}}function D0(e){let n=[],t={queue:0,queuedBits:0},r=i=>{n.push(i)};for(let i=0;i<e.length;i+=1)C0(e.charCodeAt(i),t,r);return new Uint8Array(n)}function E0(e){let n=[];return yT(e,t=>n.push(t)),new Uint8Array(n)}function I0(e){let n=[],t={queue:0,queuedBits:0},r=i=>{n.push(i)};return e.forEach(i=>b0(i,t,r)),b0(null,t,r),n.join("")}function S0(e){return Math.round(Date.now()/1e3)+e}function M0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let n=Math.random()*16|0;return(e=="x"?n:n&3|8).toString(16)})}var Tt=()=>typeof window<"u"&&typeof document<"u",Lr={tested:!1,writable:!1},Qn=()=>{if(!Tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Lr.tested)return Lr.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Lr.tested=!0,Lr.writable=!0}catch{Lr.tested=!0,Lr.writable=!1}return Lr.writable};function x0(e){let n={},t=new URL(e);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,o)=>{n[o]=i})}catch{}return t.searchParams.forEach((r,i)=>{n[i]=r}),n}var Pc=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)},T0=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Wh=(e,n,t)=>y(null,null,function*(){yield e.setItem(n,JSON.stringify(t))}),bs=(e,n)=>y(null,null,function*(){let t=yield e.getItem(n);if(!t)return null;try{return JSON.parse(t)}catch{return t}}),Cs=(e,n)=>y(null,null,function*(){yield e.removeItem(n)}),ws=class e{constructor(){this.promise=new e.promiseConstructor((n,t)=>{this.resolve=n,this.reject=t})}};ws.promiseConstructor=Promise;function kc(e){let n=e.split(".");if(n.length!==3)throw new Nn("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!g0.test(n[r]))throw new Nn("JWT not in base64url format");return{header:JSON.parse(Gh(n[0])),payload:JSON.parse(Gh(n[1])),signature:D0(n[2]),raw:{header:n[0],payload:n[1]}}}function A0(e){return y(this,null,function*(){return yield new Promise(n=>{setTimeout(()=>n(null),e)})})}function O0(e,n){return new Promise((r,i)=>{y(null,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield e(o);if(!n(o,null,s)){r(s);return}}catch(s){if(!n(o,s)){i(s);return}}})})}function wT(e){return("0"+e.toString(16)).substr(-2)}function bT(){let n=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length,i="";for(let o=0;o<56;o++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(n),Array.from(n,wT).join("")}function CT(e){return y(this,null,function*(){let t=new TextEncoder().encode(e),r=yield crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function DT(e){return y(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let t=yield CT(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function jr(e,n,t=!1){return y(this,null,function*(){let r=bT(),i=r;t&&(i+="/PASSWORD_RECOVERY"),yield Wh(e,`${n}-code-verifier`,i);let o=yield DT(r);return[o,r===o?"plain":"s256"]})}var ET=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function N0(e){let n=e.headers.get(ms);if(!n||!n.match(ET))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function R0(e){if(!e)throw new Error("Missing exp claim");let n=Math.floor(Date.now()/1e3);if(e<=n)throw new Error("JWT has expired")}function P0(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var IT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Vr(e){if(!IT.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var ST=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t},Ur=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),MT=[502,503,504];function k0(e){return y(this,null,function*(){var n;if(!T0(e))throw new Wi(Ur(e),0);if(MT.includes(e.status))throw new Wi(Ur(e),e.status);let t;try{t=yield e.json()}catch(o){throw new Gi(Ur(o),o)}let r,i=N0(e);if(i&&i.getTime()>=qh["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new _s(Ur(t),e.status,((n=t.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new xt}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new _s(Ur(t),e.status,t.weak_password.reasons);throw new Oc(Ur(t),e.status||500,r)})}var xT=(e,n,t,r)=>{let i={method:e,headers:n?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};function H(e,n,t,r){return y(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[ms]||(o[ms]=qh["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=yield TT(e,n,t+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}})}function TT(e,n,t,r,i,o){return y(this,null,function*(){let s=xT(n,r,i,o),a;try{a=yield e(t,Object.assign({},s))}catch(l){throw console.error(l),new Wi(Ur(l),0)}if(a.ok||(yield k0(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(l){yield k0(l)}})}function cn(e){var n;let t=null;AT(e)&&(t=Object.assign({},e),e.expires_at||(t.expires_at=S0(e.expires_in)));let r=(n=e.user)!==null&&n!==void 0?n:e;return{data:{session:t,user:r},error:null}}function Zh(e){let n=cn(e);return!n.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(n.data.weak_password=e.weak_password),n}function un(e){var n;return{data:{user:(n=e.user)!==null&&n!==void 0?n:e},error:null}}function F0(e){return{data:e,error:null}}function L0(e){let{action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o}=e,s=ST(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function j0(e){return e}function AT(e){return e.access_token&&e.refresh_token&&e.expires_in}var Fc=["global","local","others"];var OT=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t},Zi=class{constructor({url:n="",headers:t={},fetch:r}){this.url=n,this.headers=t,this.fetch=Pc(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(r){return y(this,arguments,function*(n,t=Fc[0]){if(Fc.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Fc.join(", ")}`);try{return yield H(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(i){if(L(i))return{data:null,error:i};throw i}})}inviteUserByEmail(r){return y(this,arguments,function*(n,t={}){try{return yield H(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:un})}catch(i){if(L(i))return{data:{user:null},error:i};throw i}})}generateLink(n){return y(this,null,function*(){try{let{options:t}=n,r=OT(n,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:L0,redirectTo:t?.redirectTo})}catch(t){if(L(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(n){return y(this,null,function*(){try{return yield H(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:un})}catch(t){if(L(t))return{data:{user:null},error:t};throw t}})}listUsers(n){return y(this,null,function*(){var t,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=yield H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=n?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=n?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:j0});if(u.error)throw u.error;let d=yield u.json(),m=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(_=>{let b=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(_.split(";")[1].split("=")[1]);c[`${E}Page`]=b}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(L(c))return{data:{users:[]},error:c};throw c}})}getUserById(n){return y(this,null,function*(){Vr(n);try{return yield H(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:un})}catch(t){if(L(t))return{data:{user:null},error:t};throw t}})}updateUserById(n,t){return y(this,null,function*(){Vr(n);try{return yield H(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:t,headers:this.headers,xform:un})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}})}deleteUser(n,t=!1){return y(this,null,function*(){Vr(n);try{return yield H(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:t},xform:un})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}})}_listFactors(n){return y(this,null,function*(){Vr(n.userId);try{let{data:t,error:r}=yield H(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(L(t))return{data:null,error:t};throw t}})}_deleteFactor(n){return y(this,null,function*(){Vr(n.userId),Vr(n.id);try{return{data:yield H(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(t){if(L(t))return{data:null,error:t};throw t}})}};var V0={getItem:e=>Qn()?globalThis.localStorage.getItem(e):null,setItem:(e,n)=>{Qn()&&globalThis.localStorage.setItem(e,n)},removeItem:e=>{Qn()&&globalThis.localStorage.removeItem(e)}};function Kh(e={}){return{getItem:n=>e[n]||null,setItem:(n,t)=>{e[n]=t},removeItem:n=>{delete e[n]}}}function U0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var Br={debug:!!(globalThis&&Qn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Ds=class extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}},Lc=class extends Ds{};function Yh(e,n,t){return y(this,null,function*(){Br.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,n);let r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),Br.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},n),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(e,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>y(null,null,function*(){if(i){Br.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return yield t()}finally{Br.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(n===0)throw Br.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Lc(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Br.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}})))})}U0();var NT={url:f0,storageKey:h0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:p0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function B0(e,n,t){return y(this,null,function*(){return yield t()})}var Qh=(()=>{class e{constructor(t){var r,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&Tt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},NT),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Zi({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Pc(o.fetch),this.lock=o.lock||B0,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Tt()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Yh:this.lock=B0,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:Qn()?this.storage=V0:(this.memoryStorage={},this.storage=Kh(this.memoryStorage)):(this.memoryStorage={},this.storage=Kh(this.memoryStorage)),Tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",s=>y(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${xc}) ${new Date().toISOString()}`,...t),this}initialize(){return y(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=y(this,null,function*(){return yield this._acquireLock(-1,()=>y(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return y(this,null,function*(){var t;try{let r=x0(window.location.href),i="none";if(this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce"),Tt()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),_0(s)){let c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),yield this._saveSession(a),setTimeout(()=>y(this,null,function*(){l==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return L(r)?{error:r}:{error:new Gi("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(t){return y(this,null,function*(){var r,i,o;try{let s=yield H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:cn}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(t){return y(this,null,function*(){var r,i,o;try{let s;if("email"in t){let{email:d,password:m,options:f}=t,_=null,b=null;this.flowType==="pkce"&&([_,b]=yield jr(this.storage,this.storageKey)),s=yield H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:m,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:_,code_challenge_method:b},xform:cn})}else if("phone"in t){let{phone:d,password:m,options:f}=t;s=yield H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:m,data:(i=f?.data)!==null&&i!==void 0?i:{},channel:(o=f?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:cn})}else throw new kr("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(t){return y(this,null,function*(){try{let r;if("email"in t){let{email:s,password:a,options:l}=t;r=yield H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Zh})}else if("phone"in t){let{phone:s,password:a,options:l}=t;r=yield H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Zh})}else throw new kr("You must provide either an email or phone number and a password");let{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Pr}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(t){return y(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(t){return y(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>y(this,null,function*(){return this._exchangeCodeForSession(t)}))})}signInWithWeb3(t){return y(this,null,function*(){let{chain:r}=t;if(r==="solana")return yield this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)})}signInWithSolana(t){return y(this,null,function*(){var r,i,o,s,a,l,c,u,d,m,f,_;let b,E;if("message"in t)b=t.message,E=t.signature;else{let{chain:x,wallet:fe,statement:ve,options:P}=t,ce;if(Tt())if(typeof fe=="object")ce=fe;else{let we=window;if("solana"in we&&typeof we.solana=="object"&&("signIn"in we.solana&&typeof we.solana.signIn=="function"||"signMessage"in we.solana&&typeof we.solana.signMessage=="function"))ce=we.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof fe!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");ce=fe}let Nt=new URL((r=P?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in ce&&ce.signIn){let we=yield ce.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P?.signInWithSolana),{version:"1",domain:Nt.host,uri:Nt.href}),ve?{statement:ve}:null)),lt;if(Array.isArray(we)&&we[0]&&typeof we[0]=="object")lt=we[0];else if(we&&typeof we=="object"&&"signedMessage"in we&&"signature"in we)lt=we;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in lt&&"signature"in lt&&(typeof lt.signedMessage=="string"||lt.signedMessage instanceof Uint8Array)&&lt.signature instanceof Uint8Array)b=typeof lt.signedMessage=="string"?lt.signedMessage:new TextDecoder().decode(lt.signedMessage),E=lt.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in ce)||typeof ce.signMessage!="function"||!("publicKey"in ce)||typeof ce!="object"||!ce.publicKey||!("toBase58"in ce.publicKey)||typeof ce.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${Nt.host} wants you to sign in with your Solana account:`,ce.publicKey.toBase58(),...ve?["",ve,""]:[""],"Version: 1",`URI: ${Nt.href}`,`Issued At: ${(o=(i=P?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=P?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((a=P?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((l=P?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((c=P?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((u=P?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((m=(d=P?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||m===void 0)&&m.length?["Resources",...P.signInWithSolana.resources.map(lt=>`- ${lt}`)]:[]].join(`
`);let we=yield ce.signMessage(new TextEncoder().encode(b),"utf8");if(!we||!(we instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=we}}try{let{data:x,error:fe}=yield H(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:I0(E)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:cn});if(fe)throw fe;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Pr}:(x.session&&(yield this._saveSession(x.session),yield this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:fe})}catch(x){if(L(x))return{data:{user:null,session:null},error:x};throw x}})}_exchangeCodeForSession(t){return y(this,null,function*(){let r=yield bs(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=yield H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:cn});if(yield Cs(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Pr}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(L(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(t){return y(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=t,l=yield H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:cn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Pr}:(c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(t){return y(this,null,function*(){var r,i,o,s,a;try{if("email"in t){let{email:l,options:c}=t,u=null,d=null;this.flowType==="pkce"&&([u,d]=yield jr(this.storage,this.storageKey));let{error:m}=yield H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){let{phone:l,options:c}=t,{data:u,error:d}=yield H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c?.data)!==null&&o!==void 0?o:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new kr("You must provide either an email or phone number.")}catch(l){if(L(l))return{data:{user:null,session:null},error:l};throw l}})}verifyOtp(t){return y(this,null,function*(){var r,i;try{let o,s;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(i=t.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:l}=yield H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:cn});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,u=a.user;return c?.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(L(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithSSO(t){return y(this,null,function*(){var r,i,o;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=yield jr(this.storage,this.storageKey)),yield H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:F0})}catch(s){if(L(s))return{data:null,error:s};throw s}})}reauthenticate(){return y(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>y(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return y(this,null,function*(){try{return yield this._useSession(t=>y(this,null,function*(){let{data:{session:r},error:i}=t;if(i)throw i;if(!r)throw new xt;let{error:o}=yield H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}}))}catch(t){if(L(t))return{data:{user:null,session:null},error:t};throw t}})}resend(t){return y(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in t){let{email:i,type:o,options:s}=t,{error:a}=yield H(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){let{phone:i,type:o,options:s}=t,{data:a,error:l}=yield H(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:l}}throw new kr("You must provide either an email or phone number and a type")}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return y(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>y(this,null,function*(){return this._useSession(r=>y(this,null,function*(){return r}))}))})}_acquireLock(t,r){return y(this,null,function*(){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=y(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(y(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,t,()=>y(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(y(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(t){return y(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield t(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return y(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,r=yield bs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!t)return{data:{session:null},error:null};let i=t.expires_at?t.expires_at*1e3-Date.now()<Ac:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}let{session:o,error:s}=yield this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(t){return y(this,null,function*(){return t?yield this._getUser(t):(yield this.initializePromise,yield this._acquireLock(-1,()=>y(this,null,function*(){return yield this._getUser()})))})}_getUser(t){return y(this,null,function*(){try{return t?yield H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:un}):yield this._useSession(r=>y(this,null,function*(){var i,o,s;let{data:a,error:l}=r;if(l)throw l;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xt}:yield H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:un})}))}catch(r){if(L(r))return y0(r)&&(yield this._removeSession(),yield Cs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(i){return y(this,arguments,function*(t,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>y(this,null,function*(){return yield this._updateUser(t,r)}))})}_updateUser(i){return y(this,arguments,function*(t,r={}){try{return yield this._useSession(o=>y(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new xt;let l=s.session,c=null,u=null;this.flowType==="pkce"&&t.email!=null&&([c,u]=yield jr(this.storage,this.storageKey));let{data:d,error:m}=yield H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:u}),jwt:l.access_token,xform:un});if(m)throw m;return l.user=d.user,yield this._saveSession(l),yield this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}}))}catch(o){if(L(o))return{data:{user:null},error:o};throw o}})}setSession(t){return y(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>y(this,null,function*(){return yield this._setSession(t)}))})}_setSession(t){return y(this,null,function*(){try{if(!t.access_token||!t.refresh_token)throw new xt;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=kc(t.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{session:l,error:c}=yield this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:c}=yield this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(L(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(t){return y(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>y(this,null,function*(){return yield this._refreshSession(t)}))})}_refreshSession(t){return y(this,null,function*(){try{return yield this._useSession(r=>y(this,null,function*(){var i;if(!t){let{data:a,error:l}=r;if(l)throw l;t=(i=a.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new xt;let{session:o,error:s}=yield this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(t,r){return y(this,null,function*(){try{if(!Tt())throw new Fr("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Fr(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ys("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fr("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ys("No code detected.");let{data:ve,error:P}=yield this._exchangeCodeForSession(t.code);if(P)throw P;let ce=new URL(window.location.href);return ce.searchParams.delete("code"),window.history.replaceState(window.history.state,"",ce.toString()),{data:{session:ve.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!a||!u)throw new Fr("No session defined in URL");let d=Math.round(Date.now()/1e3),m=parseInt(l),f=d+m;c&&(f=parseInt(c));let _=f-d;_*1e3<=Rr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${m}s`);let b=f-m;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,f,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,f,d);let{data:E,error:x}=yield this._getUser(s);if(x)throw x;let fe={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:m,expires_at:f,refresh_token:a,token_type:u,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:fe,redirectType:t.type},error:null}}catch(i){if(L(i))return{data:{session:null,redirectType:null},error:i};throw i}})}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}_isPKCECallback(t){return y(this,null,function*(){let r=yield bs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)})}signOut(){return y(this,arguments,function*(t={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>y(this,null,function*(){return yield this._signOut(t)}))})}_signOut(){return y(this,arguments,function*({scope:t}={scope:"global"}){return yield this._useSession(r=>y(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{error:s};let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:l}=yield this.admin.signOut(a,t);if(l&&!(v0(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(yield this._removeSession(),yield Cs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(t){let r=M0(),i={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),y(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>y(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(t){return y(this,null,function*(){return yield this._useSession(r=>y(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return y(this,arguments,function*(t,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield jr(this.storage,this.storageKey,!0));try{return yield H(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(L(a))return{data:null,error:a};throw a}})}getUserIdentities(){return y(this,null,function*(){var t;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}})}linkIdentity(t){return y(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>y(this,null,function*(){var a,l,c,u,d;let{data:m,error:f}=s;if(f)throw f;let _=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield H(this.fetch,"GET",_,{headers:this.headers,jwt:(d=(u=m.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(o)throw o;return Tt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:t.provider,url:i?.url},error:null}}catch(i){if(L(i))return{data:{provider:t.provider,url:null},error:i};throw i}})}unlinkIdentity(t){return y(this,null,function*(){try{return yield this._useSession(r=>y(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield H(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(L(r))return{data:null,error:r};throw r}})}_refreshAccessToken(t){return y(this,null,function*(){let r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield O0(o=>y(this,null,function*(){return o>0&&(yield A0(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:cn})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&Nc(s)&&Date.now()+a-i<Rr})}catch(i){if(this._debug(r,"error",i),L(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,r){return y(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",i),Tt()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}})}_recoverAndRefresh(){return y(this,null,function*(){var t;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let i=yield bs(this.storage,this.storageKey);if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&(yield this._removeSession());return}let o=((t=i.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Ac;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Ac}s`),o){if(this.autoRefreshToken&&i.refresh_token){let{error:s}=yield this._callRefreshToken(i.refresh_token);s&&(console.error(s),Nc(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}})}_callRefreshToken(t){return y(this,null,function*(){var r,i;if(!t)throw new xt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new ws;let{data:s,error:a}=yield this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new xt;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),L(s)){let a={session:null,error:s};return Nc(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(t,r,i=!0){return y(this,null,function*(){let o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(l=>y(this,null,function*(){try{yield l.callback(t,r)}catch(c){s.push(c)}}));if(yield Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(t){return y(this,null,function*(){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,yield Wh(this.storage,this.storageKey,t)})}_removeSession(){return y(this,null,function*(){this._debug("#_removeSession()"),yield Cs(this.storage,this.storageKey),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Tt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return y(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),Rr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(()=>y(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return y(this,null,function*(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)})}startAutoRefresh(){return y(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return y(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return y(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>y(this,null,function*(){try{let t=Date.now();try{return yield this._useSession(r=>y(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-t)/Rr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Rr}ms, refresh threshold is ${Tc} ticks`),o<=Tc&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(t){if(t.isAcquireTimeout||t instanceof Ds)this._debug("auto refresh token tick lock not available");else throw t}})}_handleVisibilityChange(){return y(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Tt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>y(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}})}_onVisibilityChanged(t){return y(this,null,function*(){let r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(yield this.initializePromise,yield this._acquireLock(-1,()=>y(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(t,r,i){return y(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=yield jr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(l.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${o.join("&")}`})}_unenroll(t){return y(this,null,function*(){try{return yield this._useSession(r=>y(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield H(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(L(r))return{data:null,error:r};throw r}})}_enroll(t){return y(this,null,function*(){try{return yield this._useSession(r=>y(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return{data:null,error:a};let l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=yield H(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((o=c?.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})}))}catch(r){if(L(r))return{data:null,error:r};throw r}})}_verify(t){return y(this,null,function*(){return this._acquireLock(-1,()=>y(this,null,function*(){try{return yield this._useSession(r=>y(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:l}=yield H(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return l?{data:null,error:l}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})}))}catch(r){if(L(r))return{data:null,error:r};throw r}}))})}_challenge(t){return y(this,null,function*(){return this._acquireLock(-1,()=>y(this,null,function*(){try{return yield this._useSession(r=>y(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield H(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(L(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(t){return y(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:t.factorId});return i?{data:null,error:i}:yield this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})})}_listFactors(){return y(this,null,function*(){let{data:{user:t},error:r}=yield this.getUser();if(r)return{data:null,error:r};let i=t?.factors||[],o=i.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=i.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:i,totp:o,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return y(this,null,function*(){return this._acquireLock(-1,()=>y(this,null,function*(){return yield this._useSession(t=>y(this,null,function*(){var r,i;let{data:{session:o},error:s}=t;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=kc(o.access_token),l=null;a.aal&&(l=a.aal);let c=l;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(m=>m.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(c="aal2");let d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}))})}fetchJwk(i){return y(this,arguments,function*(t,r={keys:[]}){let o=r.keys.find(l=>l.kid===t);if(o||(o=this.jwks.keys.find(l=>l.kid===t),o&&this.jwks_cached_at+m0>Date.now()))return o;let{data:s,error:a}=yield H(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new Nn("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),o=s.keys.find(l=>l.kid===t),!o)throw new Nn("No matching signing key found in JWKS");return o})}getClaims(i){return y(this,arguments,function*(t,r={keys:[]}){try{let o=t;if(!o){let{data:b,error:E}=yield this.getSession();if(E||!b.session)return{data:null,error:E};o=b.session.access_token}let{header:s,payload:a,signature:l,raw:{header:c,payload:u}}=kc(o);if(R0(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){let{error:b}=yield this.getUser(o);if(b)throw b;return{data:{claims:a,header:s,signature:l},error:null}}let d=P0(s.alg),m=yield this.fetchJwk(s.kid,r),f=yield crypto.subtle.importKey("jwk",m,d,!0,["verify"]);if(!(yield crypto.subtle.verify(d,f,l,E0(`${c}.${u}`))))throw new Nn("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(o){if(L(o))return{data:null,error:o};throw o}})}}return e.nextInstanceID=0,e})();var RT=Qh,Jh=RT;var jc=class extends Jh{constructor(n){super(n)}};var PT=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},Vc=class{constructor(n,t,r){var i,o,s;if(this.supabaseUrl=n,this.supabaseKey=t,!n)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");let a=u0(n),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);let c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:s0,realtime:l0,auth:Object.assign(Object.assign({},a0),{storageKey:c}),global:o0},d=d0(r??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(m,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=c0(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new $_(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new rs(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ps(this.storageUrl.href,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},r={}){return this.rest.rpc(n,t,r)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,t;return PT(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:i,storageKey:o,flowType:s,lock:a,debug:l},c,u){let d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jc({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),c),storageKey:o,autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:i,flowType:s,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new fs(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(n,t,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:n==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var Re=(e,n,t)=>new Vc(e,n,t);var oe={production:!0,apiUrl:"https://odxmkgllkwmedpptjoob.supabase.co",publicAnonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9keG1rZ2xsa3dtZWRwcHRqb29iIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk0NzkwNTAsImV4cCI6MjA2NTA1NTA1MH0.pF6wmqo49E9grds-ZIPpl4DZMEztqdPv56Bg-ocapVg"};var kT=()=>["perfil"],$0=()=>["solicitar-turno"],FT=()=>["turnos"],LT=()=>["usuarios"],jT=()=>["generar-usuario"],H0=()=>["mis-turnos"];function VT(e,n){e&1&&(p(0,"li")(1,"a",6),g(2,"Cargar Turno"),h()()),e&2&&(v(),w("routerLink",Et(1,$0)))}function UT(e,n){e&1&&(p(0,"li")(1,"a",6),g(2,"Turnos"),h()()),e&2&&(v(),w("routerLink",Et(1,FT)))}function BT(e,n){e&1&&(p(0,"li")(1,"a",6),g(2,"Gesti\xF3n De Usuarios"),h()()),e&2&&(v(),w("routerLink",Et(1,LT)))}function $T(e,n){e&1&&(p(0,"li")(1,"a",6),g(2,"Generar Usuario"),h()()),e&2&&(v(),w("routerLink",Et(1,jT)))}function HT(e,n){e&1&&(p(0,"li")(1,"a",6),g(2,"Mis Turnos"),h()()),e&2&&(v(),w("routerLink",Et(1,H0)))}function zT(e,n){e&1&&(p(0,"li")(1,"a",6),g(2,"Solicitar Turno"),h()()),e&2&&(v(),w("routerLink",Et(1,$0)))}function qT(e,n){e&1&&(p(0,"li")(1,"a",6),g(2,"Mis Turnos"),h()()),e&2&&(v(),w("routerLink",Et(1,H0)))}function GT(e,n){if(e&1&&(p(0,"div",9)(1,"div",10)(2,"h2"),g(3),h(),p(4,"p"),g(5,"Est\xE1s logueado como: "),p(6,"strong"),g(7),h()(),p(8,"p"),g(9,"Us\xE1 el men\xFA superior para navegar por la aplicaci\xF3n."),h()()()),e&2){let t=I(2);v(3),ye("Bienvenido",t.usuario!=null&&t.usuario.nombre&&(t.usuario!=null&&t.usuario.apellido)?", "+(t.usuario==null?null:t.usuario.nombre)+" "+(t.usuario==null?null:t.usuario.apellido):"","!"),v(4),Z(t.usuario==null?null:t.usuario.categoria)}}function WT(e,n){if(e&1){let t=de();p(0,"div")(1,"nav",2)(2,"div",3)(3,"span",4),g(4,"Cl\xEDnica Online"),h(),p(5,"ul",5),R(6,VT,3,2,"li",0)(7,UT,3,2,"li",0)(8,BT,3,2,"li",0)(9,$T,3,2,"li",0)(10,HT,3,2,"li",0)(11,zT,3,2,"li",0)(12,qT,3,2,"li",0),p(13,"li")(14,"a",6),g(15,"Perfil"),h()(),p(16,"li")(17,"a",7),q("click",function(){A(t);let i=I();return O(i.logout())}),g(18,"Cerrar sesi\xF3n"),h()()()()(),R(19,GT,10,2,"div",8),h()}if(e&2){let t=I();v(6),w("ngIf",t.esAdmin()),v(),w("ngIf",t.esAdmin()),v(),w("ngIf",t.esAdmin()),v(),w("ngIf",t.esAdmin()),v(),w("ngIf",t.esEspecialista()),v(),w("ngIf",t.esPaciente()),v(),w("ngIf",t.esPaciente()),v(2),w("routerLink",Et(9,kT)),v(5),w("ngIf",t.mostrarDatos())}}function ZT(e,n){e&1&&(p(0,"div",11)(1,"h2"),g(2,"Cuenta no habilitada"),h(),p(3,"p"),g(4,"Tu cuenta a\xFAn no ha sido aprobada por un administrador."),h(),p(5,"p"),g(6,"Por favor, intent\xE1 m\xE1s tarde o comunicate con soporte."),h()())}var Uc=Re(oe.apiUrl,oe.publicAnonKey),Bc=class e{constructor(n){this.router=n}rutaActual="";usuario=null;ngOnInit(){this.rutaActual=this.router.url,this.router.events.pipe($e(n=>n instanceof ot)).subscribe(n=>{this.rutaActual=n.url}),this.getUserData()}getUserData(){Uc.auth.getUser().then(({data:n,error:t})=>{if(t){console.error("Error:",t.message);return}let r=n.user.id;Uc.from("usuarios").select("*").eq("id",r).single().then(({data:i,error:o})=>{if(o){console.error("Error al obtener usuario:",o.message);return}console.log("Data:",i),this.usuario=i})})}getAvatarUrl(n){return Uc.storage.from("images").getPublicUrl(n).data.publicUrl}logout(){Uc.auth.signOut(),this.router.navigate(["/login"])}mostrarDatos(){return this.router.url==="/home"}esAdmin(){return this.usuario?.categoria==="administrador"}esEspecialista(){return this.usuario?.categoria==="especialista"}esPaciente(){return this.usuario?.categoria==="paciente"}cuentaHabilitada(){return this.usuario?.habilitado===!0}static \u0275fac=function(t){return new(t||e)(M(ie))};static \u0275cmp=ae({type:e,selectors:[["app-home"]],decls:3,vars:2,consts:[[4,"ngIf"],["class","no-habilitada",4,"ngIf"],[1,"navbar"],[1,"navbar-container"],[1,"logo"],[1,"nav-links"],[3,"routerLink"],[3,"click"],["class","home-container",4,"ngIf"],[1,"home-container"],[1,"bienvenida"],[1,"no-habilitada"]],template:function(t,r){t&1&&(R(0,WT,20,10,"div",0)(1,ZT,7,0,"div",1),Ze(2,"router-outlet")),t&2&&(w("ngIf",r.cuentaHabilitada()),v(),w("ngIf",!r.cuentaHabilitada()))},dependencies:[Mr,_e,Se,st],styles:[".navbar[_ngcontent-%COMP%]{background-color:#3498db;padding:15px 30px;color:#fff;font-family:Segoe UI,sans-serif;box-shadow:0 4px 8px #00000026}.navbar[_ngcontent-%COMP%]   .navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.navbar[_ngcontent-%COMP%]   .navbar-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.navbar[_ngcontent-%COMP%]   .navbar-container[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]{list-style:none;display:flex;gap:20px}.navbar[_ngcontent-%COMP%]   .navbar-container[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:500;transition:color .3s}.navbar[_ngcontent-%COMP%]   .navbar-container[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#e0e0e0}.home-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:50px;background:linear-gradient(to bottom right,#ecf0f1,#dfe6e9);min-height:calc(100vh - 70px)}.home-container[_ngcontent-%COMP%]   .bienvenida[_ngcontent-%COMP%]{max-width:500px;margin:0 auto 40px;padding:30px 40px;background-color:#ffffffe6;border-radius:12px;box-shadow:0 8px 20px #0003;font-family:Segoe UI,sans-serif;color:#333;text-align:center}.home-container[_ngcontent-%COMP%]   .bienvenida[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin-top:10px}.no-habilitada[_ngcontent-%COMP%]{background-color:#fff;max-width:700px;padding:60px 70px;border-radius:12px;font-family:Segoe UI,sans-serif;color:#2c3e50;text-align:center;font-size:26px;font-weight:600;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);box-sizing:border-box}"]})};var $c=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=ae({type:e,selectors:[["app-error"]],decls:2,vars:0,template:function(t,r){t&1&&(p(0,"h1"),g(1,"404 Pagina no encontrada"),h())},encapsulation:2})};var X0=(()=>{class e{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||e)(M(Sn),M(Jt))};static \u0275dir=pe({type:e})}return e})(),Yc=(()=>{class e extends X0{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Lt(e)))(i||e)}})();static \u0275dir=pe({type:e,features:[nt]})}return e})(),As=new T("");var KT={provide:As,useExisting:bt(()=>dn),multi:!0};function YT(){let e=It()?It().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var QT=new T(""),dn=(()=>{class e extends X0{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!YT())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||e)(M(Sn),M(Jt),M(QT,8))};static \u0275dir=pe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&q("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Xt([KT]),nt]})}return e})();function JT(e){return e==null||XT(e)===0}function XT(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var Os=new T(""),ew=new T("");function eA(e){return n=>{if(n.value==null||e==null)return null;let t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}function tA(e){return n=>{if(n.value==null||e==null)return null;let t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}function nA(e){return JT(e.value)?{required:!0}:null}function z0(e){return null}function tw(e){return e!=null}function nw(e){return _r(e)?me(e):e}function rw(e){let n={};return e.forEach(t=>{n=t!=null?D(D({},n),t):n}),Object.keys(n).length===0?null:n}function iw(e,n){return n.map(t=>t(e))}function rA(e){return!e.validate}function ow(e){return e.map(n=>rA(n)?n:t=>n.validate(t))}function iA(e){if(!e)return null;let n=e.filter(tw);return n.length==0?null:function(t){return rw(iw(t,n))}}function np(e){return e!=null?iA(ow(e)):null}function oA(e){if(!e)return null;let n=e.filter(tw);return n.length==0?null:function(t){let r=iw(t,n).map(nw);return Lu(r).pipe(J(rw))}}function rp(e){return e!=null?oA(ow(e)):null}function q0(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function sA(e){return e._rawValidators}function aA(e){return e._rawAsyncValidators}function Xh(e){return e?Array.isArray(e)?e:[e]:[]}function zc(e,n){return Array.isArray(e)?e.includes(n):e===n}function G0(e,n){let t=Xh(n);return Xh(e).forEach(i=>{zc(t,i)||t.push(i)}),t}function W0(e,n){return Xh(n).filter(t=>!zc(e,t))}var qc=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=np(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=rp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return this.control?this.control.hasError(n,t):!1}getError(n,t){return this.control?this.control.getError(n,t):null}},Qi=class extends qc{name;get formDirective(){return null}get path(){return null}},Ts=class extends qc{_parent=null;name=null;valueAccessor=null},Gc=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},lA={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},e$=$(D({},lA),{"[class.ng-submitted]":"isSubmitted"}),Ot=(()=>{class e extends Gc{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(M(Ts,2))};static \u0275dir=pe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&vl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[nt]})}return e})(),Xn=(()=>{class e extends Gc{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(M(Qi,10))};static \u0275dir=pe({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&vl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[nt]})}return e})();var Es="VALID",Hc="INVALID",Ki="PENDING",Is="DISABLED",Jn=class{},Wc=class extends Jn{value;source;constructor(n,t){super(),this.value=n,this.source=t}},Ms=class extends Jn{pristine;source;constructor(n,t){super(),this.pristine=n,this.source=t}},xs=class extends Jn{touched;source;constructor(n,t){super(),this.touched=n,this.source=t}},Yi=class extends Jn{status;source;constructor(n,t){super(),this.status=n,this.source=t}},ep=class extends Jn{source;constructor(n){super(),this.source=n}},tp=class extends Jn{source;constructor(n){super(),this.source=n}};function sw(e){return(Qc(e)?e.validators:e)||null}function cA(e){return Array.isArray(e)?np(e):e||null}function aw(e,n){return(Qc(n)?n.asyncValidators:e)||null}function uA(e){return Array.isArray(e)?rp(e):e||null}function Qc(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function dA(e,n,t){let r=e.controls;if(!(n?Object.keys(r):r).length)throw new S(1e3,"");if(!r[t])throw new S(1001,"")}function fA(e,n,t){e._forEachChild((r,i)=>{if(t[i]===void 0)throw new S(1002,"")})}var Zc=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,t){this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return xn(this.statusReactive)}set status(n){xn(()=>this.statusReactive.set(n))}_status=Io(()=>this.statusReactive());statusReactive=Co(void 0);get valid(){return this.status===Es}get invalid(){return this.status===Hc}get pending(){return this.status==Ki}get disabled(){return this.status===Is}get enabled(){return this.status!==Is}errors;get pristine(){return xn(this.pristineReactive)}set pristine(n){xn(()=>this.pristineReactive.set(n))}_pristine=Io(()=>this.pristineReactive());pristineReactive=Co(!0);get dirty(){return!this.pristine}get touched(){return xn(this.touchedReactive)}set touched(n){xn(()=>this.touchedReactive.set(n))}_touched=Io(()=>this.touchedReactive());touchedReactive=Co(!1);get untouched(){return!this.touched}_events=new xe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(G0(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(G0(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(W0(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(W0(n,this._rawAsyncValidators))}hasValidator(n){return zc(this._rawValidators,n)}hasAsyncValidator(n){return zc(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let t=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched($(D({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new xs(!0,r))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),t&&n.emitEvent!==!1&&this._events.next(new xs(!1,r))}markAsDirty(n={}){let t=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty($(D({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new Ms(!1,r))}markAsPristine(n={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),t&&n.emitEvent!==!1&&this._events.next(new Ms(!0,r))}markAsPending(n={}){this.status=Ki;let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Yi(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending($(D({},n),{sourceControl:t}))}disable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=Is,this.errors=null,this._forEachChild(i=>{i.disable($(D({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Wc(this.value,r)),this._events.next(new Yi(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors($(D({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=Es,this._forEachChild(r=>{r.enable($(D({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors($(D({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Es||this.status===Ki)&&this._runAsyncValidator(r,n.emitEvent)}let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Wc(this.value,t)),this._events.next(new Yi(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity($(D({},n),{sourceControl:t}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Is:Es}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=Ki,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=nw(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(n){let t=n;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new Yi(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,r)}_initObservables(){this.valueChanges=new ke,this.statusChanges=new ke}_calculateStatus(){return this._allControlsDisabled()?Is:this.errors?Hc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ki)?Ki:this._anyControlsHaveStatus(Hc)?Hc:Es}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),i&&this._events.next(new Ms(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new xs(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Qc(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let t=this._parent&&this._parent.dirty;return!n&&!!t&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=cA(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=uA(this._rawAsyncValidators)}},Kc=class extends Zc{constructor(n,t,r){super(sw(t),aw(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){fA(this,!0,n),Object.keys(n).forEach(r=>{dA(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(Object.keys(n).forEach(r=>{let i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&n(r))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(n,t){let r=n;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var ip=new T("",{providedIn:"root",factory:()=>op}),op="always";function hA(e,n){return[...n.path,e]}function lw(e,n,t=op){cw(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||t==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),gA(e,n),vA(e,n),mA(e,n),pA(e,n)}function Z0(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function pA(e,n){if(n.valueAccessor.setDisabledState){let t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}function cw(e,n){let t=sA(e);n.validator!==null?e.setValidators(q0(t,n.validator)):typeof t=="function"&&e.setValidators([t]);let r=aA(e);n.asyncValidator!==null?e.setAsyncValidators(q0(r,n.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();Z0(n._rawValidators,i),Z0(n._rawAsyncValidators,i)}function gA(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&uw(e,n)})}function mA(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&uw(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function uw(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function vA(e,n){let t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}function yA(e,n){e==null,cw(e,n)}function _A(e,n){if(!e.hasOwnProperty("model"))return!1;let t=e.model;return t.isFirstChange()?!0:!Object.is(n,t.currentValue)}function wA(e){return Object.getPrototypeOf(e.constructor)===Yc}function bA(e,n){e._syncPendingControls(),n.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function CA(e,n){if(!n)return null;Array.isArray(n);let t,r,i;return n.forEach(o=>{o.constructor===dn?t=o:wA(o)?r=o:i=o}),i||r||t||null}var DA={provide:Qi,useExisting:bt(()=>Rn)},Ss=Promise.resolve(),Rn=(()=>{class e extends Qi{callSetDisabledState;get submitted(){return xn(this.submittedReactive)}_submitted=Io(()=>this.submittedReactive());submittedReactive=Co(!1);_directives=new Set;form;ngSubmit=new ke;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Kc({},np(t),rp(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ss.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),lw(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ss.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ss.then(()=>{let r=this._findContainer(t.path),i=new Kc({});yA(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ss.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ss.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),bA(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new ep(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new tp(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||e)(M(Os,10),M(ew,10),M(ip,8))};static \u0275dir=pe({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&q("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Xt([DA]),nt]})}return e})();function K0(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function Y0(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var EA=class extends Zc{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,t,r){super(sw(t),aw(r,t)),this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qc(t)&&(t.nonNullable||t.initialValueIsDefault)&&(Y0(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){K0(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){K0(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){Y0(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var IA={provide:Ts,useExisting:bt(()=>ht)},Q0=Promise.resolve(),ht=(()=>{class e extends Ts{_changeDetectorRef;callSetDisabledState;control=new EA;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ke;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=CA(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),_A(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){lw(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){Q0.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&zn(r);Q0.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?hA(t,this._parent):[t]}static \u0275fac=function(r){return new(r||e)(M(Qi,9),M(Os,10),M(ew,10),M(As,10),M(br,8),M(ip,8))};static \u0275dir=pe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Xt([IA]),nt,Bn]})}return e})();var er=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=pe({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})(),SA={provide:As,useExisting:bt(()=>Ns),multi:!0},Ns=(()=>{class e extends Yc{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Lt(e)))(i||e)}})();static \u0275dir=pe({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&q("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Xt([SA]),nt]})}return e})();var MA={provide:As,useExisting:bt(()=>fn),multi:!0};function dw(e,n){return e==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function xA(e){return e.split(":")[0]}var fn=(()=>{class e extends Yc{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=dw(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=xA(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Lt(e)))(i||e)}})();static \u0275dir=pe({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&q("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Xt([MA]),nt]})}return e})(),hn=(()=>{class e{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(dw(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(M(Jt),M(Sn),M(fn,9))};static \u0275dir=pe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),TA={provide:As,useExisting:bt(()=>fw),multi:!0};function J0(e,n){return e==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function AA(e){return e.split(":")[0]}var fw=(()=>{class e extends Yc{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=AA(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Lt(e)))(i||e)}})();static \u0275dir=pe({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&q("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Xt([TA]),nt]})}return e})(),pn=(()=>{class e{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(J0(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(J0(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(M(Jt),M(Sn),M(fw,9))};static \u0275dir=pe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();function hw(e){return typeof e=="number"?e:parseFloat(e)}var sp=(()=>{class e{_validator=z0;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):z0,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=pe({type:e,features:[Bn]})}return e})(),OA={provide:Os,useExisting:bt(()=>Rs),multi:!0},Rs=(()=>{class e extends sp{max;inputName="max";normalizeInput=t=>hw(t);createValidator=t=>tA(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Lt(e)))(i||e)}})();static \u0275dir=pe({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&wr("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[Xt([OA]),nt]})}return e})(),NA={provide:Os,useExisting:bt(()=>Ps),multi:!0},Ps=(()=>{class e extends sp{min;inputName="min";normalizeInput=t=>hw(t);createValidator=t=>eA(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Lt(e)))(i||e)}})();static \u0275dir=pe({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&wr("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[Xt([NA]),nt]})}return e})(),RA={provide:Os,useExisting:bt(()=>$r),multi:!0};var $r=(()=>{class e extends sp{required;inputName="required";normalizeInput=zn;createValidator=t=>nA;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Lt(e)))(i||e)}})();static \u0275dir=pe({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&wr("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Xt([RA]),nt]})}return e})();var PA=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Mn({type:e});static \u0275inj=Dn({})}return e})();var ze=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:ip,useValue:t.callSetDisabledState??op}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Mn({type:e});static \u0275inj=Dn({imports:[PA]})}return e})();function kA(e,n){if(e&1&&(p(0,"option",24),g(1),h()),e&2){let t=n.$implicit;w("value",t.id),v(),Z(t.nombre)}}function FA(e,n){if(e&1){let t=de();p(0,"div",3)(1,"input",25),W("ngModelChange",function(i){A(t);let o=I(2);return K(o.nuevaEspecialidad,i)||(o.nuevaEspecialidad=i),O(i)}),h()()}if(e&2){let t=I(2);v(),G("ngModel",t.nuevaEspecialidad)}}function LA(e,n){if(e&1){let t=de();p(0,"div",3)(1,"label"),g(2,"Especialidades:"),h(),p(3,"select",20),W("ngModelChange",function(i){A(t);let o=I();return K(o.especialidadSeleccionada,i)||(o.especialidadSeleccionada=i),O(i)}),q("change",function(){A(t);let i=I();return O(i.EspecialidadChange())}),p(4,"option",21),g(5,"Elija una especialidad"),h(),R(6,kA,2,2,"option",22),p(7,"option",23),g(8,"Otro"),h()(),R(9,FA,2,1,"div",14),h()}if(e&2){let t=I();v(3),G("ngModel",t.especialidadSeleccionada),v(3),w("ngForOf",t.especialidadesDisponibles),v(3),w("ngIf",t.especialidadSeleccionada==="Otro"&&(t.usuario.especialidades==null?null:t.usuario.especialidades.length)===0)}}function jA(e,n){if(e&1&&(p(0,"div",3)(1,"strong"),g(2,"Especialidad propuesta:"),h(),g(3),h()),e&2){let t=I();v(3),ye(" ",t.nuevaEspecialidad," ")}}function VA(e,n){if(e&1){let t=de();p(0,"div",3)(1,"label"),g(2,"Imagen 2:"),h(),p(3,"input",15),q("change",function(i){A(t);let o=I();return O(o.onFileSelected2(i))}),h()()}}function UA(e,n){if(e&1&&(p(0,"div",26),g(1),h()),e&2){let t=I();v(),Z(t.errorMsg)}}var ks=Re(oe.apiUrl,oe.publicAnonKey),Jc=class e{constructor(n){this.router=n}usuario={nombre:"",apellido:"",edad:0,dni:"",obra_social:"",categoria:"paciente",url_img1:"",url_img2:"",especialidades:[],habilitado:!0,email:""};especialidadesDisponibles=[];password="";avatarFile=null;avatarFile2=null;errorMsg="";submitted=!1;nuevaEspecialidad="";especialidadSeleccionada="";ngOnInit(){this.loadEspecialidades()}registrar(){this.submitted=!0,this.errorMsg="";let n=this.usuario;if(!n.email||!this.password||!n.nombre||!n.apellido||!n.dni||!n.edad||!this.avatarFile||!n.obra_social||n.categoria==="paciente"&&!this.avatarFile2){this.errorMsg="Por favor complet\xE1 todos los campos obligatorios.";return}if(this.especialidadSeleccionada==="Otro"&&this.nuevaEspecialidad.trim()!=="")ks.from("especialidades").insert([{nombre:this.nuevaEspecialidad.trim(),habilitado:!1}]).select("id").single().then(({data:t,error:r})=>{if(r){console.error("Error agregando nueva especialidad:",r.message),this.errorMsg="No se pudo agregar la nueva especialidad. Intente m\xE1s tarde.";return}if(n.especialidades=[t.id],n.categoria==="especialista"&&(!n.especialidades||n.especialidades.length===0||!this.avatarFile)){this.errorMsg="Deb\xE9s seleccionar al menos una especialidad.";return}this.continuarRegistro(n)});else{if(this.especialidadSeleccionada!=="Otro"&&this.especialidadSeleccionada!==""&&(n.especialidades=[this.especialidadSeleccionada]),n.categoria==="especialista"&&(!n.especialidades||n.especialidades.length===0||!n.obra_social)){this.errorMsg="Deb\xE9s seleccionar al menos una especialidad.";return}this.continuarRegistro(n)}}continuarRegistro(n){ks.auth.signUp({email:n.email,password:this.password}).then(({data:t,error:r})=>{r?(console.error(r.message),this.errorMsg="Error al registrarse: "+r.message):(console.log("usuario registrado con exito",t.user),this.saveUserData(t.user))})}saveUserData(n){if(!n){this.errorMsg="Error interno: usuario no v\xE1lido.";return}this.saveFile().then(t=>{if(t)if(this.usuario.url_img1=t.path,this.usuario.categoria==="paciente"&&this.avatarFile2){let r=this.avatarFile;this.avatarFile=this.avatarFile2,this.saveFile().then(i=>{i&&(this.usuario.url_img2=i.path),this.avatarFile=r,this.insertUser(n)})}else this.insertUser(n)})}insertUser(n){this.usuario.categoria==="especialista"&&(this.usuario.habilitado=!1),ks.from("usuarios").insert([{id:n.id,nombre:this.usuario.nombre,apellido:this.usuario.apellido,edad:this.usuario.edad,dni:this.usuario.dni,obra_social:this.usuario.obra_social,categoria:this.usuario.categoria,especialidades:this.usuario.especialidades,habilitado:this.usuario.habilitado,url_img1:this.usuario.url_img1,url_img2:this.usuario.url_img2,email:this.usuario.email}]).then(({data:t,error:r})=>{r?console.error("Error:",r.message):this.router.navigate(["login"])})}saveFile(){return y(this,null,function*(){let{data:n,error:t}=yield ks.storage.from("images").upload(`users/${this.avatarFile?.name}`,this.avatarFile,{cacheControl:"3600",upsert:!1});return n})}onFileSelected(n){this.avatarFile=n.target.files[0]}onFileSelected2(n){this.avatarFile2=n.target.files[0]}EspecialidadChange(){this.especialidadSeleccionada!=="Otro"?this.usuario.especialidades=[this.especialidadSeleccionada]:this.usuario.especialidades=[]}loadEspecialidades(){ks.from("especialidades").select("id, nombre").eq("habilitado",!0).then(({data:n,error:t})=>{if(t){console.error("Error cargando especialidades:",t.message);return}this.especialidadesDisponibles=n||[]})}static \u0275fac=function(t){return new(t||e)(M(ie))};static \u0275cmp=ae({type:e,selectors:[["app-register"]],decls:56,vars:12,consts:[["form","ngForm"],[1,"registro-container"],[3,"ngSubmit"],[1,"form-row"],["type","text","name","nombre","required","",3,"ngModelChange","ngModel"],["type","text","name","apellido","required","",3,"ngModelChange","ngModel"],["type","number","name","edad","required","","min","1","max","120",3,"ngModelChange","ngModel"],["type","text","name","dni","required","",3,"ngModelChange","ngModel"],["name","categoria",3,"ngModelChange","ngModel"],["value","paciente"],["value","especialista"],["type","email","name","email","required","",3,"ngModelChange","ngModel"],["type","password","name","password","required","",3,"ngModelChange","ngModel"],["type","text","name","obraSocial",3,"ngModelChange","ngModel"],["class","form-row",4,"ngIf"],["type","file","required","",3,"change"],["class","form-error",4,"ngIf"],["type","submit"],[1,"login-link-container"],["routerLink","/login",1,"login-link"],["name","especialidades",3,"ngModelChange","change","ngModel"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["value","Otro"],[3,"value"],["type","text","placeholder","Agregar nueva especialidad","name","nuevaEspecialidad",3,"ngModelChange","ngModel"],[1,"form-error"]],template:function(t,r){if(t&1){let i=de();p(0,"div",1)(1,"h2"),g(2,"Registro de Usuario"),h(),p(3,"form",2,0),q("ngSubmit",function(){return A(i),O(r.registrar())}),p(5,"div",3)(6,"label"),g(7,"Nombre:"),h(),p(8,"input",4),W("ngModelChange",function(s){return A(i),K(r.usuario.nombre,s)||(r.usuario.nombre=s),O(s)}),h()(),p(9,"div",3)(10,"label"),g(11,"Apellido:"),h(),p(12,"input",5),W("ngModelChange",function(s){return A(i),K(r.usuario.apellido,s)||(r.usuario.apellido=s),O(s)}),h()(),p(13,"div",3)(14,"label"),g(15,"Edad:"),h(),p(16,"input",6),W("ngModelChange",function(s){return A(i),K(r.usuario.edad,s)||(r.usuario.edad=s),O(s)}),h()(),p(17,"div",3)(18,"label"),g(19,"DNI:"),h(),p(20,"input",7),W("ngModelChange",function(s){return A(i),K(r.usuario.dni,s)||(r.usuario.dni=s),O(s)}),h()(),p(21,"div",3)(22,"label"),g(23,"Tipo de usuario:"),h(),p(24,"select",8),W("ngModelChange",function(s){return A(i),K(r.usuario.categoria,s)||(r.usuario.categoria=s),O(s)}),p(25,"option",9),g(26,"Paciente"),h(),p(27,"option",10),g(28,"Especialista"),h()()(),p(29,"div",3)(30,"label"),g(31,"Correo electr\xF3nico:"),h(),p(32,"input",11),W("ngModelChange",function(s){return A(i),K(r.usuario.email,s)||(r.usuario.email=s),O(s)}),h()(),p(33,"div",3)(34,"label"),g(35,"Contrase\xF1a:"),h(),p(36,"input",12),W("ngModelChange",function(s){return A(i),K(r.password,s)||(r.password=s),O(s)}),h()(),p(37,"div",3)(38,"label"),g(39,"Obra Social:"),h(),p(40,"input",13),W("ngModelChange",function(s){return A(i),K(r.usuario.obra_social,s)||(r.usuario.obra_social=s),O(s)}),h()(),R(41,LA,10,3,"div",14)(42,jA,4,1,"div",14),p(43,"div",3)(44,"label"),g(45,"Imagen 1:"),h(),p(46,"input",15),q("change",function(s){return A(i),O(r.onFileSelected(s))}),h()(),R(47,VA,4,0,"div",14)(48,UA,2,1,"div",16),p(49,"button",17),g(50,"Registrarse"),h()(),p(51,"div",18)(52,"span"),g(53,"\xBFYa tienes cuenta? "),h(),p(54,"a",19),g(55,"Inicia sesi\xF3n"),h()()()}t&2&&(v(8),G("ngModel",r.usuario.nombre),v(4),G("ngModel",r.usuario.apellido),v(4),G("ngModel",r.usuario.edad),v(4),G("ngModel",r.usuario.dni),v(4),G("ngModel",r.usuario.categoria),v(8),G("ngModel",r.usuario.email),v(4),G("ngModel",r.password),v(4),G("ngModel",r.usuario.obra_social),v(),w("ngIf",r.usuario.categoria==="especialista"),v(),w("ngIf",r.especialidadSeleccionada==="Otro"&&r.nuevaEspecialidad),v(5),w("ngIf",r.usuario.categoria==="paciente"),v(),w("ngIf",r.errorMsg))},dependencies:[ze,er,hn,pn,dn,Ns,fn,Ot,Xn,$r,Ps,Rs,ht,Rn,_e,Oe,Se,Sh,st],styles:[".registro-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto 40px;padding:30px 40px;background-color:#ffffffe6;border-radius:12px;box-shadow:0 8px 20px #0003;font-family:Segoe UI,sans-serif;color:#333}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:25px;color:#2c3e50}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.form-row[_ngcontent-%COMP%]{display:flex;flex-direction:column}label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:600}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], select[_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{padding:10px;border:1px solid #ccc;border-radius:6px;font-size:15px;transition:border-color .3s ease}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{border-color:#3498db;outline:none}button[type=submit][_ngcontent-%COMP%]{background-color:#3498db;color:#fff;border:none;padding:12px;font-size:16px;border-radius:6px;cursor:pointer;transition:background-color .3s ease}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#2980b9}.form-error[_ngcontent-%COMP%]{color:#e74c3c;font-size:14px;margin-top:-10px;margin-bottom:10px;text-align:center}.login-link-container[_ngcontent-%COMP%]{margin-top:10px;text-align:center}.login-link-container[_ngcontent-%COMP%]   .login-link[_ngcontent-%COMP%]{color:#00f;cursor:pointer;text-decoration:underline}.login-link-container[_ngcontent-%COMP%]   .login-link[_ngcontent-%COMP%]:hover{color:#00008b}"]})};function BA(e,n){if(e&1){let t=de();p(0,"li",14),q("mousedown",function(){let i=A(t).$implicit,o=I(2);return O(o.selectEmail(i))}),g(1),h()}if(e&2){let t=n.$implicit;v(),ye(" ",t," ")}}function $A(e,n){if(e&1&&(p(0,"ul",12),R(1,BA,2,1,"li",13),h()),e&2){let t=I();v(),w("ngForOf",t.filteredEmails)}}function HA(e,n){if(e&1&&(p(0,"div",15),g(1),h()),e&2){let t=I();v(),Z(t.errorMsg)}}var pw=Re(oe.apiUrl,oe.publicAnonKey),Xc=class e{constructor(n){this.router=n;this.loadRegisteredEmails()}mail="";password="";submitted=!1;incorrect=!1;errorMsg="";registeredEmails=[];filteredEmails=[];showSuggestions=!1;login(){if(this.submitted=!0,this.errorMsg="",this.mail.length==0||this.password.length==0){this.errorMsg="Credenciales incorrectas";return}pw.auth.signInWithPassword({email:this.mail,password:this.password}).then(({data:n,error:t})=>{t?(this.incorrect=!0,t.message==="Email not confirmed"?this.errorMsg="Verifica tu email para poder iniciar sesion":this.errorMsg="Credenciales incorrectas",console.error("Error:",t.message)):this.router.navigate(["home"])})}loadRegisteredEmails(){pw.from("usuarios").select("email").then(({data:n,error:t})=>{if(t){console.error("Error cargando emails:",t.message);return}this.registeredEmails=(n||[]).map(r=>r.email).filter(r=>!!r)})}selectEmail(n){this.mail=n,this.password="",this.showSuggestions=!1}inputEmail(){this.filteredEmails=this.registeredEmails.filter(n=>n.toLowerCase().includes(this.mail.toLowerCase())),this.showSuggestions=this.filteredEmails.length>0}esconderSuggestions(){setTimeout(()=>{this.showSuggestions=!1},150)}static \u0275fac=function(t){return new(t||e)(M(ie))};static \u0275cmp=ae({type:e,selectors:[["app-login"]],decls:22,vars:4,consts:[["form","ngForm"],[1,"login-container"],["autocomplete","off",3,"ngSubmit"],[1,"form-row",2,"position","relative"],["type","email","name","mail","required","","autocomplete","off",3,"ngModelChange","input","blur","ngModel"],["class","suggestions-list",4,"ngIf"],[1,"form-row"],["type","password","name","password","required","","autocomplete","current-password",3,"ngModelChange","ngModel"],["class","form-error",4,"ngIf"],["type","submit"],[1,"login-link-container"],["routerLink","/register",1,"login-link"],[1,"suggestions-list"],[3,"mousedown",4,"ngFor","ngForOf"],[3,"mousedown"],[1,"form-error"]],template:function(t,r){if(t&1){let i=de();p(0,"div",1)(1,"h2"),g(2,"Iniciar Sesi\xF3n"),h(),p(3,"form",2,0),q("ngSubmit",function(){return A(i),O(r.login())}),p(5,"div",3)(6,"label"),g(7,"Email:"),h(),p(8,"input",4),W("ngModelChange",function(s){return A(i),K(r.mail,s)||(r.mail=s),O(s)}),q("input",function(){return A(i),O(r.inputEmail())})("blur",function(){return A(i),O(r.esconderSuggestions())}),h(),R(9,$A,2,1,"ul",5),h(),p(10,"div",6)(11,"label"),g(12,"Contrase\xF1a:"),h(),p(13,"input",7),W("ngModelChange",function(s){return A(i),K(r.password,s)||(r.password=s),O(s)}),h()(),R(14,HA,2,1,"div",8),p(15,"button",9),g(16,"Iniciar Sesi\xF3n"),h()(),p(17,"div",10)(18,"span"),g(19,"\xBFNo ten\xE9s cuenta? "),h(),p(20,"a",11),g(21,"Registrate"),h()()()}t&2&&(v(8),G("ngModel",r.mail),v(),w("ngIf",r.showSuggestions&&r.filteredEmails.length>0),v(4),G("ngModel",r.password),v(),w("ngIf",r.errorMsg))},dependencies:[ze,er,dn,Ot,Xn,$r,ht,Rn,st,_e,Oe,Se],styles:[".login-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto 40px;padding:30px 40px;background-color:#ffffffe6;border-radius:12px;box-shadow:0 8px 20px #0003;font-family:Segoe UI,sans-serif;color:#333}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:25px;color:#2c3e50}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.form-row[_ngcontent-%COMP%]{display:flex;flex-direction:column}label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:600}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], select[_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{padding:10px;border:1px solid #ccc;border-radius:6px;font-size:15px;transition:border-color .3s ease}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{border-color:#3498db;outline:none}button[type=submit][_ngcontent-%COMP%]{background-color:#3498db;color:#fff;border:none;padding:12px;font-size:16px;border-radius:6px;cursor:pointer;transition:background-color .3s ease}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#2980b9}.form-error[_ngcontent-%COMP%]{color:#e74c3c;font-size:14px;margin-top:-10px;margin-bottom:10px;text-align:center}.login-link-container[_ngcontent-%COMP%]{margin-top:10px;text-align:center}.login-link[_ngcontent-%COMP%]{color:#00f;cursor:pointer;text-decoration:underline}.login-link[_ngcontent-%COMP%]:hover{color:#00008b}"]})};var eu=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=ae({type:e,selectors:[["app-bienvenida"]],decls:12,vars:0,consts:[[1,"landing-container"],[1,"card-content","shadow-lg","p-4"],["src","assets/logo-clinica.png","alt","Cl\xEDnica Logo",1,"logo","mb-4"],[1,"text-primary","mb-3"],[1,"text-muted","mb-4"],[1,"buttons"],["routerLink","/login",1,"btn","btn-primary","me-3"],["routerLink","/register",1,"btn","btn-outline-primary"]],template:function(t,r){t&1&&(p(0,"div",0)(1,"div",1),Ze(2,"img",2),p(3,"h1",3),g(4,"Bienvenido a Cl\xEDnica Online"),h(),p(5,"p",4),g(6,"Cuidamos tu salud con tecnolog\xEDa y humanidad"),h(),p(7,"div",5)(8,"a",6),g(9,"Iniciar Sesi\xF3n"),h(),p(10,"a",7),g(11,"Registrarse"),h()()()())},dependencies:[st],styles:[".landing-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100vh;display:flex;justify-content:center;align-items:center;overflow:hidden}.card-content[_ngcontent-%COMP%]{position:relative;z-index:2;background:#fffc;padding:40px;border-radius:16px;max-width:500px;width:90%;text-align:center;display:flex;flex-direction:column;justify-content:center;align-items:center}.logo[_ngcontent-%COMP%]{width:100px;height:auto;margin-bottom:20px}h1[_ngcontent-%COMP%]{font-weight:700;font-size:2.2rem;margin-bottom:15px}p[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:30px}.buttons[_ngcontent-%COMP%]{display:flex;gap:1rem}.btn[_ngcontent-%COMP%]{font-size:1rem;padding:10px 24px;border-radius:30px;transition:all .3s ease;cursor:pointer}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.btn-outline-primary[_ngcontent-%COMP%]{border:1px solid #007bff;color:#007bff}.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:#007bff;color:#fff}"]})};function zA(e,n){if(e&1){let t=de();p(0,"button",5),q("click",function(){A(t);let i=I().$implicit,o=I(2);return O(o.actualizarEstado(i))}),g(1),h()}if(e&2){let t=I().$implicit;v(),ye(" ",t.habilitado?"Deshabilitar":"Habilitar"," ")}}function qA(e,n){if(e&1&&(p(0,"span"),g(1),h()),e&2){let t=I().$implicit;v(),ye(" ",t.habilitado?"S\xED":"No"," ")}}function GA(e,n){if(e&1&&(p(0,"tr")(1,"td"),g(2),h(),p(3,"td"),g(4),h(),p(5,"td"),g(6),h(),p(7,"td"),g(8),h(),p(9,"td"),g(10),h(),p(11,"td"),R(12,zA,2,1,"button",4)(13,qA,2,1,"span",1),h()()),e&2){let t=n.$implicit;v(2),Hn("",t.nombre," ",t.apellido,""),v(2),Z(t.edad),v(2),Z(t.dni),v(2),Z(t.email),v(2),Z(t.categoria),v(2),w("ngIf",t.categoria==="especialista"||t.categoria==="administrador"),v(),w("ngIf",t.categoria!=="especialista"&&t.categoria!=="administrador")}}function WA(e,n){if(e&1&&(p(0,"table")(1,"thead")(2,"tr")(3,"th"),g(4,"Nombre Completo"),h(),p(5,"th"),g(6,"Edad"),h(),p(7,"th"),g(8,"DNI"),h(),p(9,"th"),g(10,"Email"),h(),p(11,"th"),g(12,"Categor\xEDa"),h(),p(13,"th"),g(14,"Habilitado"),h()()(),p(15,"tbody"),R(16,GA,14,8,"tr",3),h()()),e&2){let t=I();v(16),w("ngForOf",t.usuarios)}}function ZA(e,n){e&1&&(p(0,"div",6),g(1," No hay usuarios registrados para mostrar. "),h())}var ap=Re(oe.apiUrl,oe.publicAnonKey),tu=class e{constructor(n){this.router=n}ngOnInit(){this.getUsersData()}usuarios=[];getUsersData(){ap.auth.getUser().then(({data:n,error:t})=>{if(t){console.error("Error:",t.message);return}let r=n.user.id;ap.from("usuarios").select("*").neq("id",r).then(({data:i,error:o})=>{if(o){console.error("Error al obtener usuarios:",o.message);return}console.log("Usuarios:",i),this.usuarios=i})})}actualizarEstado(n){let t=!n.habilitado;ap.from("usuarios").update({habilitado:t}).eq("id",n.id).then(({data:r,error:i})=>{if(i){console.error("Error al actualizar estado:",i.message);return}n.habilitado=t})}static \u0275fac=function(t){return new(t||e)(M(ie))};static \u0275cmp=ae({type:e,selectors:[["app-usuarios"]],decls:5,vars:2,consts:[[1,"usuarios-container"],[4,"ngIf"],["class","no-users-message",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"click",4,"ngIf"],[3,"click"],[1,"no-users-message"]],template:function(t,r){t&1&&(p(0,"div",0)(1,"h2"),g(2,"Usuarios Registrados"),h(),R(3,WA,17,1,"table",1)(4,ZA,2,0,"div",2),h()),t&2&&(v(3),w("ngIf",r.usuarios.length>0),v(),w("ngIf",r.usuarios.length===0))},dependencies:[_e,Oe,Se],styles:[".usuarios-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto 40px;padding:30px 40px;background-color:#ffffffe6;border-radius:12px;box-shadow:0 8px 20px #0003;font-family:Segoe UI,sans-serif;color:#333}.usuarios-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:25px;color:#2c3e50}.usuarios-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.usuarios-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#3498db;color:#fff}.usuarios-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px;text-align:left;font-weight:600}.usuarios-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}.usuarios-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f9ff}.usuarios-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px}.usuarios-container[_ngcontent-%COMP%]   .no-users-message[_ngcontent-%COMP%]{text-align:center;font-size:16px;color:#666;margin-top:20px}.usuarios-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;border:none;padding:6px 12px;border-radius:6px;cursor:pointer;font-size:14px;transition:background-color .3s ease}.usuarios-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#2980b9}"]})};function KA(e,n){if(e&1){let t=de();p(0,"div",3)(1,"label"),g(2,"Obra Social:"),h(),p(3,"input",21),W("ngModelChange",function(i){A(t);let o=I();return K(o.usuario.obra_social,i)||(o.usuario.obra_social=i),O(i)}),h()()}if(e&2){let t=I();v(3),G("ngModel",t.usuario.obra_social)}}function YA(e,n){if(e&1&&(p(0,"option",26),g(1),h()),e&2){let t=n.$implicit;w("value",t.id),v(),Z(t.nombre)}}function QA(e,n){if(e&1){let t=de();p(0,"div",3)(1,"input",27),W("ngModelChange",function(i){A(t);let o=I(2);return K(o.nuevaEspecialidad,i)||(o.nuevaEspecialidad=i),O(i)}),h()()}if(e&2){let t=I(2);v(),G("ngModel",t.nuevaEspecialidad)}}function JA(e,n){if(e&1){let t=de();p(0,"div",3)(1,"label"),g(2,"Especialidades:"),h(),p(3,"select",22),W("ngModelChange",function(i){A(t);let o=I();return K(o.especialidadSeleccionada,i)||(o.especialidadSeleccionada=i),O(i)}),q("change",function(){A(t);let i=I();return O(i.EspecialidadChange())}),p(4,"option",23),g(5,"Elija una especialidad"),h(),R(6,YA,2,2,"option",24),p(7,"option",25),g(8,"Otro"),h()(),R(9,QA,2,1,"div",14),h()}if(e&2){let t=I();v(3),G("ngModel",t.especialidadSeleccionada),v(3),w("ngForOf",t.especialidadesDisponibles),v(3),w("ngIf",t.especialidadSeleccionada==="Otro"&&(t.usuario.especialidades==null?null:t.usuario.especialidades.length)===0)}}function XA(e,n){if(e&1&&(p(0,"div",3)(1,"strong"),g(2,"Especialidad agregada:"),h(),g(3),h()),e&2){let t=I();v(3),ye(" ",t.usuario.especialidades==null?null:t.usuario.especialidades[0]," ")}}function eO(e,n){if(e&1){let t=de();p(0,"div",3)(1,"label"),g(2,"Imagen 2:"),h(),p(3,"input",15),q("change",function(i){A(t);let o=I();return O(o.onFileSelected2(i))}),h()()}}function tO(e,n){if(e&1&&(p(0,"div",28),g(1),h()),e&2){let t=I();v(),Z(t.errorMsg)}}function nO(e,n){if(e&1&&(p(0,"div",29),g(1),h()),e&2){let t=I();v(),Z(t.msg)}}var Fs=Re(oe.apiUrl,oe.publicAnonKey),nu=class e{constructor(n){this.router=n}usuario={nombre:"",apellido:"",edad:0,dni:"",obra_social:"",categoria:"paciente",url_img1:"",url_img2:"",especialidades:[],habilitado:!0,email:""};especialidadesDisponibles=[];password="";avatarFile=null;avatarFile2=null;msg="";errorMsg="";submitted=!1;nuevaEspecialidad="";especialidadSeleccionada="";ngOnInit(){this.loadEspecialidades()}registrar(){this.submitted=!0,this.errorMsg="",this.msg="";let n=this.usuario;if(!n.email||!this.password||!n.nombre||!n.apellido||!n.dni||!n.edad||!this.avatarFile||n.categoria==="paciente"&&(!this.avatarFile2||!n.obra_social)){this.errorMsg="Por favor complet\xE1 todos los campos obligatorios.";return}if(this.especialidadSeleccionada==="Otro"&&this.nuevaEspecialidad.trim()!=="")Fs.from("especialidades").insert([{nombre:this.nuevaEspecialidad.trim(),habilitado:!0}]).select("id").single().then(({data:t,error:r})=>{if(r){console.error("Error agregando nueva especialidad:",r.message),this.errorMsg="No se pudo agregar la nueva especialidad. Intente m\xE1s tarde.";return}if(n.especialidades=[t.id],n.categoria==="especialista"&&(!n.especialidades||n.especialidades.length===0||!this.avatarFile||!n.obra_social)){this.errorMsg="Por favor complet\xE1 todos los campos obligatorios.";return}this.continuarRegistro(n)});else{if(this.especialidadSeleccionada!=="Otro"&&this.especialidadSeleccionada!==""&&(n.especialidades=[this.especialidadSeleccionada]),n.categoria==="especialista"&&(!n.especialidades||n.especialidades.length===0||!n.obra_social)){this.errorMsg="Deb\xE9s seleccionar al menos una especialidad.";return}this.continuarRegistro(n)}}continuarRegistro(n){Fs.auth.signUp({email:n.email,password:this.password}).then(({data:t,error:r})=>{r?(console.error(r.message),this.errorMsg="Error al registrarse: "+r.message):(console.log("usuario registrado con \xE9xito",t.user),this.saveUserData(t.user))})}saveUserData(n){if(!n){this.errorMsg="Error interno: usuario no v\xE1lido.";return}this.saveFile().then(t=>{if(t)if(this.usuario.url_img1=t.path,this.usuario.categoria==="paciente"&&this.avatarFile2){let r=this.avatarFile;this.avatarFile=this.avatarFile2,this.saveFile().then(i=>{i&&(this.usuario.url_img2=i.path),this.avatarFile=r,this.insertUser(n)})}else this.insertUser(n)})}insertUser(n){Fs.from("usuarios").insert([{id:n.id,nombre:this.usuario.nombre,apellido:this.usuario.apellido,edad:this.usuario.edad,dni:this.usuario.dni,obra_social:this.usuario.obra_social,categoria:this.usuario.categoria,especialidades:this.usuario.especialidades,habilitado:this.usuario.habilitado,url_img1:this.usuario.url_img1,url_img2:this.usuario.url_img2,email:this.usuario.email}]).then(({data:t,error:r})=>{r?console.error("Error:",r.message):(this.msg="\xA1Usuario creado con exito!",this.usuario={nombre:"",apellido:"",edad:0,dni:"",obra_social:"",categoria:"paciente",url_img1:"",url_img2:"",especialidades:[],habilitado:!0,email:""},this.password="",this.avatarFile=null,this.avatarFile2=null,this.nuevaEspecialidad="",this.especialidadSeleccionada="",this.submitted=!1)})}saveFile(){return y(this,null,function*(){let{data:n,error:t}=yield Fs.storage.from("images").upload(`users/${this.avatarFile?.name}`,this.avatarFile,{cacheControl:"3600",upsert:!1});return n})}onFileSelected(n){this.avatarFile=n.target.files[0]}onFileSelected2(n){this.avatarFile2=n.target.files[0]}agregarEspecialidad(){let n=this.nuevaEspecialidad.trim();n&&(this.usuario.especialidades=[n],this.nuevaEspecialidad="")}EspecialidadChange(){this.especialidadSeleccionada!=="Otro"?this.usuario.especialidades=[this.especialidadSeleccionada]:this.usuario.especialidades=[]}loadEspecialidades(){Fs.from("especialidades").select("id, nombre").eq("habilitado",!0).then(({data:n,error:t})=>{if(t){console.error("Error cargando especialidades:",t.message);return}this.especialidadesDisponibles=n||[]})}static \u0275fac=function(t){return new(t||e)(M(ie))};static \u0275cmp=ae({type:e,selectors:[["app-generar-usuario"]],decls:54,vars:13,consts:[["form","ngForm"],[1,"registro-container"],[3,"ngSubmit"],[1,"form-row"],["type","text","name","nombre","required","",3,"ngModelChange","ngModel"],["type","text","name","apellido","required","",3,"ngModelChange","ngModel"],["type","number","name","edad","required","","min","1","max","120",3,"ngModelChange","ngModel"],["type","text","name","dni","required","",3,"ngModelChange","ngModel"],["name","categoria",3,"ngModelChange","ngModel"],["value","paciente"],["value","especialista"],["value","administrador"],["type","email","name","email","required","",3,"ngModelChange","ngModel"],["type","password","name","password","required","",3,"ngModelChange","ngModel"],["class","form-row",4,"ngIf"],["type","file","required","",3,"change"],["class","form-error",4,"ngIf"],["type","submit"],["class","form-succes",4,"ngIf"],[1,"login-link-container"],["routerLink","/home",1,"login-link"],["type","text","name","obraSocial",3,"ngModelChange","ngModel"],["name","especialidades",3,"ngModelChange","change","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["value","Otro"],[3,"value"],["type","text","placeholder","Agregar nueva especialidad","name","nuevaEspecialidad",3,"ngModelChange","ngModel"],[1,"form-error"],[1,"form-succes"]],template:function(t,r){if(t&1){let i=de();p(0,"div",1)(1,"h2"),g(2,"Registro de Usuario"),h(),p(3,"form",2,0),q("ngSubmit",function(){return A(i),O(r.registrar())}),p(5,"div",3)(6,"label"),g(7,"Nombre:"),h(),p(8,"input",4),W("ngModelChange",function(s){return A(i),K(r.usuario.nombre,s)||(r.usuario.nombre=s),O(s)}),h()(),p(9,"div",3)(10,"label"),g(11,"Apellido:"),h(),p(12,"input",5),W("ngModelChange",function(s){return A(i),K(r.usuario.apellido,s)||(r.usuario.apellido=s),O(s)}),h()(),p(13,"div",3)(14,"label"),g(15,"Edad:"),h(),p(16,"input",6),W("ngModelChange",function(s){return A(i),K(r.usuario.edad,s)||(r.usuario.edad=s),O(s)}),h()(),p(17,"div",3)(18,"label"),g(19,"DNI:"),h(),p(20,"input",7),W("ngModelChange",function(s){return A(i),K(r.usuario.dni,s)||(r.usuario.dni=s),O(s)}),h()(),p(21,"div",3)(22,"label"),g(23,"Tipo de usuario:"),h(),p(24,"select",8),W("ngModelChange",function(s){return A(i),K(r.usuario.categoria,s)||(r.usuario.categoria=s),O(s)}),p(25,"option",9),g(26,"Paciente"),h(),p(27,"option",10),g(28,"Especialista"),h(),p(29,"option",11),g(30,"Administrador"),h()()(),p(31,"div",3)(32,"label"),g(33,"Correo electr\xF3nico:"),h(),p(34,"input",12),W("ngModelChange",function(s){return A(i),K(r.usuario.email,s)||(r.usuario.email=s),O(s)}),h()(),p(35,"div",3)(36,"label"),g(37,"Contrase\xF1a:"),h(),p(38,"input",13),W("ngModelChange",function(s){return A(i),K(r.password,s)||(r.password=s),O(s)}),h()(),R(39,KA,4,1,"div",14)(40,JA,10,3,"div",14)(41,XA,4,1,"div",14),p(42,"div",3)(43,"label"),g(44,"Imagen 1:"),h(),p(45,"input",15),q("change",function(s){return A(i),O(r.onFileSelected(s))}),h()(),R(46,eO,4,0,"div",14)(47,tO,2,1,"div",16),p(48,"button",17),g(49,"Registrar"),h()(),R(50,nO,2,1,"div",18),p(51,"div",19)(52,"a",20),g(53,"Volver "),h()()()}t&2&&(v(8),G("ngModel",r.usuario.nombre),v(4),G("ngModel",r.usuario.apellido),v(4),G("ngModel",r.usuario.edad),v(4),G("ngModel",r.usuario.dni),v(4),G("ngModel",r.usuario.categoria),v(10),G("ngModel",r.usuario.email),v(4),G("ngModel",r.password),v(),w("ngIf",r.usuario.categoria==="especialista"||r.usuario.categoria==="paciente"),v(),w("ngIf",r.usuario.categoria==="especialista"),v(),w("ngIf",r.especialidadSeleccionada==="Otro"&&(r.usuario.especialidades==null?null:r.usuario.especialidades.length)===1),v(5),w("ngIf",r.usuario.categoria==="paciente"),v(),w("ngIf",r.errorMsg),v(3),w("ngIf",r.msg))},dependencies:[_e,Oe,Se,ze,er,hn,pn,dn,Ns,fn,Ot,Xn,$r,Ps,Rs,ht,Rn,st],styles:[".registro-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto 40px;padding:30px 40px;background-color:#ffffffe6;border-radius:12px;box-shadow:0 8px 20px #0003;font-family:Segoe UI,sans-serif;color:#333}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:25px;color:#2c3e50}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.form-row[_ngcontent-%COMP%]{display:flex;flex-direction:column}label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:600}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], select[_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{padding:10px;border:1px solid #ccc;border-radius:6px;font-size:15px;transition:border-color .3s ease}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{border-color:#3498db;outline:none}button[type=submit][_ngcontent-%COMP%]{background-color:#3498db;color:#fff;border:none;padding:12px;font-size:16px;border-radius:6px;cursor:pointer;transition:background-color .3s ease}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#2980b9}.form-error[_ngcontent-%COMP%]{color:#e74c3c;font-size:14px;margin-top:-10px;margin-bottom:10px;text-align:center}.form-succes[_ngcontent-%COMP%]{color:#473ce7;font-size:16px;margin-top:10px;margin-bottom:10px;text-align:center}.login-link-container[_ngcontent-%COMP%]{margin-top:10px;text-align:center}.login-link-container[_ngcontent-%COMP%]   .login-link[_ngcontent-%COMP%]{color:#00f;cursor:pointer;text-decoration:underline}.login-link-container[_ngcontent-%COMP%]   .login-link[_ngcontent-%COMP%]:hover{color:#00008b}"]})};var gw=()=>["/home/perfil/disponibilidad"];function rO(e,n){if(e&1&&Ze(0,"img",8),e&2){let t=I(2);w("src",t.getAvatarUrl(t.usuario.url_img2),ll)}}function iO(e,n){if(e&1&&(p(0,"div")(1,"p")(2,"strong"),g(3,"Obra Social:"),h(),g(4),h()()),e&2){let t=I(2);v(4),ye(" ",t.usuario.obra_social||"No especificada","")}}function oO(e,n){if(e&1&&(p(0,"li"),g(1),h()),e&2){let t=n.$implicit;v(),Z(t)}}function sO(e,n){if(e&1&&(p(0,"li"),g(1),h()),e&2){let t=n.$implicit;v(),Eo("",t.dia,": ",t.horas[0]," - ",t.horas[1],"")}}function aO(e,n){if(e&1&&(p(0,"div")(1,"p")(2,"strong"),g(3,"Disponibilidad Horaria:"),h()(),p(4,"ul"),R(5,sO,2,3,"li",9),h(),p(6,"button",10),g(7,"Modificar Horarios"),h()()),e&2){let t=I(3);v(5),w("ngForOf",t.disponibilidad),v(),w("routerLink",Et(2,gw))}}function lO(e,n){e&1&&(p(0,"div")(1,"p"),g(2,"No hay disponibilidad cargada."),h(),p(3,"button",10),g(4,"Cargar Horarios"),h()()),e&2&&(v(3),w("routerLink",Et(1,gw)))}function cO(e,n){if(e&1&&(p(0,"div")(1,"p")(2,"strong"),g(3,"Especialidades:"),h()(),p(4,"ul"),R(5,oO,2,1,"li",9),h(),R(6,aO,8,3,"div",7)(7,lO,5,2,"div",7),h()),e&2){let t=I(2);v(5),w("ngForOf",t.especialidadesDisponibles),v(),w("ngIf",t.disponibilidad.length>0),v(),w("ngIf",t.disponibilidad.length===0)}}function uO(e,n){if(e&1&&(p(0,"div",2)(1,"div",3)(2,"h2"),g(3,"Mi Perfil"),h(),p(4,"div",4),Ze(5,"img",5),R(6,rO,1,1,"img",6),h(),p(7,"p")(8,"strong"),g(9,"Nombre:"),h(),g(10),h(),p(11,"p")(12,"strong"),g(13,"Apellido:"),h(),g(14),h(),p(15,"p")(16,"strong"),g(17,"Edad:"),h(),g(18),h(),p(19,"p")(20,"strong"),g(21,"DNI:"),h(),g(22),h(),R(23,iO,5,1,"div",7)(24,cO,8,3,"div",7),h()()),e&2){let t=I();v(5),w("src",t.getAvatarUrl(t.usuario.url_img1),ll),v(),w("ngIf",t.usuario.categoria==="paciente"&&t.usuario.url_img2),v(4),ye(" ",t.usuario.nombre,""),v(4),ye(" ",t.usuario.apellido,""),v(4),ye(" ",t.usuario.edad,""),v(4),ye(" ",t.usuario.dni,""),v(),w("ngIf",t.usuario.categoria==="paciente"),v(),w("ngIf",t.usuario.categoria==="especialista")}}function dO(e,n){e&1&&(p(0,"div",11),g(1,` Cargando datos del usuario...
`),h())}var Ls=Re(oe.apiUrl,oe.publicAnonKey),ru=class e{constructor(n){this.router=n}usuario=null;diasDeSemana=["Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"];disponibilidad=[];disponibilidadEditable=[];especialidadesDisponibles=[];ngOnInit(){this.getUserData()}getUserData(){Ls.auth.getUser().then(({data:n,error:t})=>{if(t){console.error("Error:",t.message);return}let r=n.user.id;Ls.from("usuarios").select("*").eq("id",r).single().then(({data:i,error:o})=>{if(o){console.error("Error al obtener usuario:",o.message);return}console.log("Data:",i),this.usuario=i,this.usuario?.categoria==="especialista"&&(this.loadDisponibilidad(),this.loadEspecialidades())})})}getAvatarUrl(n){return Ls.storage.from("images").getPublicUrl(n).data.publicUrl}loadDisponibilidad(){if(!this.usuario?.id){console.error("No hay usuario cargado");return}Ls.from("disponibilidad").select("*").eq("especialista_id",this.usuario.id).then(({data:n,error:t})=>{if(t){console.error("Error al cargar disponibilidad:",t.message);return}n&&n.length>0?this.disponibilidad=n.filter(r=>r.hora_inicio&&r.hora_fin).sort((r,i)=>this.diasDeSemana.indexOf(r.dia)-this.diasDeSemana.indexOf(i.dia)).map(r=>({dia:r.dia,horas:[r.hora_inicio,r.hora_fin]})):(this.disponibilidad=[],console.log("El especialista a\xFAn no carg\xF3 disponibilidad."))})}loadEspecialidades(){let n=this.usuario?.especialidades||[];n.length!==0&&Ls.from("especialidades").select("id, nombre").in("id",n).eq("habilitado",!0).then(({data:t,error:r})=>{if(r){console.error("Error obteniendo especialidades:",r.message);return}this.especialidadesDisponibles=(t||[]).map(i=>i.nombre),console.log(this.especialidadesDisponibles)})}static \u0275fac=function(t){return new(t||e)(M(ie))};static \u0275cmp=ae({type:e,selectors:[["app-perfil"]],decls:2,vars:2,consts:[["class","perfil-container",4,"ngIf"],["class","loading-message",4,"ngIf"],[1,"perfil-container"],[1,"perfil-card"],[1,"perfil-img"],["alt","Foto de perfil",3,"src"],["alt","Foto secundaria",3,"src",4,"ngIf"],[4,"ngIf"],["alt","Foto secundaria",3,"src"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"loading-message"]],template:function(t,r){t&1&&R(0,uO,25,8,"div",0)(1,dO,2,0,"div",1),t&2&&(w("ngIf",r.usuario),v(),w("ngIf",!r.usuario))},dependencies:[_e,Oe,Se,ze,st],styles:[".perfil-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;padding:60px 30px;background:linear-gradient(to bottom right,#ecf0f1,#dfe6e9);min-height:calc(100vh - 70px)}.perfil-container[_ngcontent-%COMP%]   .perfil-card[_ngcontent-%COMP%]{background-color:#fff;padding:50px 60px;border-radius:16px;box-shadow:0 10px 25px #00000026;font-family:Segoe UI,sans-serif;color:#2c3e50;max-width:700px;width:100%;text-align:left}.perfil-container[_ngcontent-%COMP%]   .perfil-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:30px;font-weight:700;margin-bottom:30px;color:#3498db}.perfil-container[_ngcontent-%COMP%]   .perfil-card[_ngcontent-%COMP%]   .perfil-img[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:20px;margin-bottom:30px}.perfil-container[_ngcontent-%COMP%]   .perfil-card[_ngcontent-%COMP%]   .perfil-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:130px;height:130px;object-fit:cover;border-radius:50%;border:3px solid #3498db;box-shadow:0 4px 12px #0000001a;transition:transform .3s ease}.perfil-container[_ngcontent-%COMP%]   .perfil-card[_ngcontent-%COMP%]   .perfil-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.perfil-container[_ngcontent-%COMP%]   .perfil-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:17px;margin:10px 0}.perfil-container[_ngcontent-%COMP%]   .perfil-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600;color:#34495e}.perfil-container[_ngcontent-%COMP%]   .perfil-card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px;margin-top:8px}.perfil-container[_ngcontent-%COMP%]   .perfil-card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;color:#555;margin-bottom:4px}.loading-message[_ngcontent-%COMP%]{font-family:Segoe UI,sans-serif;font-size:18px;text-align:center;color:#2c3e50;padding:40px}"]})};function fO(e,n){if(e&1&&(p(0,"option",9),g(1),h()),e&2){let t=n.$implicit;w("value",t),v(),Z(t)}}function hO(e,n){if(e&1&&(p(0,"option",9),g(1),h()),e&2){let t=n.$implicit;w("value",t),v(),Z(t)}}function pO(e,n){if(e&1){let t=de();p(0,"div",5)(1,"label"),g(2),h(),p(3,"select",6),W("ngModelChange",function(i){let o=A(t).$implicit;return K(o.hora_inicio,i)||(o.hora_inicio=i),O(i)}),p(4,"option",7),g(5,"Desde"),h(),R(6,fO,2,2,"option",8),h(),p(7,"select",6),W("ngModelChange",function(i){let o=A(t).$implicit;return K(o.hora_fin,i)||(o.hora_fin=i),O(i)}),p(8,"option",7),g(9,"Hasta"),h(),R(10,hO,2,2,"option",8),h()()}if(e&2){let t=n.$implicit,r=n.index,i=I();v(2),Z(t.dia),v(),wl("name","hora_inicio_",r,""),G("ngModel",t.hora_inicio),v(3),w("ngForOf",i.horariosPorDia[t.dia]),v(),wl("name","hora_fin_",r,""),G("ngModel",t.hora_fin),v(3),w("ngForOf",i.horariosPorDia[t.dia])}}function gO(e,n){if(e&1&&(p(0,"p",10),g(1),h()),e&2){let t=I();v(),Z(t.mensajeError)}}var js=Re(oe.apiUrl,oe.publicAnonKey),iu=class e{constructor(n){this.router=n}usuarioId="";diasDeSemana=["Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"];disponibilidadEditable=[];horariosPorDia={};mensaje="";mensajeError="";ngOnInit(){this.generarHorarios(),js.auth.getUser().then(({data:n,error:t})=>{t||!n.user||(this.usuarioId=n.user.id,js.from("disponibilidad").select("*").eq("especialista_id",this.usuarioId).then(({data:r})=>{!r||r.length===0?this.disponibilidadEditable=this.diasDeSemana.map(i=>({dia:i,hora_inicio:"",hora_fin:""})):this.disponibilidadEditable=this.diasDeSemana.map(i=>{let o=r.find(s=>s.dia===i);return{dia:i,hora_inicio:o?.hora_inicio||"",hora_fin:o?.hora_fin||""}})}))})}guardarDisponibilidad(){this.mensajeError="";for(let t of this.disponibilidadEditable){if(t.hora_inicio&&!t.hora_fin||!t.hora_inicio&&t.hora_fin){this.mensajeError="Debe completar ambos campos para el d\xEDa o dejarlos vac\xEDos.";return}if(t.hora_inicio&&t.hora_fin&&t.hora_inicio>=t.hora_fin){this.mensajeError="La hora de inicio debe ser menor a la hora de fin.";return}}let n=this.disponibilidadEditable.map(t=>({especialista_id:this.usuarioId,dia:t.dia,hora_inicio:t.hora_inicio,hora_fin:t.hora_fin}));n.forEach((t,r)=>{js.from("disponibilidad").select("id").eq("especialista_id",t.especialista_id).eq("dia",t.dia).then(({data:i,error:o})=>{if(o){console.error(`Error consultando disponibilidad para ${t.dia}:`,o.message);return}i&&i.length>0?js.from("disponibilidad").update({hora_inicio:t.hora_inicio,hora_fin:t.hora_fin}).eq("especialista_id",t.especialista_id).eq("dia",t.dia).then(({error:s})=>{s&&console.error(`Error actualizando disponibilidad para ${t.dia}:`,s.message),r===n.length-1&&(this.mensaje="Disponibilidad actualizada.",this.router.navigate(["/home/perfil"]))}):js.from("disponibilidad").insert(t).then(({error:s})=>{s&&console.error(`Error insertando disponibilidad para ${t.dia}:`,s.message),r===n.length-1&&(this.mensaje="Disponibilidad actualizada.",this.router.navigate(["/home/perfil"]))})})})}generarHorarios(){this.horariosPorDia={};for(let n=0;n<this.diasDeSemana.length;n++){let t=this.diasDeSemana[n],r=[],i=t==="Sabado"?14:19;for(let o=8;o<=i;o++){let s=o<10?"0"+o:""+o;r[r.length]=s+":00",o<i&&(r[r.length]=s+":30")}this.horariosPorDia[t]=r}}static \u0275fac=function(t){return new(t||e)(M(ie))};static \u0275cmp=ae({type:e,selectors:[["app-disponibilidad"]],decls:8,vars:2,consts:[[1,"disponibilidad-container"],[3,"ngSubmit"],["class","dia-row",4,"ngFor","ngForOf"],["class","error-msg",4,"ngIf"],["type","submit"],[1,"dia-row"],[3,"ngModelChange","ngModel","name"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"error-msg"]],template:function(t,r){t&1&&(p(0,"div",0)(1,"h2"),g(2,"Configurar Disponibilidad Horaria"),h(),p(3,"form",1),q("ngSubmit",function(){return r.guardarDisponibilidad()}),R(4,pO,11,9,"div",2)(5,gO,2,1,"p",3),p(6,"button",4),g(7,"Guardar Disponibilidad"),h()()()),t&2&&(v(4),w("ngForOf",r.disponibilidadEditable),v(),w("ngIf",r.mensajeError))},dependencies:[_e,Oe,Se,ze,er,hn,pn,fn,Ot,Xn,ht,Rn],styles:[".disponibilidad-container[_ngcontent-%COMP%]{max-width:600px;margin:40px auto;padding:30px 40px;background-color:#fffffff2;border-radius:12px;box-shadow:0 8px 20px #00000026;font-family:Segoe UI,sans-serif;color:#2c3e50}.disponibilidad-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px;font-weight:700;font-size:28px}.disponibilidad-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.disponibilidad-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .dia-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.disponibilidad-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .dia-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex:1 0 120px;font-weight:600;font-size:18px}.disponibilidad-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .dia-row[_ngcontent-%COMP%]   input[type=time][_ngcontent-%COMP%], .disponibilidad-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .dia-row[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{flex:1 1 120px;padding:8px 12px;border:1px solid #bdc3c7;border-radius:8px;font-size:16px;font-family:Segoe UI,sans-serif;transition:border-color .3s;background:#fff;cursor:pointer}.disponibilidad-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .dia-row[_ngcontent-%COMP%]   input[type=time][_ngcontent-%COMP%]:focus, .disponibilidad-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .dia-row[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3498db;box-shadow:0 0 5px #3498db80}.disponibilidad-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{margin-top:20px;padding:12px 0;background-color:#3498db;color:#fff;border:none;border-radius:10px;font-weight:700;font-size:18px;cursor:pointer;transition:background-color .3s}.disponibilidad-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background-color:#2980b9}.error-msg[_ngcontent-%COMP%]{color:#e74c3c;font-weight:600;margin-top:10px;text-align:center;font-family:Segoe UI,sans-serif}"]})};function mO(e,n){if(e&1&&(p(0,"option",11),g(1),h()),e&2){let t=n.$implicit;w("value",t.id),v(),Eo(" ",t.nombre," ",t.apellido," - DNI: ",t.dni," ")}}function vO(e,n){if(e&1){let t=de();p(0,"div")(1,"label",9),g(2,"Paciente:"),h(),p(3,"select",10),W("ngModelChange",function(i){A(t);let o=I(2);return K(o.turno.paciente_id,i)||(o.turno.paciente_id=i),O(i)}),p(4,"option",5),g(5,"Seleccione un paciente"),h(),R(6,mO,2,4,"option",6),h()()}if(e&2){let t=I(2);v(3),G("ngModel",t.turno.paciente_id),v(3),w("ngForOf",t.pacientes)}}function yO(e,n){if(e&1&&(p(0,"option",11),g(1),h()),e&2){let t=n.$implicit;w("value",t),v(),ye(" ",t," ")}}function _O(e,n){e&1&&(p(0,"div",12),g(1," No hay especialistas disponibles para esta especialidad. "),h())}function wO(e,n){if(e&1&&(p(0,"option",11),g(1),h()),e&2){let t=n.$implicit;w("value",t.id),v(),Hn(" ",t.nombre," ",t.apellido," ")}}function bO(e,n){e&1&&(p(0,"div",12),g(1," No hay especialistas disponibles para esta especialidad. "),h())}function CO(e,n){if(e&1){let t=de();p(0,"div")(1,"label",13),g(2,"Especialista:"),h(),p(3,"select",14),W("ngModelChange",function(i){A(t);let o=I(2);return K(o.turno.especialista_id,i)||(o.turno.especialista_id=i),O(i)}),q("change",function(i){A(t);let o=I(2);return O(o.onEspecialistaChange(i.target.value))}),p(4,"option",5),g(5,"Seleccione un especialista"),h(),R(6,wO,2,3,"option",6),h(),R(7,bO,2,0,"div",7),h()}if(e&2){let t=I(2);v(3),G("ngModel",t.turno.especialista_id),v(3),w("ngForOf",t.especialistas),v(),w("ngIf",t.sinEspecialistas)}}function DO(e,n){if(e&1&&(p(0,"option",11),g(1),h()),e&2){let t=n.$implicit;w("value",t.fecha),v(),ye(" ",t.textoVisible," ")}}function EO(e,n){if(e&1&&(p(0,"option",11),g(1),h()),e&2){let t=n.$implicit;w("value",t),v(),Z(t)}}function IO(e,n){if(e&1){let t=de();p(0,"div")(1,"label",15),g(2,"D\xEDa:"),h(),p(3,"select",16),W("ngModelChange",function(i){A(t);let o=I(2);return K(o.diaSeleccionado,i)||(o.diaSeleccionado=i),O(i)}),q("change",function(){A(t);let i=I(2);return O(i.onDiaSeleccionadoChange())}),p(4,"option",5),g(5,"Seleccione un d\xEDa"),h(),R(6,DO,2,2,"option",6),h(),p(7,"label",17),g(8,"Horario:"),h(),p(9,"select",18),W("ngModelChange",function(i){A(t);let o=I(2);return K(o.horaSeleccionada,i)||(o.horaSeleccionada=i),O(i)}),p(10,"option",5),g(11,"Seleccione un horario"),h(),R(12,EO,2,2,"option",6),h()()}if(e&2){let t=I(2);v(3),G("ngModel",t.diaSeleccionado),v(3),w("ngForOf",t.diasDisponibles),v(3),G("ngModel",t.horaSeleccionada),v(3),w("ngForOf",t.getHorariosParaDiaSeleccionado())}}function SO(e,n){if(e&1){let t=de();p(0,"div",1)(1,"h2"),g(2,"Solicitar Turno"),h(),R(3,vO,7,2,"div",2),p(4,"div")(5,"label",3),g(6,"Especialidad:"),h(),p(7,"select",4),q("change",function(i){A(t);let o=I();return O(o.onEspecialidadChange(i.target.value))}),p(8,"option",5),g(9,"Seleccione una especialidad"),h(),R(10,yO,2,2,"option",6),h(),R(11,_O,2,0,"div",7),h(),R(12,CO,8,3,"div",2)(13,IO,13,4,"div",2),p(14,"button",8),q("click",function(){A(t);let i=I();return O(i.crearTurno())}),g(15,"Confirmar Turno"),h()()}if(e&2){let t=I();v(3),w("ngIf",t.esAdmin()),v(7),w("ngForOf",t.especialidadesDisponibles),v(),w("ngIf",t.sinEspecialistas),v(),w("ngIf",t.especialistas.length>0),v(),w("ngIf",t.diasDisponibles.length>0||t.cargaDisponibilidad)}}var Pn=Re(oe.apiUrl,oe.publicAnonKey),ou=class e{constructor(n){this.router=n}usuario=null;turno={paciente_id:"",especialista_id:"",especialidad:"",fecha:""};pacientes=[];especialistas=[];especialidadesDisponibles=[];cargaDisponibilidad=!1;diasDisponibles=[];horasDisponibles={};fechasPosibles=[];diaSeleccionado="";horaSeleccionada="";sinEspecialistas=!1;sinDisponibilidadHoraria=!1;ngOnInit(){this.getUserData(),this.loadEspecialidades()}getUserData(){Pn.auth.getUser().then(({data:n,error:t})=>{if(t){console.error("Error:",t.message);return}let r=n.user.id;Pn.from("usuarios").select("*").eq("id",r).single().then(({data:i,error:o})=>{if(o){console.error("Error al obtener usuario:",o.message);return}console.log("Data:",i),this.usuario=i,this.esAdmin()&&this.loadPacientes()})})}esAdmin(){return this.usuario?.categoria==="administrador"}loadPacientes(){this.usuario?.id&&Pn.from("usuarios").select("id, nombre, apellido, dni").eq("categoria","paciente").then(({data:n,error:t})=>{if(t){console.error("Error obteniendo pacientes:",t.message);return}this.pacientes=n||[],console.log(this.especialistas)})}loadEspecialidades(){Pn.from("especialidades").select("id, nombre").eq("habilitado",!0).then(({data:n,error:t})=>{if(t){console.error("Error obteniendo especialidades:",t.message);return}this.especialidadesDisponibles=(n||[]).map(r=>r.nombre),console.log(this.especialidadesDisponibles)})}loadEspecialistas(n){if(!n){this.especialistas=[],this.sinEspecialistas=!1;return}Pn.from("especialidades").select("id").eq("nombre",n).single().then(({data:t,error:r})=>{if(r||!t){console.error("Error obteniendo ID de la especialidad:",r?.message);return}Pn.from("usuarios").select("id, nombre, apellido").contains("especialidades",[t.id]).eq("categoria","especialista").eq("habilitado",!0).then(({data:i,error:o})=>{if(o){console.error("Error cargando especialistas:",o.message);return}console.log("Especialistas:",i),this.especialistas=i,this.sinEspecialistas=this.especialistas.length===0,this.sinDisponibilidadHoraria=!1})})}loadDisponibilidad(n){this.cargaDisponibilidad=!0,Pn.from("disponibilidad").select("dia, hora_inicio, hora_fin").eq("especialista_id",n).then(({data:t,error:r})=>{if(r||!t||t.length===0){console.error("Error cargando disponibilidad:",r?.message),this.diasDisponibles=[],this.horasDisponibles={},this.sinDisponibilidadHoraria=!0;return}this.sinDisponibilidadHoraria=!1;let i=this.getFechasProximas(15),o=t,s=i.filter(l=>{let c=this.obtenerNombreDia(l).toLowerCase().trim(),u=o.find(d=>d.dia.toLowerCase().trim()===c);return!(!u||!u.hora_inicio||!u.hora_fin||u.hora_inicio===u.hora_fin)});if(s.length===0){this.diasDisponibles=[],this.horasDisponibles={},this.sinDisponibilidadHoraria=!0;return}let a=s.map(l=>l.toISOString().split("T")[0]);Pn.from("turnos").select("fecha").eq("especialista_id",n).gte("fecha",a[0]+"T00:00:00").lte("fecha",a[a.length-1]+"T23:59:59").then(({data:l,error:c})=>{c&&console.error("Error obteniendo turnos ocupados:",c.message);let u={},d=[];s.forEach(m=>{let f=m.toISOString().split("T")[0],_=this.obtenerNombreDia(m).toLowerCase().trim(),b=o.find(fe=>fe.dia.toLowerCase().trim()===_);if(!b)return;let E=(l||[]).filter(fe=>new Date(fe.fecha).toISOString().split("T")[0]===f).map(fe=>{let ve=new Date(fe.fecha),P=ve.getHours().toString().padStart(2,"0"),ce=ve.getMinutes().toString().padStart(2,"0");return`${P}:${ce}`}),x=this.generarHorarios(b.hora_inicio,b.hora_fin,E);x.length>0&&(d.push({fecha:f,textoVisible:`${this.obtenerNombreDia(m)} (${m.toLocaleDateString()})`}),u[f]=x)}),this.diasDisponibles=d,this.horasDisponibles=u,this.diaSeleccionado="",this.horaSeleccionada="",this.cargaDisponibilidad=!0})})}generarFechasPosibles(){let n=new Date;this.diasDisponibles=[];for(let t=0;t<15;t++){let r=new Date;r.setDate(n.getDate()+t);let i=this.obtenerNombreDia(r);(this.horasDisponibles[t]?i:null)&&Object.keys(this.horasDisponibles).length>0&&this.diasDisponibles.push({fecha:r.toISOString().split("T")[0],textoVisible:`${i} (${r.toLocaleDateString()})`})}}getHorariosParaDiaSeleccionado(){return this.horasDisponibles[this.diaSeleccionado]||[]}obtenerNombreDia(n){return["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"][n.getDay()]}crearTurno(){let n=this.esAdmin()?this.turno?.paciente_id:this.usuario?.id;if(!n||!this.turno?.especialista_id||!this.turno?.especialidad||!this.diaSeleccionado||!this.horaSeleccionada){console.error("Faltan datos para generar el turno");return}Pn.from("turnos").insert([{paciente_id:n,especialista_id:this.turno.especialista_id,especialidad:this.turno.especialidad,fecha:`${this.diaSeleccionado}T${this.horaSeleccionada}:00`,estado:"pendiente"}]).then(({data:t,error:r})=>{if(r){console.error("Error al crear turno:",r.message);return}console.log("Turno creado:",t),this.router.navigate(["/home"])})}onEspecialidadChange(n){this.turno.especialidad=n,this.turno.especialista_id="",this.diaSeleccionado="",this.horaSeleccionada="",this.especialistas=[],this.diasDisponibles=[],this.horasDisponibles={},this.loadEspecialistas(n)}onEspecialistaChange(n){this.turno.especialista_id=n,this.diaSeleccionado="",this.horaSeleccionada="",this.diasDisponibles=[],this.horasDisponibles={},this.loadDisponibilidad(n)}onDiaSeleccionadoChange(){this.horaSeleccionada=""}getFechasProximas(n){let t=[],r=new Date;for(let i=0;i<n;i++){let o=new Date(r);o.setDate(r.getDate()+i),o.setHours(0,0,0,0),t.push(o)}return t}generarHorarios(n,t,r){let i=[],[o,s]=n.split(":").map(Number),[a,l]=t.split(":").map(Number);for(;o<a||o===a&&s<l;){let c=`${o.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`;r.includes(c)||i.push(c),s+=30,s>=60&&(o+=1,s=0)}return i}static \u0275fac=function(t){return new(t||e)(M(ie))};static \u0275cmp=ae({type:e,selectors:[["app-solicitar-turno"]],decls:1,vars:1,consts:[["class","solicitar-turno-container",4,"ngIf"],[1,"solicitar-turno-container"],[4,"ngIf"],["for","especialidad"],["id","especialidad","name","especialidad",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","mensaje-error",4,"ngIf"],[3,"click"],["for","paciente"],["id","paciente","name","paciente",3,"ngModelChange","ngModel"],[3,"value"],[1,"mensaje-error"],["for","especialista"],["id","especialista","name","especialista",3,"ngModelChange","change","ngModel"],["for","fecha"],["id","fecha","name","fecha",3,"ngModelChange","change","ngModel"],["for","hora"],["id","hora","name","hora",3,"ngModelChange","ngModel"]],template:function(t,r){t&1&&R(0,SO,16,5,"div",0),t&2&&w("ngIf",r.usuario)},dependencies:[_e,Oe,Se,ze,hn,pn,fn,Ot,ht],styles:[".solicitar-turno-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto 40px;padding:30px 40px;background-color:#ffffffe6;border-radius:12px;box-shadow:0 8px 20px #0003;font-family:Segoe UI,sans-serif;color:#333}.solicitar-turno-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:25px;color:#2c3e50}.solicitar-turno-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:600}.solicitar-turno-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .solicitar-turno-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .solicitar-turno-container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .solicitar-turno-container[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .solicitar-turno-container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:6px;font-size:15px;transition:border-color .3s ease;margin-bottom:20px}.solicitar-turno-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .solicitar-turno-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .solicitar-turno-container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus, .solicitar-turno-container[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]:focus, .solicitar-turno-container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus{border-color:#3498db;outline:none}.solicitar-turno-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;background-color:#3498db;color:#fff;border:none;padding:12px;font-size:16px;border-radius:6px;cursor:pointer;transition:background-color .3s ease}.solicitar-turno-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#2980b9}.mensaje-error[_ngcontent-%COMP%]{color:#e74c3c;font-weight:600;margin-top:8px}"]})};function MO(e,n){if(e&1&&Ze(0,"option",7),e&2){let t=n.$implicit;w("value",t)}}function xO(e,n){if(e&1&&Ze(0,"option",7),e&2){let t=n.$implicit;w("value",t.nombre+" "+t.apellido)}}function TO(e,n){if(e&1){let t=de();p(0,"div")(1,"input",9),W("ngModelChange",function(i){A(t);let o=I().$implicit,s=I();return K(s.comentariosAdmin[o.id],i)||(s.comentariosAdmin[o.id]=i),O(i)}),h(),p(2,"button",10),q("click",function(){A(t);let i=I().$implicit,o=I();return O(o.cancelarTurno(i.id,o.comentariosAdmin[i.id]))}),g(3,"Cancelar"),h()()}if(e&2){let t=I().$implicit,r=I();v(),G("ngModel",r.comentariosAdmin[t.id])}}function AO(e,n){if(e&1&&(p(0,"tr")(1,"td"),g(2),Si(3,"date"),h(),p(4,"td"),g(5),Si(6,"date"),h(),p(7,"td"),g(8),h(),p(9,"td"),g(10),h(),p(11,"td"),g(12),h(),p(13,"td"),g(14),h(),p(15,"td"),R(16,TO,4,1,"div",8),h()()),e&2){let t=n.$implicit;v(2),Z(Mi(3,7,t.fecha,"shortDate")),v(3),Z(Mi(6,10,t.fecha,"shortTime")),v(3),Z(t.especialidad),v(2),Z(t.paciente_nombre),v(2),Z(t.especialista_nombre),v(2),Z(t.estado),v(2),w("ngIf",t.estado!=="aceptado"&&t.estado!=="realizado"&&t.estado!=="rechazado"&&t.estado!=="cancelado")}}var tr=Re(oe.apiUrl,oe.publicAnonKey),su=class e{constructor(n){this.router=n}usuario=null;turnos=[];especialistas=[];especialidades=[];sinEspecialistas=!1;filtroEspecialista="";filtroEspecialidad="";filtroEspecialistaNombre="";msgCancelarTurno="";comentariosAdmin={};ngOnInit(){this.getUserData(),this.loadEspecialidades(),this.loadEspecialistas(),this.loadTurnos()}getUserData(){tr.auth.getUser().then(({data:n,error:t})=>{if(t){console.error("Error:",t.message);return}let r=n.user.id;tr.from("usuarios").select("*").eq("id",r).single().then(({data:i,error:o})=>{if(o){console.error("Error al obtener usuario:",o.message);return}console.log("Data:",i),this.usuario=i})})}loadEspecialidades(){tr.from("especialidades").select("id, nombre").eq("habilitado",!0).then(({data:n,error:t})=>{if(t){console.error("Error obteniendo especialidades:",t.message);return}this.especialidades=(n||[]).map(r=>r.nombre),console.log(this.especialidades)})}loadEspecialistas(){tr.from("usuarios").select("id, nombre, apellido").eq("habilitado",!0).eq("categoria","especialista").then(({data:n,error:t})=>{if(t){console.error("Error obteniendo especialistas:",t.message);return}this.especialistas=n||[],console.log(this.especialistas)})}loadEspecialistasEspecialidad(n){if(!n){this.especialistas=[],this.sinEspecialistas=!1;return}tr.from("especialidades").select("id").eq("nombre",n).single().then(({data:t,error:r})=>{if(r||!t){console.error("Error obteniendo ID de la especialidad:",r?.message);return}tr.from("usuarios").select("id, nombre, apellido").contains("especialidades",[t.id]).eq("categoria","especialista").eq("habilitado",!0).then(({data:i,error:o})=>{if(o){console.error("Error cargando especialistas:",o.message);return}console.log("Especialistas:",i),this.especialistas=i||[],this.sinEspecialistas=this.especialistas.length===0})})}loadTurnos(){let n={};this.filtroEspecialista&&(n.especialista_id=this.filtroEspecialista),this.filtroEspecialidad&&(n.especialidad=this.filtroEspecialidad),tr.from("turnos").select(`
        id,
        fecha,
        especialidad,
        estado,
        paciente_id,
        especialista_id,
        paciente:paciente_id ( nombre, apellido ),
        especialista:especialista_id ( nombre, apellido )
      `).match(n).order("fecha",{ascending:!0}).then(({data:t,error:r})=>{if(r){console.error("Error cargando turnos:",r.message),this.turnos=[];return}if(!t||t.length===0){this.turnos=[];return}this.turnos=t.map(i=>$(D({},i),{paciente:i.paciente||{nombre:"Paciente",apellido:""},especialista:i.especialista||{nombre:"Especialista",apellido:""},paciente_nombre:i.paciente?`${i.paciente.nombre} ${i.paciente.apellido}`:"Paciente",especialista_nombre:i.especialista?`${i.especialista.nombre} ${i.especialista.apellido}`:"Especialista"}))})}cancelarTurno(n,t){if(this.msgCancelarTurno="",!t){this.msgCancelarTurno="Debe ingresar un comentario para cancelar el turno";return}tr.from("turnos").update({estado:"cancelado",comentario:t}).eq("id",n).then(({error:r})=>{if(r){console.error("Error cancelando turno:",r.message);return}this.loadTurnos(),this.msgCancelarTurno=""})}onFiltroEspecialidadChange(n){this.filtroEspecialidad=n,n?(this.filtroEspecialista="",this.filtroEspecialistaNombre="",this.loadEspecialistasEspecialidad(n)):(this.filtroEspecialista="",this.filtroEspecialistaNombre="",this.loadEspecialistas()),this.loadTurnos()}onFiltroEspecialistaChange(n){this.filtroEspecialistaNombre=n;let t=this.especialistas.find(r=>`${r.nombre} ${r.apellido}`.toLowerCase()===n.toLowerCase());t?this.filtroEspecialista=t.id:this.filtroEspecialista="",this.loadTurnos()}static \u0275fac=function(t){return new(t||e)(M(ie))};static \u0275cmp=ae({type:e,selectors:[["app-turnos"]],decls:33,vars:5,consts:[[1,"turnos-container"],["list","especialidades",3,"ngModelChange","change","ngModel"],["id","especialidades"],[3,"value",4,"ngFor","ngForOf"],["list","especialistas",3,"ngModelChange","change","ngModel"],["id","especialistas"],[4,"ngFor","ngForOf"],[3,"value"],[4,"ngIf"],["type","text","placeholder","Comentario",3,"ngModelChange","ngModel"],[3,"click"]],template:function(t,r){t&1&&(p(0,"div",0)(1,"h2"),g(2,"Turnos de la cl\xEDnica"),h(),p(3,"div")(4,"label"),g(5,"Especialidad:"),h(),p(6,"input",1),W("ngModelChange",function(o){return K(r.filtroEspecialidad,o)||(r.filtroEspecialidad=o),o}),q("change",function(){return r.onFiltroEspecialidadChange(r.filtroEspecialidad)}),h(),p(7,"datalist",2),R(8,MO,1,1,"option",3),h(),p(9,"label"),g(10,"Especialista:"),h(),p(11,"input",4),W("ngModelChange",function(o){return K(r.filtroEspecialistaNombre,o)||(r.filtroEspecialistaNombre=o),o}),q("change",function(){return r.onFiltroEspecialistaChange(r.filtroEspecialistaNombre)}),h(),p(12,"datalist",5),R(13,xO,1,1,"option",3),h()(),p(14,"table")(15,"thead")(16,"tr")(17,"th"),g(18,"Fecha"),h(),p(19,"th"),g(20,"Hora"),h(),p(21,"th"),g(22,"Especialidad"),h(),p(23,"th"),g(24,"Paciente"),h(),p(25,"th"),g(26,"Especialista"),h(),p(27,"th"),g(28,"Estado"),h(),p(29,"th"),g(30,"Acciones"),h()()(),p(31,"tbody"),R(32,AO,17,13,"tr",6),h()()()),t&2&&(v(6),G("ngModel",r.filtroEspecialidad),v(2),w("ngForOf",r.especialidades),v(3),G("ngModel",r.filtroEspecialistaNombre),v(2),w("ngForOf",r.especialistas),v(19),w("ngForOf",r.turnos))},dependencies:[_e,Oe,Se,No,ze,hn,pn,dn,Ot,ht],styles:[".turnos-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto 40px;padding:30px 40px;background-color:#ffffffe6;border-radius:12px;box-shadow:0 8px 20px #0003;font-family:Segoe UI,sans-serif;color:#333}.turnos-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:25px;color:#2c3e50}.turnos-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{display:flex;gap:20px;margin-bottom:30px;justify-content:center}.turnos-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child   label[_ngcontent-%COMP%]{font-weight:600;margin-right:6px;align-self:center}.turnos-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child   input[type=text][_ngcontent-%COMP%]{flex:1;max-width:200px;padding:8px 10px;border-radius:6px;border:1px solid #ccc;font-size:14px;transition:border-color .3s ease}.turnos-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child   input[type=text][_ngcontent-%COMP%]:focus{border-color:#3498db;outline:none}.turnos-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px}.turnos-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#3498db;color:#fff}.turnos-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px;text-align:left;font-weight:600}.turnos-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}.turnos-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f9ff}.turnos-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;vertical-align:middle}.turnos-container[_ngcontent-%COMP%]   .no-turnos-message[_ngcontent-%COMP%]{text-align:center;font-size:16px;color:#666;margin-top:20px}.turnos-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;border:none;padding:6px 12px;border-radius:6px;cursor:pointer;font-size:14px;transition:background-color .3s ease}.turnos-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#2980b9}.turnos-container[_ngcontent-%COMP%]   input[placeholder=Comentario][_ngcontent-%COMP%]{padding:6px 8px;border-radius:6px;border:1px solid #ccc;margin-right:8px;font-size:14px;width:160px}.turnos-container[_ngcontent-%COMP%]   input[placeholder=Comentario][_ngcontent-%COMP%]:focus{border-color:#3498db;outline:none}"]})};function OO(e,n){if(e&1&&(yl(0),g(1),_l()),e&2){let t=I().$implicit;v(),Hn(" ",t.especialista==null?null:t.especialista.nombre," ",t.especialista==null?null:t.especialista.apellido," ")}}function NO(e,n){if(e&1&&(yl(0),g(1),_l()),e&2){let t=I().$implicit;v(),Hn(" ",t.paciente==null?null:t.paciente.nombre," ",t.paciente==null?null:t.paciente.apellido," ")}}function RO(e,n){if(e&1&&(p(0,"tr")(1,"td"),g(2),Si(3,"date"),h(),p(4,"td"),g(5),Si(6,"date"),h(),p(7,"td"),R(8,OO,2,2,"ng-container",2)(9,NO,2,2,"ng-container",2),h(),p(10,"td"),g(11),h()()),e&2){let t=n.$implicit,r=I();v(2),Z(Mi(3,5,t.fecha,"shortDate")),v(3),Z(Mi(6,8,t.fecha,"shortTime")),v(3),w("ngIf",(r.usuario==null?null:r.usuario.categoria)==="paciente"),v(),w("ngIf",(r.usuario==null?null:r.usuario.categoria)==="especialista"),v(2),Z(t.estado)}}var lp=Re(oe.apiUrl,oe.publicAnonKey),au=class e{constructor(n){this.router=n}usuario=null;turnos=[];ngOnInit(){this.getUserData()}getUserData(){lp.auth.getUser().then(({data:n,error:t})=>{if(t){console.error("Error:",t.message);return}let r=n.user.id;lp.from("usuarios").select("*").eq("id",r).single().then(({data:i,error:o})=>{if(o){console.error("Error al obtener usuario:",o.message);return}console.log("Data:",i),this.usuario=i})})}loadTurnos(){this.usuario?.id&&lp.from("turnos").select(`
        *,
        paciente:paciente_id ( nombre, apellido ),
        especialista:especialista_id ( nombre, apellido )
      `).or(`paciente_id.eq.${this.usuario.id},especialista_id.eq.${this.usuario.id}`).order("fecha",{ascending:!0}).then(({data:n,error:t})=>{if(t){console.error("Error cargando turnos:",t.message),this.turnos=[];return}this.turnos=n.map(r=>$(D({},r),{paciente:r.paciente||{nombre:"Paciente",apellido:""},especialista:r.especialista||{nombre:"Especialista",apellido:""}}))})}static \u0275fac=function(t){return new(t||e)(M(ie))};static \u0275cmp=ae({type:e,selectors:[["app-mis-turnos"]],decls:16,vars:1,consts:[[1,"mis-turnos-container"],[4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(t,r){t&1&&(p(0,"div",0)(1,"h2"),g(2,"Mis Turnos"),h(),p(3,"table")(4,"thead")(5,"tr")(6,"th"),g(7,"Fecha"),h(),p(8,"th"),g(9,"Hora"),h(),p(10,"th"),g(11,"Nombre"),h(),p(12,"th"),g(13,"Estado"),h()()(),p(14,"tbody"),R(15,RO,12,11,"tr",1),h()()()),t&2&&(v(15),w("ngForOf",r.turnos))},dependencies:[_e,Oe,Se,No,ze],styles:[".mis-turnos-container[_ngcontent-%COMP%]{max-width:900px;margin:30px auto;padding:20px 30px;background-color:#fff;border-radius:10px;box-shadow:0 4px 12px #0000001a}.mis-turnos-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#2c3e50;margin-bottom:20px}.mis-turnos-container[_ngcontent-%COMP%]   .filtros[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:20px;align-items:center}.mis-turnos-container[_ngcontent-%COMP%]   .filtros[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}.mis-turnos-container[_ngcontent-%COMP%]   .filtros[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:6px 10px;border:1px solid #ccc;border-radius:6px}.mis-turnos-container[_ngcontent-%COMP%]   .filtros[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3498db}.mis-turnos-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.mis-turnos-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .mis-turnos-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;text-align:left}.mis-turnos-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#3498db;color:#fff}.mis-turnos-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}.mis-turnos-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#eef6fb}.mis-turnos-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:4px;margin-right:4px;padding:5px 10px;background-color:#3498db;color:#fff;border:none;border-radius:5px;font-size:13px;cursor:pointer}.mis-turnos-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#2980b9}.mis-turnos-container[_ngcontent-%COMP%]   .no-turnos[_ngcontent-%COMP%]{text-align:center;font-style:italic;color:#666;margin-top:20px}"]})};var mw=[{path:"",pathMatch:"full",redirectTo:"bienvenida"},{path:"bienvenida",component:eu},{path:"home",component:Bc,children:[{path:"usuarios",component:tu},{path:"generar-usuario",component:nu},{path:"perfil",component:ru},{path:"perfil/disponibilidad",component:iu},{path:"solicitar-turno",component:ou},{path:"turnos",component:su},{path:"mis-turnos",component:au}]},{path:"login",component:Xc},{path:"register",component:Jc},{path:"**",component:$c}];var vw={providers:[Zv({eventCoalescing:!0}),Eh(mw)]};var lu=class e{title="clinica";static \u0275fac=function(t){return new(t||e)};static \u0275cmp=ae({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&Ze(0,"router-outlet")},dependencies:[Mr],styles:["[_nghost-%COMP%]{display:block;min-height:100vh;background-image:url(/assets/fondo.png);background-size:cover;background-position:center;background-repeat:no-repeat;background-attachment:fixed}"]})};Yf(lu,vw).catch(e=>console.error(e));
